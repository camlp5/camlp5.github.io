%!PS-Adobe-2.0
%%Creator: dvips(k) 5.92b Copyright 2002 Radical Eye Software
%%Title: camlp5-5.08.dvi
%%Pages: 224
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: CMR17 CMR12 CMR10 CMSY10 CMBX12 CMBX10 CMTT10 CMTI10
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -f- camlp5-5.08.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2008.02.20:1211
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: f7b6d320.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmb10 cmbx10 cmbx12 cmbx5 cmbx6 cmbx7 cmbx8 cmbx9 cmbxsl10
%     cmdunh10 cmr10 cmr12 cmr17cmr6 cmr7 cmr8 cmr9 cmsl10 cmsl12 cmsl8
%     cmsl9 cmss10cmss12 cmss17 cmss8 cmss9 cmssbx10 cmssdc10 cmssi10
%     cmssi12 cmssi17 cmssi8cmssi9 cmssq8 cmssqi8 cmvtt10
%
/TeXf7b6d320Encoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute /caron /breve
/macron /ring /cedilla /germandbls /ae /oe /oslash /AE /OE /Oslash
/suppress /exclam /quotedblright /numbersign /dollar /percent /ampersand
/quoteright /parenleft /parenright /asterisk /plus /comma /hyphen
/period /slash /zero /one /two /three /four /five /six /seven /eight
/nine /colon /semicolon /exclamdown /equal /questiondown /question /at
/A /B /C /D /E /F /G /H /I /J /K /L /M /N /O /P /Q /R /S /T /U /V /W /X
/Y /Z /bracketleft /quotedblleft /bracketright /circumflex /dotaccent
/quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p /q /r /s /t /u
/v /w /x /y /z /endash /emdash /hungarumlaut /tilde /dieresis /suppress
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /space
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /.notdef
/.notdef /Omega /ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute
/caron /breve /macron /ring /cedilla /germandbls /ae /oe /oslash /AE
/OE /Oslash /suppress /dieresis /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: bbad153f.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmsy10 cmsy5 cmsy6 cmsy7 cmsy8 cmsy9
%
/TeXbbad153fEncoding [
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /circlemultiply
/circledivide /circledot /circlecopyrt /openbullet /bullet
/equivasymptotic /equivalence /reflexsubset /reflexsuperset /lessequal
/greaterequal /precedesequal /followsequal /similar /approxequal
/propersubset /propersuperset /lessmuch /greatermuch /precedes /follows
/arrowleft /arrowright /arrowup /arrowdown /arrowboth /arrownortheast
/arrowsoutheast /similarequal /arrowdblleft /arrowdblright /arrowdblup
/arrowdbldown /arrowdblboth /arrownorthwest /arrowsouthwest /proportional
/prime /infinity /element /owner /triangle /triangleinv /negationslash
/mapsto /universal /existential /logicalnot /emptyset /Rfractur /Ifractur
/latticetop /perpendicular /aleph /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /union /intersection
/unionmulti /logicaland /logicalor /turnstileleft /turnstileright
/floorleft /floorright /ceilingleft /ceilingright /braceleft /braceright
/angbracketleft /angbracketright /bar /bardbl /arrowbothv /arrowdblbothv
/backslash /wreathproduct /radical /coproduct /nabla /integral
/unionsq /intersectionsq /subsetsqequal /supersetsqequal /section
/dagger /daggerdbl /paragraph /club /diamond /heart /spade /arrowleft
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /.notdef /.notdef
/circlemultiply /circledivide /circledot /circlecopyrt /openbullet
/bullet /equivasymptotic /equivalence /reflexsubset /reflexsuperset
/lessequal /greaterequal /precedesequal /followsequal /similar
/approxequal /propersubset /propersuperset /lessmuch /greatermuch
/precedes /follows /arrowleft /spade /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: 09fbbfac.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmsltt10 cmtt10 cmtt12 cmtt8 cmtt9
/TeX09fbbfacEncoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi
/Omega /arrowup /arrowdown /quotesingle /exclamdown /questiondown
/dotlessi /dotlessj /grave /acute /caron /breve /macron /ring /cedilla
/germandbls /ae /oe /oslash /AE /OE /Oslash /visiblespace /exclam
/quotedbl /numbersign /dollar /percent /ampersand /quoteright /parenleft
/parenright /asterisk /plus /comma /hyphen /period /slash /zero /one
/two /three /four /five /six /seven /eight /nine /colon /semicolon /less
/equal /greater /question /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N
/O /P /Q /R /S /T /U /V /W /X /Y /Z /bracketleft /backslash /bracketright
/asciicircum /underscore /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l
/m /n /o /p /q /r /s /t /u /v /w /x /y /z /braceleft /bar /braceright
/asciitilde /dieresis /visiblespace /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /space /Gamma /Delta /Theta /Lambda /Xi /Pi
/Sigma /Upsilon /Phi /Psi /.notdef /.notdef /Omega /arrowup /arrowdown
/quotesingle /exclamdown /questiondown /dotlessi /dotlessj /grave /acute
/caron /breve /macron /ring /cedilla /germandbls /ae /oe /oslash /AE
/OE /Oslash /visiblespace /dieresis /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: 74afc74c.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmbxti10 cmff10 cmfi10 cmfib8 cmti10 cmti12 cmti7 cmti8cmti9 cmu10
%
/TeX74afc74cEncoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute /caron /breve
/macron /ring /cedilla /germandbls /ae /oe /oslash /AE /OE /Oslash
/suppress /exclam /quotedblright /numbersign /sterling /percent
/ampersand /quoteright /parenleft /parenright /asterisk /plus /comma
/hyphen /period /slash /zero /one /two /three /four /five /six /seven
/eight /nine /colon /semicolon /exclamdown /equal /questiondown /question
/at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O /P /Q /R /S /T /U /V /W
/X /Y /Z /bracketleft /quotedblleft /bracketright /circumflex /dotaccent
/quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p /q /r /s /t /u
/v /w /x /y /z /endash /emdash /hungarumlaut /tilde /dieresis /suppress
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /space
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /.notdef
/.notdef /Omega /ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute
/caron /breve /macron /ring /cedilla /germandbls /ae /oe /oslash /AE
/OE /Oslash /suppress /dieresis /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMTI10
%!PS-AdobeFont-1.1: CMTI10 1.00B
%%CreationDate: 1992 Feb 19 19:56:16
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMTI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMTI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-163 -250 1146 969}readonly def
/UniqueID 5000828 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E3948FFB0B4E70F212EC976D65099D84E0D37A7A771C3101D6AD26A0513378F
21EC3643079EECE0C9AB54B4772E5DCA82D0D4ACC7F42FB493AA04A3BF4A1BD6
06ECE186315DBE9CFDCB1A0303E8D3E83027CD3AFA8F0BD466A8E8CA0E7164CF
55B332FAD43482748DD4A1CB3F40CB1F5E67192B8216A0D8FE30F9F05BF016F5
B5CC130A4B0796EE065495422FBA55BEE9BFD99D04464D987AC4D237C208FA86
0B112E55CE7B3782A34BC22E3DE31755D9AFF19E490C8E43B85E17ECE87FA8B9
1485831624D24F37C39BF9972D74E6EC4784727AC00B9C4A3AD3DA1C22BD6961
7E0ADAF55422F22ACA5E4DCD4DF9FCD187A566B7FB661D0530454D0DD6C6C50A
7A3875C6CBF8EC7769F32A1F3F7FC1C072BADEC97794D4E90E0035282A170402
356E5A9CD9ABD80AC4342A5283E458A7269252F4541CBB6452B39ED54D336D0B
19928E9CD1AB26AD83EB209E2EC75011A2643813053B5DBB0246097C4821B5F2
C92554E9140BE35B2DBFCD98809A8EC9FC910FDE9E0D86457C70ACB056EBF90F
244DC0A5BBD455E15D6E3180311D52CF50B0BF7D0A7F64F3A1821E0AEDBC2E7B
AEB549FE1D51088C153799C6E089B5D5D65E1C4E2D2B430CDF1FFA23CCB25D95
5C4DD885310A706B320AB25C8D742C6F29953254FA54DAAEE60ED477877D19BC
D28E9AB576B0EA088171FD000B60D73B3C57F754BC07EBC9BF751B7D2B32459D
993861B7C4B0D98C422A11BECEF76F4EFC0ECAEE89723E6CED53E3678D733363
2DF068AEF0FE7DFB57393BDAA439A6A4C396F86032A98009EAE1247B7DE83B3B
E46DF2898598FF5E6CA6953127432A967E4FD41CDD60D6E413059A58FA556EF3
309178B57C16A763CFC9BEEC276944BDEA255789EF4E1ECDE1EA43EEDB955513
F42EDDCF39AE522A1DC2D80B2772B05DA60F3DC15A815A6BAFEDC399C7956E75
3851CB3588E22936FBFB63A58300298B11C45D82385C083D07AF133BB1BC941A
FDD9F34D5E0B8087EF2A58C54D8AB7580EE3ED58AEB83B72CB9028F472ADBF11
05A77651F118824F6CD00209EFB60C1D32D46A78E8C8DCB8B0E742828E3B7D17
DF5200D68189C91FB8489CDEE8BC223C4281DDCA5F7DA80BD5C2D66A14695EA1
5F05E03500579ADD440ED2C57F535807560C6FE3873143D792734FEAB93AE8DD
633BA6FC5683083402BF086D23594AAC84A4868AFAA32AFBDF86142B350F8F62
E2531321E4CCF34293024EF8AB617BAB11A3A5EDA03CAC5AC431C893607DF8E5
C3DC8646027A7554625A16FD184A70DB5FE6DCEA366B64430A147144CC9839F5
72829FFA42BC3A8406D680E44A0305C9C9E265E91AE82EDF30F73730DCD4AA29
CDC982495C6D877EB1F3F645BE0CCC9D1CDE476A0CC4AF9356F39EAE8694A1AD
0E3196FC8B2519A3E31AE9651FDCBD3A62E5D30A48260EFAE714679C3262C777
71A363F286AB2D4A1926AE8D20A21E9D4F4D2DEC1F8D9CCB7C340F727FA3DA96
DF60DA874F595FAF3C4048EBC201055FEF847345E7F618FA415A048640BF88A8
1F16B0F26E107DB17E11A0F49F3CDC168196C044B1C3E60EF9B46838210EDFE8
A4E3DDBC4364A2766F9E6E4EA7BFD178C46D941214391DAACC972E7E5552DB68
CC73DF1060CF731BC075FA9E21156B5251B646A4FD48858666C6FA09E9CB352C
597412E33CAC06D51E8E6B4257BADFFFA46AC613017C2E9C7181F325148ACC3B
0F3560166D41DA34FCC1A193F94E4A3F8641502F93351413AB8AE233C9D983EF
AA7507A0E40AD87B156616E9CDBC84090B37104439957195803A8E66FDB2AF1B
8CD9BC81A4D6EDE3C083BB33B371D487A654E7FC147D84492BCB8A7A0AE7540B
2C38519CB75A0A3616409A8A21844555EF3C798E42CFD64A7F5743F1F5B53DA3
DC7958FC0A27C75D958342DDA4ABF81CC9D72E231FA47EEBE2BAB845456B1E67
6917D6492CB1076D1DD40A3A555CA9A9A305D72C6E9314483307CD90EBF2FD7C
88A312191A1CB2DAAC6B606617C1D03BB9C62B9BC7B5AC1DFCC22A720F89EAE1
0B05DA024E62B7DD5BE53D5BB57C3525548665E7F661ADDC011F814EE653073A
9026D277BFDE93180E00DE9F0B2F235802C767F7B4B49D2DB12BAA045EC4F755
BCCD18F443323DBEFE05AAEECB6F9A5A2164108D36CE1D0394BDA2D5B2209DDF
8B5B2D38B5262CCF6D35535002BECD53BD49B6FFDAEE749A091974BDF51BC261
7DB5E4FED3A0B378CF1853618BC62D4B50FD0ADFC8DF1EA31A61CEF648991BBB
9415DA7D4B325F8DC734C1914CB71AC0193CE8C31F44130201CF51DAE182A7CA
5D620A219004B35F53A2A4DCF6E76CAC3C5E026AE91493F21D35311DBB2EA881
E17B3316B54A7DA02C29953A172E1F38DC8B9061E6A8FBF693788EB0896534C1
261EE620685CC8E2CFD7E18B5DB117C91F2675F8C10031D92BB85EB6196AAF63
BCF33D161695EEB71B725A5F45B2816E7347E8E46D34C2EDF1E7F157F7BAAA42
B19EC2A86A6BFCFCF8117CF3FD28AE10383DAE0A42E2E7C01D75A405C3C1F65F
C40A05C8D17936DF3E4116A01B506E615FF331DCDDD73682B0FA970A59DF9FDC
E93599E1DEE83499AAD1737FA3414C1E1DCB8D3570744C1E564FBFC6A9945BA8
22FE3378C62E137E39BBAAAB5202623BCB46D7B6F3A33CBF8124F921EBE2F05E
8A3C1CCBBB0EF3E69529B9A054000ACBB670D24473A6D9BA386BC0F307C64996
C81951CF4B402EA3527CE7F9EC755E253CE359B5A699527B59D9B7D287188AE0
AFD8A950AEAB1598D9CFCC7A5AB10AD4D85E0135B10486A1197DEDBCC7997836
589B1ED149B4294A587890599A9F5F92394065DA5691E998A08667214F30C396
B846501B76161C3104E3CD2595914BC785CD7E5EEE0C326C03E9AC40ADD6607D
AC18C502CEFABD8F9E7930596FB2064FA11E2E3D023ED07B523EE2FB8566BB70
43FC15329A7E9322752487F24A0373FF5ABDD1F86893704089370900431DCC9C
3F9D5EE2BC9E92171DBFCD019A9612F3AF3267F3E92A1C6667A9E43B96408CA6
706A0ABE87AA6D45C6573753A6E1864D80BA3092F95730760175190C06C4DF89
1F0D8B316C85082720316202B74145BFB63AF9F25FA5DE4C97906CFD930D1A12
D7FD922EC3B1DB10D88672965657651B2932FDBC0A1111F95507F9766AC21BFD
D3FD9558FE9654905B47C53F51361A861EC4FE66A063C869AC704EE56344BCD7
845336D16BF1CF088B962AC6C6FE56FC58957FAD7F5D650F9F2CF427753ECF04
484060233CF0C5109852EA260BBF3939EE49B082EC5F4855871D879C14F5BA13
3E18D660403D5EE92EC517A0861D7387A2F9204B6142F8411483846E2964DFAA
EBB41BFFB9E31ED4ED41E5FB69C337D9F84D0954963D79326CB753F91E050FCC
3DF3576AEA7627C3E79D6CE1FD7E7050EC48BE2CC8A20EEADFB855C49FDB6123
F4CE2D4F5799C9856B7FA5B84BB345F196D2D5E0BE90BD5EBEFB8F42B56D8144
681FC9E4FAE53C9D76D857404DD36B5D3A45A7F6769D1DB946D9E0B542162BAE
86E2E06A1A1D6465EC0892D847732657A3BE1991D408A755A11EDC4A8F0EB9BB
AA006B99A45A28E9BAF730FE2F16D38E1429752C0D9BCE106870D507F7B7EC0D
B1F90692459573FEBEF526F774A6EB3D92C43085603CCAF325CD5BFC72637231
82E4645AE2931E81FE2B45CF0A438A299A85FDDC8E11592E4D296D65D0AE31EA
3FA4074581233C8CC2F77E5D6EB3BB9100A1DE06710157A409690E61E66639B0
E8F1AD4EFED572D6236D7A3EA8551BC607091E7786C372920E1A331DC10FB758
FCDCF50EB1CCED4702F3D7F03A0D11266EF0F07E0CF742DBAA7E9F0613044E14
D8C9056610103BF45FB54836AE9007A9CF41FA409842F267714354998FCEDC2C
5E4BEE50446C0292DBF6AC584B5EFB0E17682CE174C75C60EE6C3A0A230474F0
67672290A7528A105539635AAC75BB921BFF71BBB1F86A29AEA5D08A27555228
B8166145BD40DCE49691FCD28908FA24692DA6FBDD358C5BC927DA95F97540CE
38D7AC4A9E166C216A23384FA009CE23F9ABFAA0B7B61246FF34BD2E56A5D1F0
E44215CA25014D54487453F1FCC76DBD9950445A3C40933453253D2536683DC5
75AD44D0544A6EA580B22ED26DEDB322EB1978B01BA12A3C05DE56D22D772CD3
1C7305BDB6905E12517365E03E3D860C387C6BB73CD481247A0AB364827BEB33
64B649FEA21D987559888B76D7C1DA07BDA40A7E640A60CA20BAD8ED1CC6A655
37B4CC10829D3D16B61D26C9B44845400C2B04A8373E67C7ACBCAFB8879308D1
4223B131EED3D2BA55082175070DA8880B4D42C4DFBEFC32B7028AB95CD22BAD
2F0C901F34C8107096BF155F54851A7B76A805EE9AAFBB3DE46FA67871C1A20A
01074C94A876C9E31C6F16350D5035BBF732FB7B178AEF1C6CB4D75F66986756
91F51FF7C922278C07E942C0705E87EE133433F9B288E25834AC607A24C9BF6F
6AA4483F3CD44D22227936DE5195EDA949690D46A5BAF46FF02BEDE9CB5AD6BE
01712F3E19C5863D76D2634AFA401831518EDF621EC41DA5EAD360FAD948B075
97DFF357B8E0A7FDA18FDE2CBB263D03E5C5F949548924DC88D20EB929B78284
4CEE5EE0EB14305955A02E655151AD775413AA9B3BB18F5CAD4FD49E7050160B
052671DAD8EC889B9E621F00A1D1CDADEDE4443993CEE32F079D2758D5F8C7AD
FBBBE82FE01D67810207493F6775C6E994CEBB5CBAF25972D98DE8F3B8AB10DB
4957BABA163173EB1A2DEA10021799FDCC8F55905E4493F3A9D4EDB6F7EE21FC
1A55ACE5C06EAF6B1AED7C96E7FF9D7C09D6D7AEB015C9824F2A3A942058ADD5
AD46B70359320E5F65803D0359FEAC0B25BBEED0D69AE7F93A6D527A2C40C50D
C24AAB357F3FFC35F252798A7D523F7919F5305F57F46BB70E1D301451167674
FD3694F73D1FD46674A67702DAE3CB4ADF2042596789DB27671FAD4836D93045
C8D1C11C68807695242D879A6B82D05D50652F06DF2F0045558F44573304AB62
0CEF04DB3EDE3E69DEE15E599A9E13B8DD7571F608058F0B57A5025210845733
388077C96634F94B99C2703A4F5C618CF3FF8D69EA40382BDE30403C27FC3B32
E1D01C7255E7DD585C25299B18A6BB4B986F5E7C9CC72FD1249EEE168F10F3C8
60974A16BBEDE7BA4B6163D53D973EBAE211058467F70D3201775974DC51D7F8
FA3EA9B8EC23CC6A29A867FF525410C863B3B7492FCF03469A8F20CDF2BB614A
1914B94501C992355B8903C869336344C18DAC444ECCD89A23DC8C38ABB49052
5A54EC5B2C553E076CD51C17EB94BB01361A29DDB87DFD02AFCA66B80CCCA1D7
23E9B0A3BDFCD31AE7D802A37E1C5E7003331823D27ACC6673B889101239CA2F
F8F5CB380E3E31FA88FE1B5FFF74B77BD409EF4C46B79E20A172018B7DB574D4
C94D838764069DE81DA735AB450061240269D1E75D4CC409A62CB0317EE6236B
1DE68DA1ACFB676908789C2306509CEEDAEC8ADF89D657F66C1FCBAE86BFC3D4
73CB9C280CD9A7429842AC2260B811D723E047F87D4BBF3A35C0C9BC39139AF7
FA004351904896C37C138D90726A89D769A471A7EE614EF171EBE92278E00621
89E845C575D451307DC456892CF9898A79240672C7679A2A64506517738A3F29
0AE1034E832CE5C014004238F031E1F2EF54E8035B5E56AD58068A73F6A97A30
DDA0C6AC3C76346A8CD7126CFDF4DF5FDD113C4CEE79F05784926C83C09ABCB8
9E31A80185D8A4DE540C8475FD1E2DB05B3B68659B277E8A8A075FF9857D1CFD
8A73055F537501AB8FB6F87CE61AA1F565B93462E3EAEB32EEFB92AA10EECA06
5A258B712F58692C339DB85C92C2CECFB8CB267A97B09DF6B61D13AAD5F5849B
021116CE5025F070438B0268E1C41A537B7717865F4A3205475AB20BA960B9BA
62EEDC58217D16A5043C811EFA6FD47285BBDFE6B53D0306F2413B7DDFFB684C
57DA0AFF519154A158B93B7EAD1BEA1DC9971AF5AA5AB57B0C48E87FC280BBF3
4C76FB5495BEDA11C7ED538E49B9604CDDC29C08CEDCE6477C54B86B26BC9CEB
DE9DA5EE694DBF49A4B9FDC4C9264E68C86E32D4A199E84E27427E692DBFE965
4D57409B0A7132819F151E248303BD349EA369D1E44275681163D8DB5DFA8FB6
F645B544E6C5707F0E8FD91EC915CF1F1BA58DE8FA1E9B0A06F8917C364A3CFF
FD16700C90B63F09F7191B3EE4E477C1E3984E8007FEC461D8E297E08560E0EB
7E2ED45DC367DD6C7A4F59C5CD8BF2539929B15C0630A34599B16061ADC6C96A
797C63DD0C73A929A7C56137F14C04414EC0F3F7F255F614D4667CCD32C6F7B3
594556A15858E6B7463209FF8A8968A9A1E342006A981DD4FC9E0AE53367F8B3
7D266D7D6F7313BFD70D93EA5F2DAA2D1A4B633FC0AF41AC52E82369447D0833
D2E67859213BC62C21DDE1C90B34187FC8BC69CC80BE3A877B29949CA7882517
9A96E6D3AE7206BFC36C1DB6947DBD12498CF58FB96430760A66360A1BE78DDA
409B7F13E32D6A7F9D99C7D6657E244459ABDE85CFA974131E31D37ACD786341
1913C65843865FC334B930DB7A5F0B86696058740C552C743000DAB5F7202574
97A5914CD0ABC6821284CFED2CC9D5BAD98DC6C37BC28A5242F710A142C994CD
813CF3CBA897C3189DC10B096B7C9F0925068759640037B638BBE06A6AE4B267
7717F238BF494652787CF51793457AA31962CA5733227FE0378BAB94369D299D
51D9C7927376686908C44B79AA1FFABA348933C4AD8FBD8EC70791DB74EAD868
A4A16EDFCECE576C5180FBBCBA0CF02A1623CBE54D47A38B8E2EF9200AC8CA36
ECBD3B5296ED3286A7C377F217657BAC3A5604EA6DBE10E4AF58B51383C824DB
1B7C2E3B46DA6D95A55AC2EFCF26D9D25B2920031E079197C4CB7A65EB50CE87
4BB4E0D3AE9BC9B3093C55013F05137044F573542AD24A7FE32FEB14973E4A58
4342F9215657B3BDDF6052E88D0AE951C82A511E10201F6A4E2712F1063CCEDD
78DE416ECCB06129DB23C90946CFE35F87F196F10B783AE7BE9CA3B368DCB14D
255D1F434777CD6D62BC092FB61F739499A8661BCF6BBE063CFD0CFF299E8E4B
26F7750778E2FF1D5A224199CF463318B146B91CEECC6278878F0744302F8068
A8549115EDAD48A0AEE4746666CEC923C9B808FE2A4AA287D4ADEC30E7849DC8
6A8F12EE9A5B9F91F08FC3217CAF30691867B32E94F9A4F016D16B6B7500D340
2D06B52242883A1E306C2067106139A459491608A77631F4D8EE99ED2666F6AC
F7A400043A493794BF655F7084F63267F037A4735CEB29BAF4EE5EA83CCFAFB9
345565BEFB8F648E149ADD16CF06EAD63B847FED47EF860E99C4B1BC164728BD
E079A2BA30B5D4EF5E257F191E86A519282154DC731B58201F788266D263B8A1
6F2C3CE222D93B07DEFDB1B84A11F875B09E7B0C621253F7350CDB0E7FB60B5D
4181620CA736EA04F97EA32474CDF16AB00A3AB811F80DDA3289EE2C0BBF5675
3357C48DCB22F8F4692BD0BB389585F66DF248C886520F34BD1EF24D542CCF02
937AFE52BC3ABFE4543D822E073236975E9A87F8801E25B61CFC9FE5ED7DCE3B
B35D72A3558EE068D579A8C9A6C5A2E31982A50CF0461F46F63B67A93EDDCFC6
5E5814BCE33E495E29C8F2357A30A9A9CD9EA9926167D122229E295DB4FDE2C6
E15A12D52B66CB4DE36FF82A3A5605129DFB4946FBA02687A9079207626C0428
00CED7058A523242494EDAD62C0CCF5A54F41D58DE2DF556B7B3FF5C189105FC
AF0E27EFB2A5268B67645B8B5D4DD190E624009DE9BB996EB918A470ED2BC4F1
88DE6C3A7BB0F319AED0B8F2D3C98D0E8D37154A862BF3B2B6B3053FEDDFF900
187168DA7227D190ACC333A1E2764C818E90EC338BFE59AEEA181EDD3CD08511
F70588D4A05CB3F7A7CEAC15D0946A59074202036B38FC71D42C0E1462D89C16
4DA4222795CC8C9BB7156E4F12D726F69C7241514AEEFCAC3279A79C5B971F2E
062692E5809DAEA1EBCD5E65E19453DF4FD2B8F631D61F3A1EB1240705C1FE13
CA7DD1E6BAB6031A05661202194213D16D15947ADCC4D6F1BAE47C5188C4EAF7
D46F952718DAFF1C60839B9A4F7A95547CAF25854B3DFEC71AF706DBBA0E8E19
3692C6633E2BFCEEEA8ED0FC05A373FE8B9BD6CD02BFA66973F0785F36866362
BEC419EBF50A7E2A882FB1F7CB99D8DD5A37DF588AD490713248C6DD7378E2B5
0CA74931E92A2A4B864FAF63796BBF94760AA7145D965B4F2DB904150FB6C6DF
CD920111B13CDEC26EF2548FDA9E5A3A7FDF7E17AE001B41F1E47DF09F589E95
E8791A0522ABBF92B80E8BDC72C34496B4019CC70A754AF0C1E6552B414F0763
E29A9736FAD1794AE306D5ACF4AB92F98A67877229333D740FA6EC22E00E6D4E
4B86F68201583651B329CBE189C3F4E0FECA1236E1DC2DEE98BB1A2802CBD83B
1F89E62A6BAD9103A7DC183D8E93842BA313261409CF75B0C5D53D8031542E34
A08E02BEF61F488E7EBB91A09C02D2A28DCD752987F2E292D0ABB0C1CAD5C6F8
A101E0BB4853CC8146A32E270AA644E5D948DB1F296A6A55039392BC3899C04B
E603E1F6A3908FBA720FC25CEEB7767D571FE2099FA0A1CD1AD3F7A344F1016F
DB95DA43CB5DD62CBEDBF61D6510AB42DD05E0D3455D54C1DA42A03F8E8215C4
8DC8FF1C057B1337CDB5140FE57E2EC4FF77C80411D6488BB712183DE1CD8FB8
91DE6D80CA87507F80719AAC324B65EA0084EECFF878FA958131F442197E9BC0
785F6BC65D6A73B2426F1E782D15656DD9C13ECEF6C25CA3B36FB646690CEFFE
6E8999BEEDABF12B9545524F2CC92E598AE2F183626F1CBB51F88F07D2838831
30EB8DE8C28F72D5991982A7D6C45731E65A242DFE25C76C8F28551CB9BA359F
52A1B25D11C65B3F59D12193E1A67ED6D85B26316B8F06E81775F3B3EDBD8016
D8CB1F2FFD921B7A4ED6F687BD29278975A450286F3AB8D4B8CAAEBFB84CAD4B
13D90D6ED40270D7FF6740884AFB6619F90F1047ECB23EF1029D0651CA85B34D
6C6EC57274C703DE13780C50FB162C203C975BD130CF31879E0809A657A32B68
60DBB630AFA8F9B7B9B55D80DB07B5F4AA04ECB2167E7350006D65375B08310D
874C8C2675D3B1EEB8E23C8B1ADDE6927EA83123155088536D8C83C34D9BCC18
E3FBCF49955F8A2669CD953EDA1281D212C66DCC9583825977C8769C7BAD873E
C4071F3358BDC8B1EF03FDD9D9816C742E9D70DA36B39260621902FF8466C224
8055CEBD820D480E6A211039599ABBBA3A0D17BFFCF3256AB411DF6C8A9F1BAF
E8A964B6948DF051B2BC9DE5B5BE9F8F413A5C11140916B469CBE9E0CB9F411E
38F9A9775A34AFDFF98F41C1EB25CE29E14DAB2E1A3F3121FFAC11ED9175D5BA
DFB2A1FDA1CFA779E0E44CFE2280C02A7703A5B41B6A4E9622AAA95280A57FC7
ED46E446A8F5CB2A03879491775D0F6389187DD48C16037C3BD15BA43AA640D1
A2D93DE3F914E375F52E6E8AF7A989C3C905D8BE0722564013DC40A4ED4ED126
E3B24C8D0FBB54F5949EF2CB974EAFF1C9CCDCA6
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMTT10
%!PS-AdobeFont-1.1: CMTT10 1.00B
%%CreationDate: 1992 Apr 26 10:42:42
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMTT10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch true def
end readonly def
/FontName /CMTT10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-4 -235 731 800}readonly def
/UniqueID 5000832 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5F00F963068B8232429ED8B7CF6A3D879A2D19
38DD5C4467F9DD8C5D1A2000B3A6BF2F25629BAEC199AE8BD4BA6ED9BBF7DABF
D0E153BAB1C17900D4FCE209622ACD19E7C74C2807D0397357ED07AB460D5204
EB3A45B7AC4D106B7303AD8348853032A745F417943F9B4FED652B835AA49727
A8B4117AFF1D4BCE831EB510B6851796D0BE6982B76620CB3CE0C22CACDD4593
F244C14EEC0E5A7C4AC42392F81C01BC4257FE12AF33F4BFEA9108FF11CF9714
4DD6EC70A2C4C1E4F328A1EB25E43525FB1E16C07E28CC359DF61F426B7D41EA
6A0C84DD63275395A503AAE908E1C82D389FD12A21E86999799E7F24A994472E
A10EAE77096709BE0D11AAD24A30D96E15A51D720AFB3B10D2E0AC8DC1A1204B
E8725E00D7E3A96F9978BC19377034D93D080C4391E579C34FF9FC2379CB119F
1E5BBEA91AE20F343C6420BE1E2BD0636B04FCCC0BEE0DC2D56D66F06DB22438
452822CBEAF03EE9EAA8398F276EC0D92A7FB978C17805DB2F4A7DFBA56FD6AF
8670EB364F01DE8FCAFBAF657D68C3A03112915736CEABAA8BA5C0AC25288369
5D49BD891FABEFE8699A0AE3ED85B48ACB22229E15623399C93DE7D935734ADA
DA7A1462C111D44AD53EA35B57E5D0B5FC0B481820E43222DB8EFCD5D30E15F9
BA304FA879392EE0BCC0E1A61E74B3A1FC3A3D170218D7244580C7AA0DC65D19
741FA5FE6F8CBF60250ACC27454BBF0897CA4B909C83A56672958752ED4B5E79
E18660764F155E86F09EFA9F7685F2F5027EC85A775287B30E2069DE4E4D5712
E7D033481A53A2702BA7542C71062173039030CF28D8B9C63B5596A9B42B33E7
D922944A38713383D3648A4AF160A3B0C8F3379BA4372BE2E7EA49AABA75AEEE
C5DDE1D8BF68483C3D21271280ABB91D54CC819680322EAB72E1250A760BC8DA
726405EFE420635B5B7F0B48752C06083E92BDE06401C42A2C528C8A60381227
CEBEF0C9440DC034DAD9C19FB27DB399BDAEE22053591D6538587C768C1B7B0B
7D1E222D2D8AF3A6473CC4C0D6C3E0DB49068CEB8C9BD1C5CD486A50DAA10BC7
7D6286142355E3F21DD254E27C00C442728A0BAEC9D3F17AE9CE320D365152E9
EB0D5E3874F2BCEDA98521D23FCFC30B4B69DAD2ADBE80E5964ED0ABEF6C73B6
DAD30E2C5061E3747FE536E1A5D190D028F2130AF608F5DDF9DDDF1E77DC8437
ECB3EC93B33505DF47884DDBD1DC6BBE4098DF04A29AF6FA3AE344600D0AAB53
B3820DD7ECB600A3B8001C51AF2CA7A39AE1485A087FD1752DF68F55B52B4DA7
48030F2AA7E570B3D56C4EAD367B9B73FBC0A7356253233006178B9A6BC19081
B815B5988AE76FE6FAFD7AC239072B1106A3F509381AAEE79B2F2154CAC4727B
D199CDC8B4D05DF4BA006982512ABD7539E28D937B0F87FF79A3F84C29ECF943
A8DCB8BDF8EA9E7A0E7CD60BC2308C96B3E889C797D0FF28FF4847016B3DA141
E76FC6BE78A6EE9CE07E651FF86E720A1A1F075972D36E5C55162E3FE26BCE3A
814BFEB12D4C5FD24340CFFED499C7CA183E57EC4F12CFFBE3291D43F7270575
C6C3306F832EF182ADD0AA14C4D8669A17C09F632406AFA195F90C4DDC39779E
EC0A77E590211592D6EE19563963225C06C2F13265EBB5A6CFB7C17D9E77650D
11958305727AF662AE73AD0E3ED5F7E7086C5A0C3548A8129575980B06C715AF
DD55C8DF869BED0A7883491030B1A7E82C5EB04E5A7D952E716DD8F2EF6275EE
087614CFAB55FCE2BBECD7E8D9C90FD8359E929D5E0A416A23BD58158318B4FF
87B095EB63F7F052B3A77F136FD66EB2C52BD46CD7DB3091A4B78A607112B12C
4D171B2A00B78B0E1C44B0D90C20D9244281F5123DC1F6063F91E9E3E48DE78B
C862D848BAD073A4FCB5EEC9FF54B5AB8E234CCC3C7439C62ABC4A13EF1B8897
ABBF21F900C564C9A305FC36FC7224932F766E6E72C2EBB55953DFE2AFC2E3FD
33A0C6F0FDFF086E9FD796E7242596AE85B877223532667625E371D2156E4C04
0D7FFCD3337B93DF066CB6FE1E13960719EB7CB409EE805C08ACD2C06303ED9C
E34C898787A43C1B428B896551C6FEB50A831C6F8CE2073EFC662EC286CB7555
A3B42E58772E82FEE206948B8C439FEC5E4ECB9E11DC3A4CBC7611E30890E408
637A01A2118441B4F9467A98BB2A1B03BB2F5D8E3DB7D1D15C188D9E856088EC
B762F07B1C06024F7EF53A2FBD60C0A1F4C0275D07164545250ECEEF8CB15B04
A2D8AC44DDE818C4E3CBD2A5FA0FE49750886CD7CFAAF8B780255F89DF7F4F5C
BB594FE7C1597DA71813C2952AD3E811524459EB71D29696B450C924B6A5C843
8F36A0F1D7DFE796FB9564333666D74AE614D0D698FAFF20F83C86524C894BB0
272221C060544F3B653CB0E4E4F82B20D7530B3806E6A5830852C58070177815
E287C847F19F64E854F1463C23DDD80093D6FEB8BAA22C5F05C21F99FBA7193A
EB7CD49CFDF4308C6C68CC955A45FCFB54FCADA9A3BFBDE086B057DE88BE335D
280F5338D7E66AD39FD08F9B55884F1F377FB6869FBABE3EAA4B7ACCD85BE672
724B4B8F236B0889B6E7049CBA558A89F17863E82DF145DB8C7ED1F36332DE23
3C0053B74E850FA14F9EC9EFC23AF18E153CC96FB0FFD910347370E57F0D81E9
4A83E2D189EE5635E85A2BEAB5B1CB974546BFB2FC2ABA1E15DC0EC1BB3AF1DB
B2F93538B92F504CBD7AAFE36F5F3AD45EB16378F169B17869FE81464CB826CB
400D2F5441A496B6C60A4F15FD20ECCAC1F8F91015E7E1C1A10B7992A1554E52
9FBEE905A3005336E49CB04BA7223F1674C0BBDFA06ACA34F7BFDA56906E04A7
4DD79EC7E79B021A5008F3B1E04712D689366F520B0FA66A558F957011992728
561BF4B75C2BE07C4024C172085E51CCC5CFA439F570297154CDDBB3AA25CD6A
3004B936488851BA1E814260C06CD5479DCAB1A6AE21A5F4563024F973D738B4
0DDB6C6DD2E3AC21B4F6D95CF9AACA782919F5D3E613D61F3224A982AF485C8D
EA0037410EB70AB7D3EC174C6D5DE5C9C5A1220EF7C2B74499ADCEEFF077D1D3
50C1124535F88C3C3F66477E42F1932665AD323E06B398D2805B9CEA632F5B1E
50FA587B102A35E2F15EC22DD66E4DF06A3F4BB717A3ED7FBBE2458EB4D896DD
AF00D1BC71FE1CCA27890ECBF9F0AF01D3E65CAA29427FAF06B3BE1E640522E0
73B213D04491B93DB29113EF72211E31F4C5A7FD58451946CFC15FD805112FE2
547D1131A46710DFB75659A33695FFAF3CDD40AE5260AD6766DA81DAB0A6E96B
E89D57AAEF32B5EDBBE9F7CC033BB2595CA3FEDA2ABAC8E5395EBC35BC112FE9
67EAF1F123228538091483050847F8FB5194203609502D3A09CDE811EADC18B9
F039593782C27EFA7697182D6367E88E326AD5622C5A457FE2644FEADA88615D
9DE3E483BFD9329667953CDB86F9D2F0D4F02DAB8A98FDEB1D17CAAED9B6E2E6
0C55C1FEE25AB98FF59FC235876029CE03E4A713B75B3163BE3B2DC0D4472DBC
473E10400C0F57E627AE97FD0C1CB0F78FD8E2FA831A3D2B1C2BB3F2D4E812A4
194C8732B0C525361DC8480CB27C30CD4DCFF01318D2EB4F5234B4A42EA8C23E
7B3EECA41B8E4F54D5458B37EF0FB2F49EB19F4EA8AD2B53820FA36E93DD309E
48847F5C01B1118ECE7D0186E6B8953344EB775D655AAAD7BCDA642EA2E39A15
855C027CBC0E3FA752900EEB464E2D39404D1B85072B40834748C6F9C74C5B6C
3CEDE988343FD984CFE4B856A481E60E2E65D3BB41BAF2FA80AC0BFE381071C4
573C6ED65C524FF777F34D82E9661E4A75E3878CC77BC59218244612219C5A92
E95B90EC2C38614665550026F1730D11162F19D841681C04C401E102C047541B
97B9264D86F47E25A347696AE5EF0FF3ECD9BA32C92901DEDD816F7D73ED1216
0A98771892472CD625A8F7F19DEFCF5CA2AE57F8AD3898F2C1005B187DEC6F2A
A31C32720EBC934178E0E9979013B3C9AEDA4051DF63D8C903A399DC88F83DCB
A73F1B2083819D1BBEA5235F8FE1D098F32A2BA6274424A99A4975FE4BFD59AD
79B40A8003CC0AA728EA79D6BDCBBD73DF45B7918BC099C5BE4A068BF64A30B1
C39442CED98AAE1BD495F6CA32D564A72E3BF753B49E4178927E4BBC0F06048F
96DE7C30AF580B0BFFDB330B3B87D7F6532A24F403680BD9F15E758CDF04EB94
E83C7E644FDE5BEE7CE73EFAC75669E41BDFB20A5B8ADE1137378DD8102A0DBE
19499A623770417CBF5211395A6BA9F4490F4707A46F1F9B3FBE642DEA0CA053
9ABC307B1E71DC2B069DDDBB4EAE378BCC75AD61DA900AF8BA6DF0E27A8D2258
DC80205305AB6ABFE3726703E60869BFAFF1874F3C0E05FAD9C05D7D89ECECA9
DD2AF5F777D7514208697E712B52448B364D3ECEFD8127043DDC9D0757B7CC37
5CDE8001D007A6E961EA24D7FFC92410F3B13A32946F12A50DFFA256249BC8D7
C1842FB84AD51B41008EC4604F6B70990510EE13E6DA34F864A572D99A13FFC7
3609EF2BB1FCDEDF37A6018248C545E086EAD1BA1143E74AC60B684E755E59E7
36557B915F92EF78FC177621D49F777A2AF39F3C2AA6EC74750AAAE08BCC21CA
A71CCDC91DD45E6050D83ABA49ECE425B55EEE137C55619037F1C30530BD0A6E
CD2004B6A040405064D7E87C55536680364E09248BFAA3FDF95CDA0708E55F4C
F7D0A92A93DEE0C7B69638F171B28B7F854CCC6EBC6AEE14864BF5144EA36D46
A9C297225AB0325E28EF6BD06D7E40E3A724EA1E50C4C6163B195CFFD5DD291D
D7BBE9AF4324A69394117EFD62F08D6BA6A8F0AC3E2353492999AF28FBA758C3
A50B6840CC72054355E6CBDBD86F683537A4115049BC1616BA35C2B0B6F5CC32
3F6831DE4E6029310738DE23D36D2C6E82F04EB675FB89789F74AFE3B8854250
51812FBEFBCF162947554324FADAB765C74B6DA89F60A734076D44BBE45263B1
3FEFEEA90EC7948F23F34D4049087AF6563692417DDBCDD5A9552A373C2528F8
0318D3C0669279F292127CBA40B0ABE08A1476BC9EBFA8BD5D622BC5CE7DBA20
C689BDAF50D5B1EAA89E296787CC53845DB2BA54FDE363DCC98A7BA256663869
E9E02E09077884DF1A2A41AA698B7EDE8DAFA621B552DDA91AD1E671D636FB36
91C62B4D2D4112F2C169E0023EB7521F570CECC54ECA5EBA462049AABBE2ADEF
E3234BFD71B26DFDD9D34DFA69E5E80FD90406E6505A6798F030A4B5172A7BC2
C9B765A86ED55C0590E0432719BCD7BDE7CCC7F6B33BD467063D886276C8879D
E04897A4623111C14A1EDBBF69E2FEDDFEAEB2A785C6D2F0711DF4B93AAA291E
7F4E0CF9CC3FF0D31953C594DAD014097DA02CBD5AE8828C7E7B5BDA09188B05
0D7263F164E1E78CC430ACAD1E8FA71001E9BCEFAE47C79846916A5F819CA366
5734089BCDD458CA1A9E8E17BFF357A91F9A7A8A6E1DEFB121353AA80F1906A5
AF7CD2E59EE6776FC0DA6574DA0DE522918CAC4E566F13FB9B64EFE79F3A3BC0
689E3B0676741C90FF3BF85C7A0FA9716F4ED0E329512B66BFB8AEB56C3DD6B2
24F8D6E23751A8485F7EB46719E9D22618FEE86D5E01ECCF4C6E74368A8E9B49
245D80E7484DFBC916FB2447852B36EF3F99A82B6C106F786707D7689DCD7AEC
A0C51AC1A3F67034C16B74994403FAE7743BF02149BEBEF554814BEF31B79184
3FAB4D2C887E1BEE81B465D12DCDDAD03DE5ABE9E763C440B2CFD42FD16D96EB
C21FE788C8C2688F79F148AA7090BE64B0EA710D376222FD1590301BA9A2E715
D33B8C1D95F2589AB0EE476F7046537E27DBBCDADEA1E7357C9D7FA92C2F93A6
7BDDF58A44966590821023380C97CDE37EF6D449E35EF32BCA6E69DC8458511E
8DC8AB63171A6018AC9A334829E5978484C4C6E917A5F1C254E6669F4037C691
36980250A80673E0F18C9E0FBA1E5CCA3BE30B8E7B7188062B25F8E1E16528A2
F217C18D6A1955482E5463FBF097ABAF7314E449C6FEE56E2695407A8AA9648C
61AC2BF3B2D9CB6317A9B16CE931D318C8BC9676CD908505568C197D90C2BB46
06431C999EB68C8216409E4CABACB2BB34A05B697B9DD1E91471A404B4969519
E25209EF4EDD420944BED17B18DB3566FCB8059699FE416789191EC2B35086AA
2E10C139E3C9FA0A535DEE9255A867A26656213E85851DE5F51F9780D3A6E572
F1F5CE64DA176CA810799DC1C60A8FD2A5ED42E613021A19928EC4572059B2C1
EE441E79CDF7DD4AF7B6E3D3230419ACAED329388044B107DCB4DE91B71EB838
904B1F969738BBDA064FFE75C6623639BE9924602DDF0C166B433B9D54ACDA5E
018680477FB8F10621FF32319E58DB672D744959A33E7314A1B3CDE0C038F7D6
0C8A195AF191E36B0325334A711CD8E25D9C1D257E46A734779E486567481108
E0281DE96907D460546578DE83A0A01A9ABF64402B48DEF739F4308E14145753
719CEF720FE5CF8DAD7845E74D502B69DC18D172C3A27411259B8042F3FF82C3
B157BE242C351830255CF0EDA96577375A70657BD9A2E9FFC54AF0AE563D73F2
E510279FEF48D79F5F7745DBB492F1D74DA738E6A4FE4364799B5BEC93B4CAF6
B06B9B8C8D164F8FA1FBBA693204064F2C1806C39910910E02ECA8D092558CB8
33338B359D56483B7B99A1D8137204EC1AE70ED3D75881FC3B00BB9349AD934C
81A9F285312FDDC77FA923B18B1873D288C2AAF2E6D0AF90BF25A982B843789D
5662D6A2DD58E065026885601ABED4B09CAAA3116DEE6B430B15BE0A121FC1BB
FDEA5A501F0798CFFFFEAB5101E707F1A00C8E014A3561FD39972EA9AB108EBB
960AEA7FF60C301AD6CBFCAA7D35CBF6F8462A4D76C4FBA6F3DF6BB762DF7900
9F69529AB4EAF96C2866444B257160E8822533A7A1240C83EC18C364F577407B
4CB314678D2511735308A1660AD94B8B818CEA4A3DC00C5A1C978F8BB4E0491C
49328F6CDF95BF620AE53056364423841D84418B23C2A447B0CCF8D8633FE2E8
4A4AC1C6C74627EECDC994059F1BAE9E6B10FA80D767B3FE97BFFAD413DCB0A8
495039744B48266278194D60422D6E7C74D0DB45ACF217797D0C0678EEB60759
6231438CFEFB346553A7A447B50807EBB6E885B5A49CA9A350EC4A8C76EDFBB3
A4DA1C9E3EFA193CDF08553302998F20055C84420A4C5252F764CC4B7A4BEF6A
A09170EC417B296DD9E2301CD8EABE4A087E648E0525A9FFAF26374C47FDC123
82F18C9884843864F418ACB08041E7896FDD395225532460A8194A8DB4DBD824
1C68C6665F85059E365EC0972EC6465E2D8867449907DA6692A021F026F437BD
D02654BC11381BB6557663E0B0B8C4F2FF69E4776F4EABA69311BC1AF8155F7D
6D3A418BDC912CC7CF1A4BBC8A1376D8B4DEEB6585416959BCA4AA08D4520C33
EB054DE53140992D0707210593BE62B3659E3E493C4562C2E99CECA143791DAC
679896BCDA0699E405957E17DDBD243E65CDD7C9C8629F29A2078658746A7779
0F75BE24E2DDBB672B95F26366BAF036B3C23BE4132D7362E76D4183A469E0F7
29174711ECAF4FD9A923E72FE58DF2854C5537E3626317D471D1E8A922C9BBA4
CE9163A4086AC4A231C2BF35FBC39A5BBCFE41843CAC7D81A054509D31572BE1
596E0B0B563DF2BF0E57DB4943DAEE35CA26C8433FEE4FC61145C77F65DADE75
62DA18DFABC7F4194906F53884E62E77D8AB3E099776AB93B2B4D0C98FA44C71
597202A2643942795EE8CE098FE26F1AF8134F1E75FAE18D563B1FF43A511C9E
EAFB9EFCF61490A1A4FD2CF354927B72C5EDD5D62B2F3F5006D6130562A13BCB
1B988A994A8D68B051A5A821CCD5D0F8D9D49FE7CD04EECCFD7A554CCDFFD77E
27AC4AB5BF9FE40F90EBD066C483796CE1A364E95C5E0CF2154834760522F128
B2DBD1F4F73347D42635B2875A23597C35A0823CC6F71E49598125411BC9B2C2
72470D36DD967C947AFB031BFCF770FE50551A134DF8C5D1AB1F09819569A57E
E23D4E87C0B52CD02B0A2E3FAA7D27A94359E82AF047756BB769BC5950A75207
78ABD49D174F2F69810AFFA9336A52D6B93B004DCA5CDE58475C0210E0BA1D20
FD4FFD6838EC56A0922472D4C4EE0CC481574BC30618179E733EA40A48847E14
A75BE7717CC5DDCB5B0718074EAB6FF07CFFE794D335B3A13EB968EA8FC5B08A
13B38AD1C2C964E4B07E90B9732C458216B028E07DD593A5B767A2B415EFE7DA
951FC07800F11C7E2EF9BDD152BC6815B7F32117F49FE08BD79BEB949003512A
327F3F8FAE1767E7842348BA4373649F1A21DB2C56C081BCF9FA4EA86C8DFF00
FF45C4F1386CF8C2C4120F3F6019CEBB639F2D272D08C1763A470D4BF6330DC8
43C069A6333113C3A0C93471486EFE9BFC02B760C7CBB2E9156087D09EE8A178
5EF50B34994094C3F0015EA2ADB6C920F4302FDEF128711994875551C4E883E2
DDEFFAAE11F2234AFDD96400BB69C1B4E6EFD75734C586A10A54A98E7D790F28
DEF7C7DF61FB23BF91AA700AE585EBDE74E215DA49F4ED466F46129022722086
8884D8E026F35C4BEE7E866DF8E0846D5EC3534069B713FAB02D4B4EE3B44E1B
656F30D629D40AA1337786C1FDA08EA1217AFA4A6E2498B334DAB5461A70DFBB
5AA5686C89FFA4EE82D81CE2B28334DC5C032487CCE998616F48150BA1281911
076E626E5BFCC56A0A4CDC559F878F14C2BD7A5148C1D8CC303FF9EC473354D2
D4FB0F0F2AD0CF182A28074ED6552E179222570DE0E0D44E8FF4DB36C3AD6487
C4BA53C8548714A69FCF8E3E5202F09469D7447C6519AE902C1D611A720BAFB5
59E27A6DBA73624F44B4ABE0988BA3450F82E03521CCE8EDE8BE7EE1223B575A
DF9A52650E85545525E6F121FF2D1531F156EA9D5594239AEA2CD09EE28ACB15
A445E11FD1C031188DB61881F474D49425C084489A88A47D681EA68E7FC4B1F9
DBB552063A02A0EB51125E9B2CC646B940D46FF457415F9565892DEAC030F08B
E4C10DC38D825C7597394C844CB863CE6C843F67F2E1C42C4EF86AC7FB727BF0
224B5E91BAD99CC6638AB2C64469A81D8B1789981872ED037B3A34BDF3130137
80FE80FDA65EFBC11A08B98A1AE595F980B577E22D3CB7FED1D4016F5290ADF5
47D7D9BAFE39F294582F2C084003E9C83FDB9EBC87C8B477CB8BB359EDD9BBC9
9368D6605E1468A20909831BF602EFCEC0D5EBA99A2223E5A269275C8B221B3A
F9226654185929F794E1979ED18B4CD36152F973433AC67BE24B9D953254FBBD
B644CDF3BF0E29A2C72113DC486E46DED2CE8F8DFA8B0F8478D1F18C9AA8E054
A31C3DBE84ECEDD85DF6AF9467AC2990ECAA3384FBCA1BBE598AA0D6813C859E
1520B88BF30ADA910A6AC3068A5B8CFD76B7F0F6F4AF4C32450D628B5320C384
F23A2B5E8756895584155226A30F8B0437E028978491DCD00E79C0ED58DF261E
79B9DA17E57AEE03EE92102EAB2D63E69A88EE0B1E2087ED0C0CF6475EBDC3BE
0324D1FC8F7B90D8D807533E5436F2C2583B9629EC390403437FDAC908557894
03054A6DD6A3586043A9C8BFD0C7EDE1229DBB9F69F7A5D20F55664D061F6517
0051C6B3CD7338241FB403F2AF77DAB1A8EBE1650156D40863EC1957372BFDEA
BA8D0BB1193CC5BEB5A68C8274802E14FFA3ADCEBE19070325B1BDB960CF2988
C0F5A9BFD843C515ADEC8B8AB02B2891EDD7502D9F28F4E58D8F67D1ACAFD0C3
3531E0C7D1554344CCF90AC8696E83A3F968252981CAC09653956F4343B99D3D
4F17CB8BBE4506B354439B70F2024871D16668F9DECD8EDB872BE5E6ACC406F1
1DF4E3ADF60EFED57D1C426292970199BB663405236C6A907B6891C6190E87F2
78D9142220FF295C7BF44AF61470798FB8CFBEE6973C69DA1CC24ECB058AA753
DDBFD92FBB15560EA19D5D92F0005B74F06F0EA5901D231996E0866389DCA433
E62BE48479687084C1D67BC592E592939F806FA8BF5F0D3F644B1FA6F056DE0D
51D3F212C6818CB6166317058C2A0C07AE2E324CD90D4EC83CF4819B10CC348C
6DBABA024A5FCDAE6E288F82DA060BCD16437F07DCA43BF1E5A1B402F16C78FC
075BEE900B4021A1019C4A5ADC33230047FF11FDE8FB775DDA267040A22B4E5D
6012F7E72B8BC8DD3A81369A08FB81C6C4873C2147D03D4181D6D8032DD2B610
9C44CAB50C5BD8F489EBF01C72D4198B66EEA4E976462F8874143640B82AE57C
A51EDEDE75A9A55D31587C14F8DEFFE69F75EA7B95BF725CE9991FB2F07AF568
5AFEB39447B728B99BE0502BF28DE1D92B15926BE4E3DA2E7BB44A24836A97C6
EE3A2080E01DC6514180DAF9C055F4C94929D34F193920020505E62804461630
9F42C652F9D5681C91BE23DCB0C634247E739135F925EF3D5424767D5F5C5879
C46F2E3395E2B49D282622FA4C18475FC52BA7AC4DB7C1AAD65352E66DB9D962
AB975C01CC6490490F35CB358D77DF26703B356F5C5D80E25091CDE93B39BC22
AC7F7CC6FBCBD39C39F7F8B41B3286CD39D6DE2E6B2A9AC1D2EE8AD1FF53AA85
C34B2BB3A2E385B980FB5F35A1BECB5596FC2FB2209828F3C54D01B3D867B391
033A752F4AA80C91775F9CB9BE939C850B2B322FA948907302D670F2302DAE93
B5F8D2B835DDE001ECEA3B67BD3D620BC6D1E325C4B355985A129CBD6AFFD2D3
5147E4CEC0209A8DF23ED77AE818B88A3696257268536CEF2DA90202ADF21C34
07A0383E17206532F5F71061E625F3199D72E461D04F4AF18AD91B8A09E37E5A
46D2E5D3634C508197C6CBD81F3E2BB8C759E331AD1CD54FCA815B92207579D5
B248F2A1BD2B725117C76FE754F5D3CAA9F642D29AFE61DD78ACEB9F1DD67764
0AE3E795C8016E150C92CC4D2EA682D6808DCCB4F24724541F856C29B3ED24D6
64F1BFA439DD155E53F06FEBD8DD73C7C2D933CF70D9001707870C2D06EAB2F1
649B32FFF09C7A1FA4C2E7EC2B3CEAEF12515CD401C582A315906EAE1A0D51B8
1BF625E07761AC2BF59A28B7840E8833410C7A3CCFA16E32A0E90E0FDFDC46B6
7E073A5957E59E58B33CDC146394FB7C860EF5CB1CC9871D3783D189B1A5EDB4
1BD462A5AF1CE8BA67D096CCBA709C49A6EA7C1233C125155D8FC7E9482C8EED
E15A207196E74C9D2C19CA96CB1B4852C3DB5ACFE88246F0325169DCCC88F4B8
8BC213413EC95D2E3F39329B2165A0D1E3B4643C8AC58C126AD9E71B02B8A04E
D5ED3F93B60A7D1D142A4CAEFDE0FD1C0778B3F9E2CEB4E0058D714FED13EFC0
F4BC2FA09A125652BD936BDFB3B9C83C182DF3C329E060E983D054410928E4E2
DA66453101A4D23BB5FDF7D67051BC92152A687620C9B653CBE6160929FBC393
BCDD07F0010CB35BD030CB5E13A4AFEB7DC0DD5D89F9A638509AA2A4DCB83CF5
DFC0873FCAA432F351D88B35DBC6129A44A35CB2CE4308979F474921590FE9B5
45A4F50C799BFB555A1674D1E49CD81DD2EFF2A409626569C64B9C80B5341EAE
50A011D7BC615F2BD6270981E2D66BEBB017EA4B5E9DC2EF8A7D059C94CDD2D1
2C2C80FE9E086DFF9682C1BBD31EFC52E60625FD854280CB6717225D2FF35582
CC3B9924635593248420EE48AC47332745597A5E542C2C375E947BB80F463C8D
54FADB19A7B5993F39D9E07875785DF6342617F718A660F6A27C9642717CEC01
D9DECD957E3C8CE1C0CFA3F2F02796EDC1CBE35E7F12C3CAF968D8EFB5F09588
4277CDD2FB8DB2CF43C82980C9CD75599416218D7F88077B6B7CB579B7331D1E
2ADCFF01EBB0A43FF5C78B5F4CE0F183FA66DD45BD9E950738FC3E78AB286B70
FC45C628DD2DD70F8C33E99AD2F3A82389FAE546138FD8609EE51BF337C50EDF
A4666AE87E764F38A99EA91F0CE63D72CBCB7B8EDDFB72AB57270F33599BE69B
8C7A9F15B6704240A719A1B2B8E662B5F479ED331FDCD7EA86179971E0F193DA
27DB7DDD61EEB68D5F5ADDF0827E7A961D0F35D943C89E46909EC09B3D02FA88
10E8D8B85474248CBEE142D33C5CC24CA4923CDED8A4A5028D585392DD1BC8AD
61CCE83D7D2371A5AA76F87642C10253D00EF336FF8C5B14BCBEA473577333D5
5A858CCDC4D51A715859FE3DC0B79BEDD3187ED7C579615394354C46AB860C4E
13D26ADD1D09B3B86FDDEF1D5232B618B6A8636BDBE04E7187F4CC624CF2BC9E
38D39A393A0A6E42654329BB2F5735AEA951A1642CF093B06BB7656A23B9A9C5
487947A4419B1AC4EDD7FDAF7FD0DB8FBA10E65AAFCECEEDA53D3CA4C5F381CF
8A15DE4D52EA901171C5AC8D8D402F6EC75E898E0756BAD7F206311E74101055
730DA667F74E9AD40BBDA833EA7439EC939381EFE8DE64917CBFC4E4C0A96A2A
069053049D14A8CA33ACC6900C37CE589DEEC5CDCBC4153C0DEDE51266091DE5
E417ACF812AC380EFB7523EAECEDC133D2368C3916A92B85EAAE86CE9CE912AC
94749AF7E040CDFFA2EA2B78875EC3BF0E72C228B2C68ABA783E9EA17663CD76
70CAD683E416E6863D21FC2A42F1BD447CAA62A66CAB6DE56B193B3D83FB521A
82A7C3F08190BC10217F7EAB6876354320F1A63885479B1EC91750A247CB51B9
1D22EF0D19D48C9893E0716A64ABF1A54700DD9BF0BB498EC874B2266B6E86C3
2D273A2969F184B9023E83CB245FF9F484C9C37E70BFF61AD20EDB3C2DCCBD3C
38716C5AEA8465E87C3E9F4B9884AC9E213817E102B30691D25D808388A3C4DC
8894BA463F8E0F5E3406BAEA54BECA95E934C8E019AB014B13A618D68A89CBC8
3F76AD4C46060C0FF3D0BEE87082294BCEC05BED477BF02BD9F8D62ACF3AB816
30A0846A3FDCD885E4F310D56C332CED12A279154275A682438ADA6970E18CFF
F66012252726FC421A3D772DDF7867ACA38E70DDC25255283E72918772DED8AB
AB05ACA6477F6FB6D2C2A4C35D7CB877C2F07B6A3E113468B53356947B0EC500
FF3ABA15ADC0466BB9333C6A1E73EBDDE53986FFC8F44ED9A1136BF27A599F28
414C8A71B2893F248284DD7E0D887A1102357CD8EC4E034C7736469DAD3BBBF3
45F0231D7C29DC8D0A62CF4ABA718BBD7D985513986B93B599C912408BBB2BA7
DB96EEAFE84D1C6AD71FC59216FCE27E179BE74FD7007FBAB1AE2A9ECD11F1FF
4396A13B7EE4FE5727E2142AEEE4E39941F02E54BA6730086B9FCFA6A6D00B7D
BC6AA1432E129289B05C34A0B68494019D387AC6161B6585B2266DCF37DC63AE
1CAFE2F3EC9E584981468CB2B1FF77C7FAF3342B72E260E15B558974BCCA35E1
4D9040394866724F140857AAAB68BB9EE785787A857D17CBDB0F4CB00844FFB4
2244AAD459ECCA522F5C590976EDDA6900919CDA0FE66DC39DBCF1434FD7EFF9
194BEDAB53F7580D169909C31D6FD38EB7A79DD4426186235098A9F574E08DF1
A03F709A1FA398A545331FF9454622B4CF225E95753037BF7620FAB86E06A1CB
0B5FD5C82C3C2A9E2BDD2AEE6F3547033D5512045506D6DC0946AF56E87DD984
2BC92D8C6F1494E6A19CEC6E3CC20CC46465AA61DF9A9CB7D9B4ED157E3DC4BF
FF6B752AFD16943A4CA7B6954AD3C8E115055F0FCCED4A7A9AC3DF6888724A0C
1AC640EF479E7D502B2F030F2B43D51996429B40841CA139E8EAA87B6AE277AE
F8A4C55D4555BDBEE4232DFD1A468548DD2BE1193B3E0C7DE64A944973BA61A7
4EB28DB3AA37C5FA901A9E7DB175DAED17DB95E22EFAC77CF7D4B0885824825C
9B6C7B83BD0ECEB934797B49BC0F530F7E114C2B46D63DD7C56B89FE4A67EB3B
6730F3281453F8B12A13967F1FC1428ED836B7B74C88C893407F13CD9FEB37A2
E63D62D24F0097F41F756E706C376E1F85EA99FD6FA72611A9A92D3E49711516
42FCDD0AB37B61DC086B7CE1D4FC559E2436D1334B3FC6A45F2FBFAEA7274455
AC6715983EF884243D21C1FB3B433634A1B100DE7EFEDC96A2375C370F5F6AF7
88FF97C7F49A8716AC5BE715578FA60394A5AA3ABD91750D3D92EB2C20697852
A7701DE59D37A8FBE71FB85C8BB31BE3FB05443E7ACBED3CEB33379E088BA46C
9F00659840057537B0CBBB92106343FE7B22E1EBDF988D2EDDE8454DE5042227
B71CD978B414CEFD6CD9C3F17F11D325DFB90DACC1EA8D539B258B36A67AC1F4
A3151BF7CC34F987932C469ADDE1FF880C6AA1638D11D339181C3AB485D9531C
ECB30F18504BCBD1432123AAF1A20B45DD783C4BDE3D9222B7090F20D3DD0CC4
46EDBECB37892190C4E3099B2A5599C2969A2772D7BCEAEF5E68C7BF2FA00DE2
B955FB052E6C030D9077456494ED80A3E06937E0C47B28B92E3EE4E4D287C687
E65221A1F3D8D61780C7A9199B373087770136C43A8B2A15A288CC4E89B3D298
6F368BCC97D573BC587A0638FBD3618AB7AE3385BB12277EF891C06F6F618BC1
5376A53CDDAC8067BE854DE1C5E554DAD1D067B6236E24C71E05DD580AF904BA
B6085CC5FD0EF91C7A9D99E765C1A0C042508EE88E882121735E5A8FD6AB154F
9993E0FB801632B535E6855A2E957D1DC342AECCF2E3BB566CD687271DC01C73
C04F207F8C6294E0EC5C4644C8FC359A7DE5656D49965F7A4AF7D4AAB46BDE80
7AAE6A0B0A1F737E075FD15984BDE06E06670A676EDDB0FD7BEFACBDD16EFB6D
78AC731178AF94A77470EFD8F327A15F1A03300CFC19C9A9C90EF1388E9FF702
5526B6990D2F8AA2DB72A1B19043045121F02D0212F3E892D1B13601E8324493
BC4FB860EABE27DB73E5828FDE47C2D83E5505DB2C8491612605DC988F84574A
5152E8F40CF20B26BE241B1036C9BF67942A8664398F43C4A5F1ADE0EB752D34
1201D0DEC34EA95609A2DD65A7F761A0BE2FAB352F7AB8BFA31D559D39BC356B
E796188AC31E0C512B37AA9637604C6656B10F0BF5C8F083496E3FBA6F449420
C05C5371B16BA0B047F450104834C2FF96ED9E66F146D19E807B4C1C78746CF2
C918DEBFA52C49A4645CCB2F3C5FF2E4588DDD1CC6832A7991CBCF3D3387992E
4DBE05C65455EFC9D3F88248B27C5B83DBCFB13E72B24B9A13DF66E68CBACA95
BEC7C0A6E2CBEE404259455688DA4F512A2AEACA619C2CB1FF20546200F164C9
DAAD09F2CAAD9A9B05FD59790FB8B892B9A72B3A04F9443EB216E762AD9C0695
B966BC2510652F31A1DD10AECE493329982E3583A7C106E8E4EDF7186574ADC4
CF2227B520ED9DCEA96D8FDBA7E227219DC13DEEEF8958EA602FCB52DEF6F9A1
589C659AAA7A4CA5D78176CD27F7328BB71FADE61224866B756C78329BB6557A
3B003E15B66A6C307023282FFC3EA63467683B1428DCE51B2D5BA418661A4DA4
BE4E35945C93F22D9B4467B2A20D1B282724A02D9032F48F2829868163989995
1B866536E43B6AFD8090ECD4AE576A28CE2DC7BAF04111701A71EF4C3B8E8BA8
8AFF6E096BCFEF20DF3BF29ABFDC2507896D53E3AA48DDCC77BB58D85A3515FF
BA5BBB0A44D4FE8580838AB91BA337CE461B537EFCB0D4BD968D0CA8F4B808FC
3ACB08AF1C580C634AE27123E50E7E42A8C861667238A52856A66E9BBBECB160
DBDB1DD426A2F76CB8C7890320F7DF50C9FE89ED1405A59721D11FDF2FA2B048
83B77C164248F7BF436E2007AC9BB4F27BD8FF62C4ED9D377F2044D2F5F63420
1D9935BEC227187942805B7A66342044F54692D71C820729691709CFE6720A1C
6DCE3E05095351635827C6C03B1E67C9CE546E5D464B6E2F608CFBDF7EBD0280
04D2C1DD0AB53E75E0C4D2864D793E617477F3A308E95D68E717790B3BA4B4B6
9CDC5B978CCA0A52FBF14D7FDB5AAEA8AF591CCEF944D9757163370A95394324
8AE2885C1F9FDC8D5365811D20355BAFCCDA0722057A229D9609D5DBCAB0C3B7
354B8A0432FF196F4B5DE84BF7B7C799C5772D9B1FE97ABBA646916F7081B98C
5EE2019F992CD1611956B9C500F89DD6610224371833D0B85319EA50CA5B6797
DFF2EAAD1A190F32CCC801C06D40DB4978646590FF40A943C419BEF1C1E7C642
1CC1F33899247BF8B830FE58A2F0B93E5F011BF23A54782CA0EA09A0BDCC10DF
7B688287D2D0DA736A9194F070DDA4D39248DEC41CB441A4225602C87AC3F7CC
780120F4F92E65ADD62FEBA9F5D8AD1029AFC86EB4D8AB729B17E1AB21E5A07A
DA4AF13BB3C02B9CDD7C063741D0E79310D48D7A435D8904F87BAD143BE8E521
A51D6E7F3D348A3512C2D315BDF1A68D87FE3DE03F5D95E440B691AEE8C7DED7
92189FC58C20E36FD72932BF07A921DFCB5C444F180D78F7CC5B83848DE155A2
F3E47F45F576CF59C5D46ADD277B0DE74778F11F999F3C2B6436CDA253033328
65D0BDBE877B644A4A6685C239921821357CFD228E9BE92C21B3428D693F48EC
058CD8C02C5EEBE3957A671555703F01E430A5CDAFA3A95155E6750A4CE39D1E
A89F19195788625B26FE693F312CBA53F08DE5E3A2A8C29FD7312A92DBF79C73
0BC7A31C9D1945CF8578672F586493132463032964C629E0CCE49647DB95EF33
CB434C8816E0E3427A0114F795F8A0C51CB2AEAEAA62C98CED7B87024BC16B30
40D997940650EAE72BE6323F1697205F608091BE8AF08A9C91089C120420B3A6
68FD09615D986FFD06EEDD39BBAC9C4C166FCB9E3657D88FADEFB2EAD4941591
4420282BE836A4CCB74476114E2979CA9CDA9845668DC89B04BA0AD91CA46BF5
F91F8E677815B3D2CACA13A3C7E62BA3FF44B35E957A0BE4A1EDB4DE5EC2B42B
CC427D4E8B8907C7F0E3B82E960663456C1AEC4C2B275A1EAE6126BB5A802238
1830D00CCF43963C8CA537D24D7B8A8A767E978DA955613A819AE1F5A0D12BFD
378B8118EA7ED73D6914DA71C0FD41620151A7CAE1AA36625E98A25F72D0CEAD
F48F4A822862095EEFA5FEA97A7A72047985E455F326F94F65F9B8ECAC0B2A42
58396F7F3C4211EE320CBBE9280B08ED54171E44D8973256A286AF41730A9A7E
A88FC1F92509135434BABCA88CEAAA2ED499E2F3C316529DEE9D024FC1F92FFA
69D8BF95AE1A5ABAD706442CCA15D352D10A03384B06DB6C31AAE831013B32F7
53C0D21ECB615D0F08BE01C0E7FB1F23715A10CE32F1E33CB40292CEDF59A4A3
4BF715EDABE23B4D1FCFF71C40550249A03235D307F948D462944BF685530035
1269AA516F99D95618B24B07A8D2E56F1DE82C5A2336263C46F329A5AFF5AB23
FED8E1B05B07935581816B5A3F3412C403DCD207A1F332C79F17B711442DF1CD
7A54B90653F78C0180FAF33C82BF371D56CCB71CC73B9EB2BB10E3617FB7E0D8
C8AD510865216E44B6D2D3B2A02178A42766BBE1F738402C6DCE694307C8EA63
25CCB6D7298A2200C63CEE67739D14270D1898C495361504B38A15F81057B129
89835CA35A523E2B848DE47F50EEE2062050522B8C6E4EE0C3CDF8EA7E878C1C
387B5BA7EAED5E890CA1508413CEAE9370286690BDE5A96E89E916A8A81A90CF
223797B54F0C408044F035D1BCADFE1850DA6EEC5D61211A543741C36CA5A14B
D5402FE65382DF64CE4072E5A532F009D156287866C0035953B5AC4CBFD33EB6
AC1123A0D0B8AED978F2D9B7EA1923C104237A97AEE2263163727E98D22CC5FF
BDC0352C9BC16ADFD1D4DC968882D53DCC5E7ADA2CA2FD67DA972CFF17735833
D4E0DF395B0F5F8038E4B70D6CBB8DA85AAC12D8C9B63EDA42066977FAA79121
43AE6F4692A9F7F88DC200D049FBAF35D776BDBB0B89811F2FADB8224690902B
2A6E146A133A517CA12386AC920A4543A0F6CF05A9071074CD157C133EA7A7BC
4E6A2874A6699DD65DC25C5859580308316E743B8938ED9DFAEA61E1F836D2D5
F13DF35A82339269D80A1041651CB4A28B4608D0E2C326F01B698816DD20541A
5D01822C865109022872230FC18DA7A7B3BD858712AF458F4D17F3286303F837
954F784FF3CAC74E28C5C633A4581AB32C11B9974BDC0FC47F546A9F81FDC281
6495A1229CA0B91B63E491842BCBFF262DE9556EFCBAE22881466AA874904438
A57EE59D023A2D3C6EF7D5478323812CD8719A14AC99D480ACFD5CC9DC5C13B4
28E43CC9784386169BA06D306E25C8D1BB6C0C325885423DAE98B7B74F477768
6AC27A297360C8530142BC1E7DEFA726C2A6B191442BD7CA8936EF73087D8ADF
6C9A1557BCA49C69E33081FD3F4766092F00DB3C7DC71CC151DEF1EBA8D9001C
4F11AB87091DB2646CCF6D480B6E71E7106581A0509FA55E8326A428F3A2865C
94B3A88660C35B24559ACC697DE7DB5729F33D1E72719D38CA6BBE24D3E6A0CC
D291719268709C7AA1B4F00D42A973164E573827773F5D476D5FC2C915937065
66C6F51D1E9293BE96E0E16AF71E5A26A64FB07D29D5548FEE89DC3A6CB98388
5505C882BBFE323D4E7483BB1F5F75D9332C8FA1C75628FACC6F6C9CA2065DA3
A69E213ECFE3B1EC646DAF1422AA8E8734B028314EC6318ADB331E25223E4C1A
1312A03BC70E0A390F9F07A15E46AF1F39F561BF65790669866A9444D72C4D57
181AD91B1350573D35122EDC10EF57CB6505EE89148D8750704A036F9B80078A
D6DE659C19193236E531DEF598D972D826379B9C675A8CF10B3977E7088C717D
A211BFCADDE1B91C9F79B3DB488C5EEF262F0524E6F82BE7E5D94B58953E72C9
63F6778919F1F2126404A2E1EF9397773BB32C0C4EAA1B8E02BBE3E9FC75546A
072611BF1D5DA8360AE0E2B199288F690859D9BA2720878301E6A358D26F04F0
D93B36441077B89CD9ECC805B87BDD1FF13E6E4426C1CCA3E9F4141B4D268A07
02ED31E3EE96C6E62DA983E9DDC28796995F452F5F1B9635DF1914140006FA69
AE2D0C04D504E4B735B8BF7A5CA4ED496D56EF87389EDCD78B6870951F963F17
A4A9E2378830CFD1B0AFAC64C93203C083D580D0DC575A69E5F2A318C35C4052
FFFC7F4EC5DD7556DF2CE165A362FD3BD3BEB568C247569F18FD85B5CEBAB263
9B7F1E9B5886F07E9E3BF192E462659944241030D9375DCC40E1D744CCCD18CB
5A6595A1976E3767C0F1829F76F220A335A5EC49A6E099F7288FB1A415DE05CE
F41FE8AF2DB82BE6B53EC82A0AB3FF14ADD98F5AFD9B68B76F5199BABA5436DC
921C36A6AC8B245BE2702A7C036216C82E81A775D1AD068FF106789CED865D64
A4FAA7861BF49C52065A1C9E52AFE9A0CC9BBC8863B902FA5DC046A645C3D72E
E28FA624B18103C9782123D6AEB075E22B0707348C15159D1A3002B2822F3269
129457B3FBDE1DD4E148B77D75A50A0A063D541DC4D00E1500E5A19BEF09BFCD
C36D7E0B60BC2A745B50BD7B650536C563AC305C0AB63389BA4E9AB11A171D6E
36EBB5CCA1A06960173A865B7BE57336C18BA87710092A12C88A4BB739A070B1
92D1D52A22EA87E84B9D70A0C8764F48076F7C381E2FEA4DD8F9A86FAB2FF56A
9FCE5A47BCFEBB78F4248513E9F117A50DF41F14379F9D61EE774F109162B87E
A3F45F36EEAFFBC1EB63D796FE6D4FAF2D16B3807E4BE4E54F9779FA01EB853C
B6DDCD9773EEDAD35F4795D90D17BE66400B31A2E4C3ECA5B5282E22CD2846AD
C1D46908A493998F17D13A2416D4671F956398EBFD075FFC676F4BA9B8CD5BCE
391B45AD842C43F98FF8FA42F6ADAF4C429DAF025AA7383F4CB0195CC514E804
C47FC3217159F58E174481B4037112F219F4E7CD8816DD332F2596109AC3E46D
C38E214ACBA5A55ABF5177D53782E2CE38763618ACA0E461B0B735AB5A9DC1AB
B92F8588E3362F24202F163DB7CBB3D24A06620F0D75F621869A97DFB8678ABC
EB57767E94672F51154F22FFF68EDC69279603BF5499F58B3BCF5ED32848F42A
78A029DD1F5950DA3C6C4E7CB911C69A88075E14970EF23ACAB307D52A627EC4
4359B28C00D05ADB4EB726FC31B0335E7C2942A851870D3520C5C96A4F1F834D
584D92A454BAE25D79F2984A708C864B853B24A303F4EB132BD9DEAB438BCA65
78864ECC83C746D63B7CF7B5CF1B9734E102007F9A0954EFB8550C43A9410168
2D21E28DE211D231EE4A165EE129F47D07186048A152496E4FC9CE844FE45903
076F6D4FEF780A52BCC56D8435A3949DB75C12F1F62CDFDC521CBCEC2554C460
F700716A202A10153C800797C00F0162A14B8CB0E9B355938039773407738B57
6380CAEAC0AA2AD724739796A9485D12ECCC0F3546F46D6040372B6E811212D0
88758DF06DE11650C52F3C178CBE912B749351F065468DFFDCA9A01E14348D98
EBBB9A7A168D1C4EEF97AA0C20FE37C3B3CE1CFD53AB00F5C7FA394F2123CFEB
7A1DC68E7BA6467B2578EA2B00847F6BE6E11F77AD6EDAB10AF837551B81D429
AB185372A6E567B73C56378A023AC24D83BDEC508CEA954A2609F0BF06389A22
8F8D4ED71E2C0B202B68C0597DCB2421AA163E77CEEEA6908CD7F08B5DBFDD28
DA55017714ABD1C98B5D5C8E01EAC1FFB4D4D00D7879B6EA44DFCF7C73EB1AD7
0F8ACCC9A404496F769F5DC79FA1C28FB86F3C863D3B5961406B630D87270C63
84FB51C5A8060B7E59211E3953A3FA571008D3677E8CED908A8BA2C7A0FBE6FF
ADAC7053ECF03073C33A681065B5013F1F39E4D63CB657FC9DF6763440272B45
0E908CBA727375DCE5D479B7604510D081F452E30AEE9335635BAC3FC4B4516F
714A5D709BDB673A0E4C4A7CF7833F8011B1632F03B3C5815E4C2BC44502ECFE
5791A5A92A8EA997530DB13A5BB2C9B8DC2E60D18FF029A88F63103AB54E9B52
D08F82AFA775AEA9E0354C77F3442019698A08D366E88435A5FE1C388CCBDE65
94A41A384AA4B4E47CA54D2F37B8B80FC3485EA95B33DF87A4A5CF313325C08A
76C669C86AE536AE345D7E5A3052BAA92DBB827FB877A1EE8AB6914F672C37A2
9469AFD84800A913AB4A1F681E7DF81E93B9C34076B32D03BDD8FFB2036A6035
86E4CBDC20263AC0A990AFAC2EBD451CAB04EB66542AE984D0E610CA79FC3268
CABBD8F91E8DB1AD7E81C13B5E9C682C679D48E9DC94DEDDC52A68F76DB57242
1628F8941AF3B433B8A780C209DFA18AF329E93769DDDAABB87EB1FF71CF2401
F3162EAB20883AE2423E84E05BD0A4D3A4BD1A3627FEBACF14E1245ABC8B378F
406C6FD1C60F2B02B72DB5449582C0348B4DB66CD1B1800A27FC41DCC0F1B9C4
E6ED1E83A78C452A4B55AA0A93EBEA6CC4618FEEA937695E6513B7875E4EFCDC
643A87DE5F11B40ADA5D5A3D0F4245D5F8C8CB8D6E22
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMBX12
%!PS-AdobeFont-1.1: CMBX12 1.0
%%CreationDate: 1991 Aug 20 16:34:54
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMBX12) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Bold) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMBX12 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-53 -251 1139 750}readonly def
/UniqueID 5000769 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5F0364CD5660F74BEE96790DE35AFA90CCF712
B1805DA88AE375A04D99598EADFC625BDC1F9C315B6CF28C9BD427F32C745C99
AEBE70DAAED49EA45AF94F081934AA47894A370D698ABABDA4215500B190AF26
7FCFB7DDA2BC68605A4EF61ECCA3D61C684B47FFB5887A3BEDE0B4D30E8EBABF
20980C23312618EB0EAF289B2924FF4A334B85D98FD68545FDADB47F991E7390
B10EE86A46A5AF8866C010225024D5E5862D49DEB5D8ECCB95D94283C50A363D
68A49071445610F03CE3600945118A6BC0B3AA4593104E727261C68C4A47F809
D77E4CF27B3681F6B6F3AC498E45361BF9E01FAF5527F5E3CC790D3084674B3E
26296F3E03321B5C555D2458578A89E72D3166A3C5D740B3ABB127CF420C316D
F957873DA04CF0DB25A73574A4DE2E4F2D5D4E8E0B430654CF7F341A1BDB3E26
77C194764EAD58C585F49EF10843FE020F9FDFD9008D660DE50B9BD7A2A87299
BC319E66D781101BB956E30643A19B93C8967E1AE4719F300BFE5866F0D6DA5E
C55E171A24D3B707EFA325D47F473764E99BC8B1108D815CF2ACADFA6C4663E8
30855D673CE98AB78F5F829F7FA226AB57F07B3E7D4E7CE30ED3B7EB0D3035C5
148DA8D9FA34483414FDA8E3DC9E6C479E3EEE9A11A0547FC9085FA4631AD19C
E936E0598E3197207FA7BB6E55CFD5EF72AEC12D9A9675241C7A71316B2E148D
E2A1732B3627109EA446CB320EBBE2E78281CDF0890E2E72B6711335857F1E23
337C75E729701E93D5BEC0630CDC7F4E957233EC09F917E5CA703C7E93841598
0E73843FC6619DE017C8473A6D1B2BE5142DEBA285B98FA1CC5E64D2ADB981E6
472971848451A245DDF6AA3B8225E9AC8E4630B0FF32D679EC27ACAD85C6394E
A6F71023B660EE883D8B676837E9EBA4E42BA8F365433A900F1DC3A9F0E88A26
30F8433C6191182E9EEEB89014624C8F9065984AA84742D81E4410F230E0A410
848B13AA5B1E9F645880601590B27657559394453EF16A5D430038C691EA344F
2E24BAAF128E36B9A65981B4BD8E2CF1D2F24F098BB0BBA38E10B8DF4052638D
996256BEBD88E62D3E6D10E52F9F96A4CF67CB11DE5235E303DC05F89EB57E14
6E65C1C73D65D6EEF270A88C40048B767C6B901AF3E8C9FD1A2A8BD93D756AA9
F37BD11D87C2FC63FD12A8FDBD78DF65BCB1181CABDA9251851C5014C1B9832F
069C35372DF9941FACD6C193F1DBD97F014B7449878F0023532753D450DDC5D0
53B6C8324E75CA907B17645CB4D4335D17E2C3AB0FAE83A1D0D4A1E6A540432B
B7D1C994C80DD02E04D6811F43F175E12494F94E4550A594374D8885B75AE957
4DCB2C1CEB3DEE8A7292B91FD979853B19BFC7B0C8BE9A37B997753393BECE52
A7D30DE3B2DCEAD8653673E9C726E78D5B597EA619E94F620E44ADFA39239C92
A05CA0DE39934E57BC6B832FC16951B6B84011DB2F3C2E698E4CD9CFA8FFB94E
548B4AC8D31D59794ED1F228CEDC58F91423267D0F553E4B3ED85CF175DACD37
1FC50F367BA576CB00705EFE0B42D24F7D64EFCA8EC029DF266396B629DB4F5D
ED38AB45CC267AC5778BF0AB151DF1FE6AE906D63277C7146EE1D8E8790FD7F1
FCFE429DF9770CD50AD2FD5ACF4FEBA2163FAFE6DF50272A9162550AD3666AED
7400ECE6CDDEF74C1009B9B2A93AF237E02A2CE153CA3FA559C2FBDC14ED60C5
08145B61E2A9D6022872EAA2F186DF9EA39F097925C18087DA76D87298E40D7D
052F843CCDF5EA8319BB96417437D46E27012394DF1C68718F5D22BD7B1782FA
2FB43F170DBC20B28ECCC0D91876BC7E475C76870A5DC0746700010E190492F5
D7FCDF1F084A5DBA933E6A1EACC57988D4EC4B1EC4F7AD6786574B6FB9A7F9E0
DFE8234302891489E736DB6E120A2FA3404AFD2BDC3BF745FD674662052969E0
6253FAB94BBF14AA4B8AE97659E8E2C529C0B05B0442E86D4E31B44E8F336582
90A4939C1C2611D0273F8C7804A73637DEA844F1C3C441FD03BBA9F8629AD2E2
AFDC9C541126B7EF78B6AE37C1DA8DD7E829D0205B230B0FE59A99986E0F630C
75353D31BC4AF0A346FE4FB7106BE53109645D492D6DCDDBB71E272CA6874DDB
06B51E8196027E00FCB69C50C2F106470DDAABD4FFE67C63232D42BC399DD230
DE5B1A59107BB52F38499E2C870F11953D05C51DC1D3A7F3D378D1B6CD84A75A
F9E9188F2D15669ECF7066413046346A29B05FFCAB0A3A48F40D59ED8F3F502F
739B8F43CB0EE82AC8DCC4E51D61E155C99D62F81C0A49ECFA0B3C6FD05E78CE
35D9C7A6FF5FEE171C4E81182F21D8FD5A7221DCAEACC9A2221CC86B1ABB3FC0
E02824652D08E2EA01C0AB8805C9D6CFBD372C65093A6EA917D8C4FE04BEA7BF
2615D11ACA2DB52231BE468C0B80A59CA17D472702BFA366D4DA74CE62EF6CFB
D58817D24D40E35029152572F3891798B1D7ED405BD4F2BE2467C5C07444C737
B687A412EA15CAB9876B728C96F96FB644209935F1D6B716379C293F25F8A89F
E65742EAA83A8ECFCB1EC95AB6FD0700DDBD6363F5DB01909C8C497435CB5D3F
093DC5FEAEE07459EEFE62E0896360FC3A98FBE35F37C0361991EC45D7E4F672
2019E0B16DC06AF8298B49844972E770BC1B1FB685948C4591753F8B5BD97472
BB6E0814E61B9EF603CB484A1DC2F444E428C2929F0F6F6CE5CAB68CB0D8E938
DDEFB8EC323E56BE09104CF46EEE66B882D01F4DA71C081C3DDC598BE59DE585
05B7661CBB5E7C042D4B0FED46617DA5BAD1EF0F70386C06878982EDA37A24E2
1743DC24A8AEC73193812715DD3F9C5CE7E8F90F3BE51F364B989B682C2BB199
6325FBD3F6CB26B42F2D7CADCC2CB58C112C584BB9714F1D50471496CB365BB2
DD8170286E9333897715974BC6F218FB228DEEBC0947A4B7FB7448B33BB302D7
E1795DD82BCD16EBEF1357CC1F744ABC1237B34A0E5B91ADFF7E907C4E3ED613
B101F51BA62C5D854F49D1F3CC41F20C7DB9708AAA9D9EFD248C0ECDD746914F
0025614BF6F969B7978A239F372B489052187C786E45F57385EB07C28CCE1186
2AC5EB4E95F9C04080B188C973AF9A6D9FA80E86A9C003A2B17D4D11F3EA347E
EA3BAEECF713D28AB08EE3564D1A11382674D9956B261F9AA017AF7D761B48AB
D62995EA32D0D5839C9186E2A8804EA348C48D7766E5187ABBF0A125AE6EC864
F4D45FF7B1A0D4B75CC2C866631E11AD4521573A682A9D42558C0C46369633B9
0E24B0930CBBCFDEECD4C273B698AC1DD430259ED9E8ACF5CA2C3C467B38D774
620CF3CEBBBD13527432D025FA91E78E0603ECCD43DAD73514664014F5BF40A1
1F991DBE153EF5B3769B66154BE502E0A913625C56469B0963F23AA94BB263E5
8ABC74ECEA8E62E861C38EB4864197A35C0DDC606860B2E46C081CAD9F615862
41E8E36CA7D1E7B00425819B1BDC86D3A954E8F87FB67A6FEDF5957159A01269
094EEA3977BCC9DA38B9653414992C5FB27A287CFA16C8D89455CADF28A73638
189022523AFBCADB868B1908E5C60CE1882357EE26790B15E4758436CA614CCD
F4C443A1C79B50ED35DACAB7121C63FC94AB42FC05979D33C9DB2807148442F8
A5AE5B7DBD07229BA42A544F4031BAE92D402FF8E0D06250FA2CE40A7C07C3DD
22EB992BF828AC6A7207E824F24454D4F5805AFE3241ADEA81338DA5AC136E56
4F528FD8F0C1E97D934232695AF938DC37D95A83887C9543EE5DD6A43F0F4144
689EF6EBC04AB40429518C94827338E2AFD1B10D5CA4C564B4D7F909539DFA87
0E32D154398DEBB6FC23ACDCB34F5D229ACA1372559B4CC1558C5E86A8385D44
7303E4A9C58FB54D1E42D37FB7E1077B80A4107EB0F2AC3D21052F4FA5E8471C
B0B79011B80D5782948C596441B5620730B6C39AFB0A3D11B953334E0C7FF697
58F7BAEB417376E5AF1C58895F74F885C249F859F6FA12915CEAD427F07690F1
D2DC66B4BE0A9AEB2B83D59FF5D37538F95D40830A5F31BE37BC2D1F4ADA6005
D5F33F1E842C30FE345999FDF826B8C200572D5BA460C852DE7612592BF16502
4BE3F2E65C25A36F161DF2FA8564D482FF3A0026D5472BEA86BF808637ECC1CC
93A87ADCD5DA2ABA1E408109932EEB264BC82826C3E6D80C348C4EA92029680A
68587BE186EB6F2E3C4482541B0D77E16932DCC7F47C78FCC686EC1A4B484880
E07FC8B2BA31AF25D15B7959D20971D60E6C9B7870BB2981D4116B6E7191D0B3
975FC67C71B8B20E5043A85273AB9C034BA8BEA2FB82DB071736C3EF381E5EC2
404F1E9F64F2C72DD134AF01E05542053F86944616DFA099EABFF82F426F81C2
4D8C2C464A3534839FE475B81B929ECD5B12B2C81215CD1C523C223A339C5041
593FC757E8B403A1A7C0CD10562CACBFA297B35BBC1FF164968D24149C67D581
C713444888EAB4E52EB8195BB10381A84A8C68FC28F1D06354FD7D9AF875DB67
702929AD392D925359FD52F357994B01E93C64130208864C7671026691210094
3865BCF7E0BB90AF2346D14DD1555E6BA7960C5D71E4976D00EBEBDF2E20A6DB
C89C09DA059B0D0BA55A8A9AB066E6EB48FE0161E1197762199019DE77CEBE69
34E27D8F7FA541DDEBBE07D46C902ED3E2108AB3027E98E06BE64314FB3C1015
93148853159BCF577F03193F53D9DF6E878AD20DADFCF2D1E0B6FDF17394E167
B4B95F4507B70EC6708832C43F5B343B1AF90861975FBFC8E1BF4901165F25EC
BC36666B9994E8379D776E8D2BD4CD3B152710AB78435A907BEA4BAC5C0E59D7
7BEBD04E58D81B4FD011B475734336C47239F51D0509429C0E5761DE6378630A
AED05AB5896C561542DC8946E714DFD9C790B1A4985874E82D259EC499B1BC4D
83D4C1FCAA03AEB2DAC3BBDA2DBA754F5C0EA5E7CFDB200A03165996F3F9CC73
7FDEFA09A6CE2B65855C741982CBAB8B906436B4AEB6B74C156FC2E64F0399C3
57165F2E1E086FF3D632BAA51AA22242680DC2B6EC7F87ED013A7AF2012EE97F
DC62AE3F1683544E3DB2DA75BBD34C389F2CC87DF1BA3C29484BAE7F0F43C9C0
9560F58578C572EBD2781CF3789CD07C302CA83B17406FD5253B300A83044498
B794C6F7FE961B970ECDA81B1DBEDCABCCD48C99F2B5F7100A8DCAFC8CC28FC9
C4A956F9B0A6406E40FE8F10770FB5B942D23B98F900A402ADB678EA4DB868E6
815DCD7D8E48F4AE1877A76908CE7221371B316A4508965792C8A072264CE303
878DA98FFB1A9F2077F79059DEC51DDA36F81F6218B3D5174BBAFBE686BD9163
CB95AB9FAD478BFAB2622F1232FFF28FB315E7619A70FB8E270F505BA2937E55
9F07A888F7D01C7870C425934E5F888D526E29ECD399A95C8A7392B1879025B4
0BA32225592C86E2CCF15556D03C11877F501DD09557439F19D9FB824E9CC037
7A0AD0B94547E3D3656D07EB6E80A28349EAA94AAE46878EED1991C01FC66D6E
745B4F9D75BF8A27A546CECCD75B16469D2628CAE7BAAB732B680653B3892DFC
172F2B48A8C78A70EC4744C882D498E2DF6230BE988D453482CEF481C4F8FBE1
2F2EAC91FD7508A5916F0F814449961A4FBC0AE9CCC1903470E893992D9F3014
8A65ED31E676008DE02DACB426119754DA84CB4ABDB50FCE5E7FBB9D12DB25CA
5CA4F033AA18EE2FE49924FDAA23C5E58D719DA7CA9DC1AEDABE620BAD540EEA
DF2DCA4B461BF697FC8520E1DA1A3AB98EA0A8D3238F10588E30C7B77AA2B22E
69146588BDA54B0AD2670E99884D78D7A70ABF11DBAD40BC3326A246EED3ABAB
2C080F8B7A8CA13C55CAF2F44BB8C646853041AB3934C7EABD0A25ED44BF65A5
F18964C13839521DB3A9F292E8C29A6A5152D6C53C8EE51D4654ADF7450625B9
B8EADCFD1862D4F7D681ABC2A1D3F393CB36319CB91ABCB6FF267FB3B7331081
F8FB4CCFC91F2C88D599FCA38CFCC3D18897177B04454F851D10AF5ED003BFA2
5BC0F222235141A9F045E7B58AED9CABA6490547AFB0EDEC0DEFB2C7F475A18F
12C779F0F3A54AB150357315D7E372D387C11C2D1BB82B85972597F1E41294DE
44B6FB51219527AE33D3A3CC9217BDB39094945133BD0C37B44F37E6354219D7
FA6A96BD7CC3779D1138D49ACF4D73E4C35971B891C1CFA6E82D0FD9204D5841
F097912C59B669918019513207D9C748DAAC2DAED5ED2EDEE0BAB2F6000AE971
086B78BC6C10BDE5F45A35329D15473F5484BB1237DD15997E0378A63E59B293
929801B4131156E149EF6CE56BC51C8B55DB3E482EFD78724E99E001D0A49FE8
D566A4BD9236B6DFA708B523555AB3EDE36432EEDEA8A8A3FE9103BE01C921AE
81C1781E48983F8760D5CEB1205AA7D46112BA51BDFE56E814070D7AA65B5995
9BAFD50EF839D73844248F973DF5C57ECF9BD8E306ABE24234778E48EBB003D0
D32B55D59DE1B9A9BC2332C4E892E2EE24AA90313E703CC9DB0A303F7B195E56
B86BEFE4F8ABB14DC06D841CB4A719318A3D5B9DBF4F2EDB80FD9ECA48862BBC
16C79FA42EB964BA59AF8EBB9FEE32C446349D5DFB9C9C46D39457B5926A497B
03E88BD576A9FFC8CA61BADC17CBC2F10A0514635CB9694784879CD8AE553951
8BBAF241E39AF804128F6CB2C66E09D299CDB02045D7073AE2F8CCA3D2CAF5FB
FAD88AEDB9965C85100573B2D7DD550FAC7907495A27B89FAD0A150E89363CA8
04DEADEA5F931109393755FE32E7CAD075DDED5B4039E6D3DEDDB83FAC4ABCC3
CF9D6FBD6AF094B0FD83565C72106FA418256F0EAD79AEE28ED338DC48EB00E9
1FD211122A555F6FED09D00AC9AC57BCD78419ED1268F88BC9991B3916BB6160
2701334EF38A88EEA8BF86EFA95AB576F6F1FA98ED3AE392A373573A375E4F36
A4D091DD553E8EB5829731BB92BC9FD5850E8B809D4EE40F36B6871E6BCC7612
843718764443B1996C26F03AA24E17CAB955F8F92C2AEF74ADC54EEC268D8055
B9CD3E98A22633132422C40F4096B9F9D7D6F2D86CA70BECB271AD9B4A4C3577
A47AE573F277CF4540AF1158C3558E928D598FBA7290DFDFBDEC7E0B14D43B44
B1AE9A940A8504339C47C7665BD0ED1BB2830DD6704A370941654AF6BC555EF3
79CA0D436DFACC2BB9F6C7649FFE9A2D6272622F4BAB7EF19D57B291609D4770
D7D9BD84A252797EB9B05E5B579D35C073ABD26DF6299DF279B2F367110B5E91
1F226A3631227D87A68FBC53DF6EC38AE517D6A2F07C4B1B6DEF01218896409E
50D437076C7B6ACF7EDACA35B2E4B300B5930B7F981CD931F96CEE3FB70C1836
72CAFCAA6F311430B9577DEC5B22BC1DC825D213B90110720DBC67A620C2646D
0D6BD315B7FEC26B3D92675428D1DE691FD41C79D2D524C5ED70E2EA4828E9D2
67167A111F9A26D49FDCC67E6F4E47CB1076B76DF1C067C9CC0B733EDC065AC0
6D48D4DFA121698C57305E4F189ACB42FB607FCBF0405A6D2D267403E3DAAAAE
A1024DCAE56BB2A934D2EAD108589B290082FE4F016EDD897269180172C10D2A
A0BB348BE81CCC30BC276C27B3F7E344F500551133DB84939DA3753E0734F8BC
7507E3C50EB6E37695F1DEAED35A181C42BBFB41F312858955BB5B0F0152BC2A
DD1DFA64F1ABDD4B8B53BE21BB4B26038348305ABD8FB22246A088D96CEE814D
99881D3DCDDEEE42D98DE48003BB673931B272C02C9D5FC2BEBD26FFBAB020A1
E3CD25CE430E11AABAD4B4A14F7EAE2A89B3A63EC22890A74EAE640394B18D1F
B6EDBFF1FA2DCCFBBE468F48E15C741982CBA5F54DFED800F8BD0C4408B333CB
89D940B38967B1D6151C249A9864B0FF25A32F557C4DF067C98DE3239D91F84F
92E9987B21FD1536F2D385C588FC569DDA9A40BB78B45FCCBC593BDD5E3895C1
3C387CBDA407F822D1E51847C60E2A65640C0ADCAD618B08C3BA3F1684C560E4
2D1F6CC4C2BC71072A3DE75BCDE0CE24277CAE2A8CE6C4758FFF7A005AD4ED42
C47EFAA93E7EF783BBC61A0921BA6B90A3F6C4BED5156DD7AD61D61D32C85F2F
1FFF7DE8C6D693B5B2CD8101269CA68CD8BEB0E5E85766DB3707604747470D17
7E595D83F2B752FB88FCCC22549349198788481E472D8203C503FCA72AD78E1F
4BD07ACECB88DF5589E9FE01C8F0AB25A8A69AF2EDAE7E4497042E37A09978A1
0D476DAA1008B865CCC702C5B8623C19B677F4A387A013ED84CA4DB7B6E5EA5E
B79702419D8A24BDE7E9D2D5672209C39300D22C9AAFC48D13F1AB976DCE9340
BA251BC95E4B6EA6660869110BCC656A4207899AB13C63EA7DF98459394E116B
0E26E45A5320C706E77D59C940F20E38EB7236046D1AF1D5CF1010E2480C56E7
6BE9215365FA3FD5AB3BEFDFC4E0A7F0A2B9FF28A43A62E73D92781AEDC4EA97
B71DE9F66B1A0D653A546A284EB8F4BAC10AA7C46663BAC4CC4A9BA895A3252A
2D602D0A51495B3173B07D55D5849A838AD0F585EA9D80CE766D6AFD11327477
705B6E9DD021FFD158C099B2D6E08BE1200C66FD869C044FECA74B92DB7E2790
21E532C6058288FCB413F0E36F8B61FA1D8463854DB8ED88049B755F9573F016
DF3925465D9120A3A3026733BBBBEF1836D7E82EA4E186C9968562CD3AAD1C22
81AC939511305359F7701C4A725D0970B3DF9B3896B69B37559A4BE67CF55100
6FD7085C6518BA5FB76DD8C9D99DBA4696CFEF0660A421A04D02FDEEC678F50C
1F65C906D862E2BD1F2C1506D7B9F8262C4D9D21B4A34E5622A5A96F38901DD0
55AAAE535F2E95625A01ED1DB93B7928A0E5CBBFD22CF657092A3AB779313897
7CF5C383BDD5177D88552A425EE88D055EDF22C15DFC4A8C12FDA8701E4E1D91
3827456F75A0C531ADA62A9A1A49BA4D97C42C315B96B388F474EC71B3C238F6
373E9B1B61A0269DDD4C2AB318B9AE5F8EC085BD7D6D46F9BD49AFD6C34ACA39
647EED0037111E3C77E2772A585AD92AB9AD80036307E2EBE0A16D65CFB0E484
7AE125C73B4562075C462D631556AE53C5C2548D3C930ABCE8035ACA18364B75
CAE519A970E30FCD4DDE4B2D90303DDFE107990BA472ADD5BDF856D34C42899B
5D80C2B8F530EF58369827737885059A17279AFBD5DF35399D42A5616F2BE133
BF8C8DEC4B956E7EF58CA7A12E89D915BF542D617E616718CEFE8E2FF890D17B
DD9A0B8D59B72254B19CD0E8AF295FFD459A9A29B3A9026C376FCA0A1A7A9F50
1394B5E73170333B29D150E7DE64B04EB15966DB6815B959229A2EA428DDF5CA
48852C42FB7F89B8E0E72B95ECCF6D49D4A4E86D40C1BD62CFBAC07B702D72D9
3F9009919266BA0EC903EA149F36B75C337BFC39D417009E443A1E2B6A09AEA8
9816D8691A85B64BF6B15D3982FE4D4069FEFDC10486A6C6926559CF53F3301A
698A804054FB61B6964C02925C0AFE7BCD9F400D9527D2FA1A60B276CEF9ED09
3C04BD65F7FA72AC5B091856F2252812E1DB16EF0C7FF474476AEAADC7FB77B4
779191FD092D805A9FEF0C8284D41229E251F0D013A1DDD8D6B6E3A4349FA8BF
E0EA3C5F7BE675ADBC8D25823E16142DC558826F434D0FF2C93AD06CFE03B918
9D8046DA9706F282739A77B83061585E60AD63345999144F25E61746BEE4B130
898C96268CA945BF2ED1769360992464A10E9D7BA34B02246591A2A2DCD20C4E
9DA0949F6C0C274BB0864E464F35E15760EACDB4E71E95582579721A81B69621
7A4B099D0C8C45336EAC5D5DC44D24F6DCA5D95F014672280676830158F21CC1
96F31390E171A248C2E7863B1A918A1DC51E7E8C3E8B69DB26901B6BB6CA11C8
CB5D990334FBED4A968B0EDDA9AFDFB1B03095D182D29ACF547ABFE8CF68D1CC
84766B495C34F01401F3EF3CDF4184D7D7C2C74D6161EEAB3470A7D2793D25B0
3E5A7349CB3C766F4EA9BB8A852A463B296D1A013D926D7D5CB9FD804E997BE2
082BB4E3656F4C12B222E57E870122C5A58834625EA477D98976426FEE7647E9
F95147A2118899755D91462D67738E7FDD23D7A179E9401BB6F54A28BE339055
172E8F2FF062A31C89D36F3C13E68396CC91B666A72F432EF8174D00BC716E42
E763F05057BE18DE40156AAAC7398E2A195FC65F03FFF41C2C2333702F8989E4
8618633F925A2FCC9940F3CD14319E928511ADBBEF9CF9C0574C392C8F150350
C20A78198E2558178438E25B1ED097989FB425F6A481AEAB8ABD81A456FFA6FD
AB0CA2D8FEEF2D79490C54E1082A0A12B55D50E1570B7E1AA2766895150CD3A9
86F49A02517B32B25DC1802D956501CBA4351D6548C1C3356773299F0FCFFE60
D1264880DD458858B87179FA6F04D23823E4FA380B5C4D739D6B7EBCABB294D0
666CECF96D86038C7E4CF62F679730D9ABFECF69AFC3F219D51401CB874F6916
09FB896DCFC5C1D99515016C4C4F33A6181B7F5600C7A68F462E860057158098
59F49AA9D632F0DF80E42AD205E20B81197CB8753B5A133D0AE70BED735F63CC
E7E65BA812DF74B5D77ED6336A4AF1159CD4F662A832FD8DC2CC59884756AFCA
AEF21DEDAD7E6D1FB406200077A993209C1E5B5E4FF09CD93CC944E00521693A
0A2ABC81B45FD9938A80F1B5E49F880A91EC71DC64B6F2FD39A7EDD00A5DBF88
FD537FAC1C5FF7469D4242FA15CE00C7B64C71DE6E2FBF808BA1F01A077A175B
6CBAFF2CA153B199A8009BAA88AB9EE65FF604AE9E66CB3E037E586735399751
80F8AEFC43223A0BF870320759A1CDF152D257F1DEDCDC278F824CDEB6CC24B1
A58293C2A2A2D770846542CD5FAB8C8FC0779C25A14055B662BC0F8A1A39CED2
47FDA3C3C544F89EE37D1BD3A76417CDCE884A18A524986D182D2622783406F0
71AA836833DBDAE18E1F136DB9AA81ACA53F9B311F7F91DC8D9BDF9DBEF0D567
F53E8D748CA02E33FBDBBC7ED83E62EC997FCC555CC02378950885972C1A971D
1495135574267CD7B16F52BF3B84CD10532F2C40CB6055F4027F6C6536FE5241
621E48943275C8C0B55B0087B56975B4B4D1940768C1C8236357D3548529FB60
613A62E2AF5266D91173C7D19D0B13FF209210F0D465A85D60D6A504D132625A
2D2521278FF170CA6EBA87F1DF77C537B1A28F5BED6AE11A3292F42E1C2DE01D
1C44470B20460B2F44D959F84AB01E55E65CE815F7A513D94DEF00E9521C4008
106E850AA4FA98198BCF2D4584A339084D3A00BA4E34D660ABFBDE092AD1C8C3
C68DDF0E3F17366CF5E0672E0FCB4C1F3FF421435D834F190045973545887A86
774789CA01BDB37194BBCAD4A4ABB98A5D636D5EC4739498F60FA0C417E737E6
4C6FEBE60B7D5EC1CE705FDCD49C7AC2E7F9B8842FA469F92FC9CC49B11F8F43
F19EE461EE804FCBA42ADD70AE8E73ABE7C491A6249E92210B94349B2BB3A79B
79A26B93C0797F83BE88C7D150543C998ADCD604D7AA32C9C77B4BE89064DB6B
0F32531BBAE21837BDBAD224191CDE508B7AB062365F913B57B5099BE0E04729
3C5CC6904501BB44546A851B5C6F0CC1194B5012B7F11EF5860180F230E085B1
68A9D7C58351B5039861F3B3925D88F9D434E4E719E600438F739BC914998038
97D805E8AA6D11C9515986666752E449E050B9E7DE349140570A4220D21466F6
624C58EDB777DCD008B45F42A40A1F1EA66ABA49949C39556E7E874F56244F89
DB43929A314DCFC99ADF9759F8EEA9F29FFFB457BFADC32B1215BED5312253C4
08ED446FD8D5A01FA4831D03560AF8CFD5C1CAA929FFA1CC05DD431D242E833A
BD518DE5D4D280DFD80E462882DFB345DCE2B4288AAE677DDAE61527F464DD5A
CE9B7B57BF9E2489343E26D6A1BE399E348E9EE666E83B57328BEBE155B516BD
C63AEFC0FF83EDC9E9AD27162C4FB1197AB9B19A73B543607CE373CD2826BBDE
3C0D58918FA7F11A4082378BD77A33404D095B399360F35A7DA1F1162667F8D4
0E027A915F82ED9352100367DA2CA7995611E444075AB4740CEA9CBD23F761B0
0A6A473208DA89BF565040F15AD0E064560B4F7A47C37B0A7F7B6949C3364F24
61FBD8BAF9EF9AD404162D0D74C474384E96BD24391F7B82C14AA28884B87903
8A7A1085B08AB2E153F451B18945A4E90F648FB9EBD8703E339E9ABDA0F74117
AB24B56C333263F8680AAB90FEB19E0531084C22153C7DFB23B48F9BE376CC13
08FF4E0D8C092AD6A5191605DB4F1252D169A73723DA32BA74A8962A7719C834
41D8DCB27579CBFBC27F01E4F27E856CD95F8E50EF9F1BA7166FD46271E764EF
FB9CE56D13B6C443BB55F6A9E252F03FACCB739849D9DE2C2731CAA950F11B3F
99084F2DB244EC4739222F5B9F62DA86129CD1F0805B4A7926B07C8C780BC0E2
B5FB0C8A44DA7CC5831AA51E59F11D6A59635D0AC64D4314CEA5E10849444EEE
50EBB3E35117B53D2DFD06585D8DB51C8E12C00413B2F2DDEB6C96960006D3A0
AC4DE55420ED172CD60809C49A48E0372189140AA045F80E59E585E03814E632
D7D2182C65F7CDAE68DF9362A4EE2D2163169D4C8D28EEF6C8A5D6B3AE9EB28D
1B534CC25B9CBDA134C462D1F7ED865F994D28E46E8FFF772EA09934A07AC716
8023EFDFF5326F2D46F5C5969C7944A1BD87A3872BDFEFC894C2825D6726F792
F20E1D1F0FB581100BDF4D25C53DC59DD33C3ABE17CEC3AE198FD4C29F0E777B
8D72D5EA91AAF5D2E60A17544F9F914DCF6319D9B7F0DB84BAEF33B1F2BA9DA8
E2B39F0F3488932564A9B8EF2D433EF08DE3148D8A252CEA98150B943A0C259F
97F93948B7CF316B28863BE0E2CCB76053B91557F240E778496DA3482EC448C0
AC672E301922F3A72DD628BDB1CD58787BE0EF54C69DE4EDF08FDC59EE808B4F
FA9E7A7419346141AF4F13186463ADCA82A0B9EE5D324AD7CC633B5DDB9B3E05
9F08D07AF64C39C95735155E99C41CAC2E28DEE7B0695874F79EEAB650AEE538
1936F4C5190DDB7C205A91E07B0AF61A9A83E5DECDCD1945C6D96AF88A30406F
C9AA1BCFE95817A1A51A2BA4B625BADB284A3570D5CC85060698A24F077AC820
AEF3D015DE2A673C09D9FCC1F9917A5295B0994885AB3EFE29B5ACE43FE2744B
B07FBBE5EB1985EAF8A36620DB80B638E4ADAB4EC64908646BFE758888CE6041
F2F9808C3785212330F40DEDE0C1D8F1A74CEAD47B1DBDD24AF7988D4460B678
64B882B143859652351DCA58A597B77488E0E48CD8CC632B0553A1ADB58CA3A9
BFFC4FE7D93D2FA8B47CCF58BA48D33CC43B74FA680D4CBD63A129D9080D40D6
0654D1DA9210D00B94E80804E4A665674E8FDA406ACD9CCC7BB7EEAF705E9F8C
1C80CA4B95B6CEAB92F848889D6FB6C1A87DD66D402B074AC522C52E44253F0C
6069BDA513AA4B216BA4484234283213F5E57E61C8D25750380323CC2560CDA1
AFF9F63641B0419787D1EA3AFF6CD9AA156B2773544704D52F4079B5FB64A1B9
065B2362EB546CF376AAC68191BB25885AC176910FEAF80AF18DFDE339D37816
506BC9D8ADA6FC454E03BA127C72E203E62DDE9D651F2D5E9DB3C9AF523CD20A
11C7D7C26F800C98A9C6218F472658744B5A5D57A6701C14F92799A9C06B4E91
623920A5F2BDBB3346DC2B6FA1FD9A73C6F84DEB5D72D369AB6C01F4303E69B8
BF591704E805DE955C70BFE5070C46520EB258EAEE7B187EF99B87202A84A6B6
FD662814CFF427B90906745A2895D24BFE85E6944BFE05938A633F7036CB162B
A80524247BCCD6EF6320C2793D694071CE579586FA3888B1ED7A2B245150BFF4
AF30584018ADF89AA8763FAD15FF29951C331F5B166E64B522C88727DEBA29C9
900A614E85EDA2A2B0F109856CC1AF748A4F3A7DC09825BF8A29ADA65DBF062D
D6E031082C3719A5F9440284B49ECBC62AD834133200C5998D423E7FCA5D19BB
A23F5B83355112E7335384BA4B06BABE9CB38F8429DEA8ACC15FA04F424BAF31
8A1ADF1979C368E17BE552FC0144A8C50882F7A15B0E3B48306F35D63C98374F
04D923E2844C52495B96901BF756715F36BFABF28839A5D2C34A978A37BC28E1
595CB266312BA83E7D802DD00EB00B92608096C8565F9348220EFD6DC955D346
B10C6B8BF66859A9AAE2616093E59BDB9DC2FDCF958B3979C29D7B291585DC8D
CB6733E260318AA6AF36AC88F81808B7E20E922235CF1990A76DF0DA968B4CC1
5579118A51F9613DBE10C5E115950E58B2DC124A4E4ED20B4C74358D7E2D34BF
E7D495852CEF90430D56AF8E32709211FA7A7F5B245B7022A7983C2C0216077B
FDD502E149857F121B71CC9342434013C77923FB5A78CED81D8EF27EC6F10EBA
CB43DD91E2B869C5BB80E14AADB52C1F843A45668DECE588589665E385CBC3AD
F38E113EC5151131FE642430E2885CE4E1F67D43BA7C57E3CE488B23AFCDF73F
8A23FFBF1DEE5FE69A638859B816805B0F97A3ADEFBC12213299EFBDB8686F91
E06D44A6C6388A453A2D07ECCE2E9EF3DE1C2990C69E52E87A3DFCB87CF174C1
459ACA55AC1E4EDFE47FDAD5E497F4E44E83D4F32765D7689BF3966544A32A25
2748D1C83D004CE044F07538E1020F3A19A9462D101FA8505FC8904F72FCEFC6
143520FFA9F4FEAF78A7E4D0CC801DE17E6C98BC64605B1FA47FA3E1FF6C071F
5F27781A0248AAA09C798BB15AE6BB0597CB6C188A04B0396FCCDE07E148E224
72B06E9C7CFE3DC2468176E007CA424472D1FDF8EA04B8D6FE5C2E91538F8474
E2184F396F06E931D5A417BBE184248CE712CCF43C5D94F67E12A64076A0D552
006FC89AD56D5BF13A96DC4D4C6B05AEE99000FA4BC1BCF0C9B1B7AEADE6A797
3D1FA6602F8F37415ABD9EDE44F0738F8CAF5DA951821C4A0CF06D876657C168
CC5D00091FFFEB838CDFC5E6FFB9872EEF7397E6E5DAD2985D9C287CC1107B6A
51005A515D5F54539E3D919377C877E40A2F3D2742DA548A389754CA945949AD
9C325EC464A709F905BBD1F1011F3D2E15887AD3B8F102C7669B1EE8DD94526F
144CAD04F3AB11564CC34F5952D96C187410E16F65805E5E6DC86DC452F9643C
C71C911AED6B51C8BF4E5C2B55C63D1F0C8039A951FB74145F91611BDFE37659
02D6DA64048E18413FA78CAEBE7C75EF848B55A9AF16A6981F1885A634B2D556
A11929109B833F72ED54C62F9B34879FF92FC43CAA3B107D9B18B1A152A3EC39
B9D0E205786B72C580BDB59E51C069BD56739649079EF17FD71696AF1478868A
3F7B8DF162736B60F69441D1A0A03377423ADBB1070F81E1642784649B09AF95
BA1DEB83CD5FE30B244A0B0A30226645FD00101098DBE710C7776D7E16B5E4F9
405043C69B69B1D9A78EC2A03B035EAE3F6FA152574088101FCAF49A4342AD83
2684A5452BC591BAD7E3FBE028EF27D51EBF1FB32CD9521979B4B71E6D07D628
07063E0432FB424F96846C67712B7B6D7EB5E600829A3DFF766D6156C1D6352C
9E654E208080214707A7AF2FE2DA1D28845E0D1B255A0F947C55A484C1B7D299
E31717063DED6D78C192797FAF7C8EE2B70762EDC6456D0A31EFEE29824B451A
40E9611DE5A1FB99E186398584220C7BDA03CFE49037C1C3671D95B2CFDC29A0
BD90600CC5618B13D09D63ECB8A144A952013D71C5E962841C2B8B55711F78D4
81E33D8685BD14649DD61FD6B5347F7379F9008CF7C31542A596BCC1DBACDA45
6D8D2BE588139A94A186333AFD5B7C4F6B8A81E8B8257A96041B1523275F213A
B5252ADDDB5780926CA80C8DC9E135ED6D3935DB9753E785FBBC1D3385536216
DEE300037A7437C4B89DE13499FC93B335FEF4D549E656E015F435193C302128
B51C0A76FE3A085E296AC5D5AC1600300D00868D9B59A29F5E1749ABF14FAB83
5753A3BEADB31E56C45AE4EFAB93E9A1B1342C539ED26E1DE3559464C5CD8D0D
D85B9D820EBFAB7CD40364684933A9A863BD618C05
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMBX10
%!PS-AdobeFont-1.1: CMBX10 1.00B
%%CreationDate: 1992 Feb 19 19:54:06
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMBX10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Bold) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMBX10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-301 -250 1164 946}readonly def
/UniqueID 5000768 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5F00F963068B8B731A88D7740B0DDAED1B3F82
7DB9DFB4372D3935C286E39EE7AC9FB6A9B5CE4D2FAE1BC0E55AE02BFC464378
77B9F65C23E3BAB41EFAE344DDC9AB1B3CCBC0618290D83DC756F9D5BEFECB18
2DB0E39997F264D408BD076F65A50E7E94C9C88D849AB2E92005CFA316ACCD91
FF524AAD7262B10351C50EBAD08FB4CD55D2E369F6E836C82C591606E1E5C73F
DE3FA3CAD272C67C6CBF43B66FE4B8677DAFEEA19288428D07FEB1F4001BAA68
7AAD6DDBE432714E799CFA49D8A1A128F32E8B280524BC8041F1E64ECE4053C4
9F0AEC699A75B827002E9F95826DB3F643338F858011008E338A899020962176
CF66A62E3AEF046D91C88C87DEB03CE6CCDF4FB651990F0E86D17409F121773D
6877DF0085DFB269A3C07AA6660419BD0F0EF3C53DA2318BA1860AB34E28BAC6
E82DDB1C43E5203AC9DF9277098F2E42C0F7BD03C6D90B629DE97730245B8E8E
8903B9225098079C55A37E4E59AE2A9E36B6349FA2C09BB1F5F4433E4EEFC75E
3F9830EB085E7E6FBE2666AC5A398C2DF228062ACF9FCA5656390A15837C4A99
EC3740D873CFEF2E248B44CA134693A782594DD0692B4DBF1F16C4CDECA692C4
0E44FDBEF704101118BC53575BF22731E7F7717934AD715AC33B5D3679B784C9
4046E6CD3C0AD80ED1F65626B14E33CFDA6EB2825DC444FA6209615BC08173FF
1805BDFCCA4B11F50D6BD483FD8639F9E8D0245B463D65A0F12C26C8A8EE2910
757696C3F13144D8EA5649816AAD61A949C3A723ABB585990593F20A35CD6B7E
0FA0AD8551CEE41F61924DC36A464A10A1B14C33FAFB04862E30C66C1BC55665
6D07D93B8C0D596E109EE2B1AAB479F7FAA35279ADB468A624BE26D527BFF5ED
E067598E1B8B78188FA4BCFB0B51692D07B0BEBB930C6F0997B437E2C51B876B
61A563A2673932C2045833FAA35DB22ADE12102335D5DC734AE3AC5EEE6658D7
92EB62131E1DFBA441F53EFF9021D9D4C491F26BE8F54C61165CAD778CE8695C
EEAF70E3B20C64D4C2B34A084B5770BAB2A974E898F62BFE90F132A37E2DCA4F
43E13DB13C94DFA8ECE2B7374827AE168634FA007F8981ADA046CED3448BF453
FCD9A4F194FA648F9FC0971734BB69CB73439CB0DD021D44A7C11BF295E81733
4DFBA460FF3D654F9FB337E99E6D66FBA87A817EB9CA1536C84833870E3626DA
55D48DE850D3E6F6B29DA0E7C9D681283586F208DB8D58042E3A7CE55BE84822
C98237911453E479EAB65AFEBA3F61A763B40E74535BE56C9D8D06DDF9441741
5C9D9D917439368736619717FAB4F06E2C329AE0BA411F3FD522D9C33AD8369B
D7DCC9DF993778482F35F965973DE876FA19E109AA198A00658AB3F0D8E3DDD1
08A573F2D525202AFC57E05D141E6C0BB811E1FE280EEA002B7A45BB363AD06C
318D320D2C81AA5DCC842CEF66E7DF7670588CB39C9F42EE7763A3A17372432A
173BDEF7ECCEA297CCDD76A835C36DCE9DB8F8CB66CC71B4920CF5BF055A5260
5B41A5373BA6E4F63C85671D979EA5EC30D22163E6D206168A3827F465279870
CA80E6632FCB86E990AD1C8A0331513E0B6F2A90442F6407FE14BDBFCA5C7EEE
FB670E1246212B4880BF7194756805D1553C4AFBEA59EB7DF0FD90AF07DE1610
FF9708305CFF6643FCD7DB1C5D43F9353EBB73317DC94CC58E94E3904326398D
16220F728A51D930A6D89064841BC9B7B2608B4382CE0255C8B1665245BD77E0
BFD234597B56B67EB528B6511D4C8F3B8D30312048BF6E2C98E66BA3E85EFCE6
F2B127CAF4EB03F7D998F736CC57D1443DD41EB00A3381CADD7262FA3D6C4863
17F71D7F04D2ABFD61663C8B1C2BDB3CAD8229FF26EDC6E54EB7A1C23223B6F7
8A7FAD967A2EA7DC46BDA172ECA0BE81C9A7FE054F1C0885A2DD7C0D5D34DD23
4690A8A36F3ED55F5D4F509E0B8D13574FC2C668017611D28EC176F2638E2D30
A983C620A98D633895E4E5C7A488F07EA1CBFD0874C856F4FDA49C6611BB8F5F
9EEC232E3F8884650A8402199CA6D22489595E1CC81B7834582F4BE4E7E404DD
89CE2A169BBA8D10874447F78EC2B94DBDDB11A0D25D70838C052E1928BE1EEC
C8AD2AB3D2F5804D626B1A43F7270575C6C0A42A7D9DB2AD1DA3D152DC2B8512
8BC797594131C8038C136969DFCE1315C53E710CC7E4C771F43ADDEDA71A0DDC
8F854C69E3D00241C43DCB4B08AAA9140C6402A5BF4B36ECBFE15C79A163671F
3FDAFDB442F4D7AFF32D71F320C900691FD8FAF629F44257F74170C03479DF6A
366A45877CF940CB229867A4D20EB11471FAEA3DE3A9FF70C3449B91065333CA
ABAADDF19FBD3AEA3A7BC988A1D30E8B43253C3A3AF5FEF8041CA377DDE6D7B7
CD6B039A1581250F741FA2055C4EEDA4CA85076E85A632B732A5162C5B66EED4
96FEBA29FA5D0FE6B8841299A9A4BA2C3836104B3D725FC4806A281D166D457F
08E4290E1588677363D7C7D9E012C7ED891F2EF97B524C4DA343BCF54B4CEC35
05AF9953ACA9C12FA2E904922FE27F764EAA95CD5DB0E93FD8F65580666C1CC3
C7CD57D35683767362790431CA16082699BE0D8A3139CAE3F78F21D419B11E43
3839A16F82D7C8ECF3780E24789A78D2928FEE6F38ED820136877B822BC0FF82
3FCBD548E81E76678CB6FCE16BF2DADCDE7A451B6C2246720D5A495057BC7297
E7D8D7AF4DF0AE6358E367CD5B406B61BBFE89AEAF70233AC7988F735885AFCF
2E033A47F808288308472B69F089163BD8447330EF2902544C15EB25389FED8E
F14878802340EDB4BBE4FF8108375E177AAF2F35A50DBF1A1768407C92A5AF41
7584BD3AAFA303B84B2BE974A1E342442E995D0DF45B1E18F5651E4695F0688D
2F5134660CA7CCD264DCF09EFE5A64E9D837E2F29F93B3344481AFBA0865DD5D
CAB271C4826ED4DAAB6586D5302B138E5FE6BDB946E785EB06AEA622D13A8310
0C08D1F6FDFF10D808C3A7087723B08ABCAFF4A9BAD216BEA31CF74137E9370A
F9E787457AB82299F3DF39C37FA55F00C7D3CCA78F66EBFF0D4C1E5C244D33A9
C231C83855288FA676F2A9A7FFEE15B1463A7F3C47828956E9CAAD37AEB6E10A
DF941F8296EF34EAE3A26DADC162C38124AA446C5EE6D4787FCAA8D72D3F6AD3
BD8512E62D06B3E4E282328A2AE29109D210614F43663BC3D6B19AB2CD6F2EAF
97529393993EE580E8E50829E9CD362DA5D7BAD2381F1FBF2EEACB8302C5E04C
C3F968DB2FDE6F62B5EA59D876F946C110F8CCF6D9AA019152B54D0807E183B1
09A0FD54BFBB7F55E05026767C769E600E983909394DFAD407560E5177E47299
D63DA6A3A73685E6A5F158432B41ED64987CFA1A00B65E5B8B0B86DAF891B3FF
D8CE3A149850D10D85E2F13AFD6A0E80F7D5BE4174C55008432DC87FFFC47B73
1AA9F7937DE7790882C9AF36DC0952206E001237DEC2B2C2452C1BC7122F641E
D419EF7B176554964AD16D410D0349AD380778DEE0CD06FA135CB7DF69B1EC69
8215920BAF979D182AEDE0D7323386EBB5E69E381324AA911E36557B76FC79C5
C3C9D6D87E1804D699B8B9FD4E00409C417A3C9ED91236D17D35A57505B8E7AA
A71029BD61F25D70D47F8BDDE05C58BF6CB3BCC0E3C0B0DBB0C8EAD79AB5C16B
3FB3BAD32F0AF7E85ACE2CAB9A46B37B37D2D7C887071D136E29A7E166643EED
FD4890EC65FDCD781D8A37B91484E6E09F706DA1C33991F1B17595625655E47F
86C9084B5AC697BCEA6ADF643EC8C24B1764BF9BA74CE6A84B65ADC6C588E746
2D475E156A15B9CCBB4FBAE0D2893FF07FDE890D119F6E6948D4A1E7E408DB46
BB51058B63CAE98FB0E2E7CAAED1624E4A13D6D3A7B922AE5380F70D7F09A52B
CEB325D8BF3312ED0E9E8372BC36D0B58FD42ABB42E8AFEAD0735E2413A25720
BD0199065785451DEC0770757AD54597EC71FAAFD85613E3CCDB5552EC57DAA4
8AFD4ECE0EA9C289A765760FA8A70A1ECA23C8EC31E730F0168DC0D92548DBD5
50F4BCAD719BA6C5BD86C98D8E1996CE22F7D7C2CA347B2007FA14132658E9A7
839833DBCADB9199318B152E8C6079810D318BE3328D1FE918805D67AA38D6F5
99124154A22B97402F6C62BD018175A9498F00C55C770DB517F06AEE7A483A2D
D1FC8608A6D37B7C290339B4238D582C8F91FA33244BA746527A85FDB99F016E
0ECC3A973B6E722B7C8B3BDFF13C6DF6821DFC7CD7D008F9D5B2E319078DFB8D
6BFBBB5B30AD0983B5672F1A28DF7E44453DD22C1BFE514E1C168B542E729F59
3BB827422D4DE616D1527B35E7078BFBF318D5932DD4B04EAFA81CA41CA3CD01
7AF8D2C1D229E50B9BC0CB163B780C3FA4E5B73B6EF7AE397BACF9FEB0590B6D
499FA71F72F240754F725B7D95723F08B682B9E2D65CD75FF72A36AE77643D2E
31AB22D1B2BFAAE0CF9CD357D9122014DEC9DE88F4C944BF58E7C03F5E582F45
37A050B05C1E0F3169D060E15381055E1C01075F5CF943A4922F9751DD29936A
825882363C44753D08FF8B06F6B936300A31195827913D7C3DDCF30531E2466F
97458ECC3C9F129BB315E8699C1AB0B74D2338ADABCF1000E8B59F1237E46DAE
75A00AB99B97D76E26A3C016B944579661CB41AA1A85EEFDF3E86D74ABBA5208
97830308C8BEDDEB3EACE96F97076DDE8FCA538FB2057FAC6D716A6FD7CC5437
8333A4CCA07EC9EDAFF4C74C4DDE2DEEA2329CAEB02074BF86E52C91FFA569B7
E1F92EBF6DC14DB87BFEB9C3E5E2ABC0117B30E55173CE5C5DD2CDF948C46E16
C461F59BD5BCF2924292A97382EB6E0F0FD8DD69B5611CEABED204A1E7748182
6BEF67E75079396EA2D654FDF2C516541B38454B81E8F9F54CA8B8D0129A3E76
7A8A0141950D2410E77C5FB793E1D9E8BC2BFC92DCABF45982694CD78D178CE9
07877F993FD524708B5353B8EFE3391DEA72A689104CE35E8AB430802743236D
3203BBAE62964036E1ED19F93B38DBAAD20116ACD1392BE8FA1DDAB9C33637A1
3FB8159D59B9465FF3F2990C551717AED4047656A291321F84F3E0E54463296A
A7F60DB1FAA89020C43769DF6EB2743CD704911B2B10EDE5CE5A2A95166C443B
35711D3B51E04E57A23003049ED2B4F094F2A088C8E23FFA1369EEFC4E4A0624
4F746731F40A011FF4504A7A896FCA52A975EB0D145C05B7E03EC20FB259AC01
858147E40BD2FA993C40213A053B72E1BC78CC017855812D9B42CA938D0F2B0D
4002E6D65DF64D17BAF0383A4A58B7BB64C925C04F4E8F2708CEFFAEE8C65751
EF05FABE0C7DA775B1DC92CB3E20ACEC894F1C1F674059E7900A2D8FD1328F1E
5CE31A28415398269568C4DBA75C5C63692A4381AA26F9C364C229149E12826B
2F90B15C3A46C38237B5746F50591C706104307E01094D0E888D557E56E29CB7
3A2644C9C9F0B69A09B91EB732354B1F911701E4A5A11BE4D21849FBA29E055A
5E2F88D9B020A83E429B0F4D16E233856BB7BAECBFF03E4BF2F9F7145A2675F9
8B2313ECAF8A789F5BD62019D22C9D4ECFB06208F08D48F4C6DBC2D082A239FF
F3617499BB97FA73295FBDEA139173D3A81BA7AF167E4DCFCE2CC7379DE47961
E0E944E768A3C894B5E97231204C48145E405ED6C8C015D5E661EB6710911033
C4069246EC95C739E4754CD2A3037B2BA0BEB1EA83C6108FE73F7221E6333701
416DFA1772774C15268140918196DB4BD240363961FF171B9392710E4EE78DF8
B068E99641520A6AF0FFEBA6E2E86DD3D83C5331903D6EAF18970D011B908565
5EB08D65C79041B6559CD5ECB1A544699B8F4D2C728122BCE1D9C529F750360E
3ABFE2BF4BB8C7DAB3C3B07A84B68EA288EF15BB4BED40440CF952448AA14596
0FBC5382437B0DD33A93E5D127211986D2A864E08CA5ABABE183F29443E330ED
6DAA6BB83223B0F2D844E42E05CD06C79B9CFF7B3B9441059661269C71055DDC
07D67C509D8AFC7B4C6394CFC07E9B293F5860E155564C0CDC780755203C3B28
B7D905BA44AB532605E7A3D7F1EF2CA3CCAB84FFEF7ABC473CBD18EE53F2ECC2
0DEF0CD190746AF1BA76272872AEB073DD06E906BFAB2F71AF921F4ABB5B8378
51CE86D490EF2189C6D9E0F47029335E727471FDC49443A36B5785D3A65AC12B
B61F71DB528CE0D59C626C7D53CEADD75FA833531C56273C708188A989ED5B76
59B0B1158FDA40A73A7A88B4E6F9C251C04FF49E678E58100521B0BE426B679E
1E8A41F7011C3DCA1AA7D6EBE29AB3DBE8AE8969220956506F33EFBF7F6D6ACD
4AAE5023B1640161BFC5014CDBFCE5E5C165E6FC23C0B7C9DF225B01D7BDF7CC
034F0A7B2855BAF3AAE9E211A5AA2A80BFA07D1BC9E4AF35D50970AE5C7237E0
CC878E470850B11B7D98541EA534164864FB0FF947597C656C4382480183F201
30CB3C75C4DDB168B035CACEBCE9938B3A8B91E25FD8B44D069443DCBEEFB65B
18E707BA64B43E0BC4415DA8B6BF010D09D875763F5C3CFA90528DBE137BC885
D4F5091129AEB425F9E437FF0B88895A06700898A12C455F48B4FDF9020AB112
0E8E1570A4AF26515F033767CD6971A99A469E18331965AF53D5F6AC705FE999
211657758932DDC392B1D4C2FF104CD55F3A8768FBBD4FE625FF3E9B13763908
801CBDBCCC80047F3F8A9D7CDB29E558C2AD48E209F196A0FAFBF482F9CE4785
6B51BE352439B29652E7432242388C2A8289797B8077A656B1E7A75B2E9223D6
2998C42DB84FFFEE8F0CC05FE75A315CC21583AE297EA13D80014942659A04B7
90D543514A686CFF3BAF7DD22D541A638A096FBA574590C65B9F993CE3AD5853
3473971A81A5F4D6266629EF55B6319A9C1DD2822B432C0158C0DB5AFF5C45FF
31B4B1B6A24A09C61DCC1E0CEBA6841920D3F79FA39D71A9CA0A40BFD0574F20
001C3925F35F0424DC6374799198717FFDD6BFED299BE7EF578802D7890398DF
A5CE619C58494BAE2A900E48E2513DFC6F9974CFB406C5C86FE610A405E45864
33F6191FD71DD5C61F619203A0517AF607947081A1DC27EADEBF62C65FE0DB7E
EFBF7EA79C00DA45AD470B0D675BAB05D46B6FBE24F26DECFA5D5E6BE6315200
3E34DF8E9357ED03C2D941F33F8BABA8B8AA5D31DDC21E011BD2FF593CB9DB3C
B4994D36D8B0BDDE6D53972F776A3352065E16E18C1E611D15E0AE64235E9773
95139D421FFCC781D2A65425BF508301C9DCA7D457F21DA40AC99F093F5CE4FA
682576EFD586D907DB0A404C91D87BBB223BF1198665EBE79BBFDE707DB7715C
3EAE655824FB12ED1E8D63868EB0D243425CC644AC87E851AE6DA13805561D64
F7D80F90BFF49E0FADB34AEA1CD744B8FCD6755D8F5FC63C57E30A1FD408F568
6714820EA221BFDC0C70619ED050B1FCB19C1C4B35ED76FDE56D0304BDB4B4A7
4E0AD0A079CFD315B9C2DD1EC6A34EE52E066991D03329CD3219E8AE35165FFA
3BA8906BBB0690F9F015D718DC580197639F8C10069FE65C01E2314C87861BDC
9EB6CD4B1B37C9DCA3ABD53A1DDF398540246518FEE8382799F64FAAEE0E8804
35DCEDD706529B6DC9963196478EE082C261B2CA0E96E8A51A114B5F1E614177
D522D8817358F5F6E534242F186D511AAFBB9DD527F1501AF088168F29771ABC
C47D280B17A870A161B0D54E036C5CE1ABA9E19FFBA8429A3497A43784279AF9
FD1548AD5B70A213908131AE354206DB6516DADCD6F33A065720F4B95CEDA156
B07619D2B22BDBE22BDB84FF7C32CCCAA6CD163F1EEA5BF190E1745F5F1CCB15
53440EA076A3BB51F54642FD54D1B3B4D1202D416D7B204FCC6DB1642B64A476
943F0EAD7DB0EDEF00D806E717B0E478C0E5AFF573FADFBFFEE9E04B3A61F8B5
1F88F0A5F40C37BD93B5BA923570CBC71576C27D70A0428E72DA470448F079ED
545FB862D2086195E3A56871384E09849FCD73B8C32EB21A499FD8A0D213607A
87C136DCD7A545A4277A50FF2C693AD3C58191C47EED8A1FACCD2D732276CD9B
72419D78585693C89D645CDEF39EAD98D47D8B556DE1B395B6D48CAF4B644C8D
DF706042E17DA3209176EB0FECA5A980A626935CCA03381AC89067BC304A3834
D947E0537A0A4FA1F869216ADB9FD2ACE1641548A706C9811560BBA9BB4B90BD
A1462E9B029289AD158CBEEB7CD29B6AD7D89A200ECD9ABD1D362D61DE1188B7
5F3DA65D8126F6309A3E125BE32E668F7E42D9853B13D58565778AC7DDAF7A0E
6F6F85D59F7D4E7B5984E815E95531B27E4FE8094FDFC9427A792BCA09F50C44
1350ADDA71756074FB611CA7264A553082510455781A0989804C22A37E62AE14
6D3103FDDFFFEAFC36EE45BA70648521F76D2966B8CF8097785074B1B0DC35AD
190C28BE8C6AE87880A0DFF817A2026E888BB257F3B8AF146BF2765B87F7F0C7
617076CAF33834C37D2845F01C19366473FFA2C217A0427E8A866D238898970C
20D978CA98AA317E908C188EAA09E0D0D67B2B3E4237548E532A398E3EBEF9EC
8C0A7E114A0EA988F0C4D63EA03F8DF7030D46A5FC36A7C2F8365FD13E8D47C6
5712C146E72CFDA6D0B180975B7919D1468F73BB56662168D7667ACFF246FADA
1910E91553B4B36D182CE4D92B0D91D909AAA86950074F9015221825BC105114
2F6030DCCD12FCFFB5917B8194F46B7DB9CD42F8C642F87744831BDE03C45FB0
9AD46DD12B02BF1FF4D82E1E9220CD11E9F720945CCDB4E4E4AA8C1943EC4184
F2D897E5C2CA00338A398562E2B2A6AC582F7F2BE55446405DCC50D45E7C3355
4754AF0201A0E19A9A5AD4AB73D886C8C1CDA1154AC4ECCB76043631945CA044
C9FD18FD43A3756C86276485DF389515839B25C14260473BAFFCA03EA1031183
10359131AA2E639DC9E83B81924878E4E8DA48849A4D6A6242D89F38DC01172D
720F4B2AF8A7E0B4612499EE6F4713FFF949C56870C17BFA026745251DD9BBC3
2D6448B471B89422F6860E5988230E8B751037AA0CC72615B0D67A9F4AED2616
C192C3006D5A3415E6BFCFFE3B090A09EE1B3A5CCF030DC4C8822820AE9718F3
FD66EB50F55C72037ABF2DF820D2891D4CDB3915C5AF41E8C2AB4C107B90A334
AA4E1A8C32B3A6E8909B6849D1B024C69662D95B48E196A41D04BD64754A4A1E
978FD8F18F5F3658A2558361AFE47A1865EEFBAAC565677C4A1D44343B09E187
A9C770FACEE264A0DA2173AA71DB2F13959D216AE64946C46B33C3C3B50FC11E
B54A38A33C24C7FF72C6913033DC38AC4A3DB1CAF058CA4D612294B0832013C1
16C8D143E24F021769C2AE4C623A4C81A99CEB3827D68B3903FA6E062EEC8E20
65932CE99F583C09E28EDFE834652236484AC64F7E80C3C4DFAC19925114A9C0
430B42F529E25EE5308A5846F05584EDC7E5D6AF59D08B314F127AA8D94977A0
B6AE3952D8B507407A464DEA79A32379D31E33FEC24ED132E4235876C9886919
178ADC67A7DDCE80BEAD0D252AE51FC3359AE80DA0E607AC05987AA4F8E5E27C
7E2FABDAE5315980F17A0C9650DBE5D9230445275BBFE287A74E789496AA5A28
0DD84008A3A646DAB313BA03D6D1C53C7AC6AC87274CA1ADFA1D7349CA8B44FE
FA1E5C6630746077231ABD103A7964352451C4371A8FFECFA4F08EAC3D3220F7
12BC9CAE6958F1A8A23C1F3CC610AAE2ACECA2829F950CC7B48E59EC9E696105
1F3F8ADF3FB3D4F87CE4E449327AA2CC135E7CB6F88096F8183A780DD6F7229C
312580B13BDEFDA466C4D33F70E3FE34852AEC5303D3D6DF466DE0BA2D6543CA
7466CA8D11FF20E3D4F1DDB796F46028C77493F5E2A4A15726F9BFCEAFB2F0A5
95FF255E269376B135BFE87F0D1BE92DFB8043DFB0F8115E1F14E7166125A826
C9533C778B09C334ECFB0589E0050A1A26C556B1BCA8BE368C5EAE055AB27D24
A6E9229F5B6F945CCD01BEB404C7BF760B054BA662FA40C1512D097D777AE90F
36B26F98C64D1B9BF50CCD7F96C7865726D63756C5F48DA57CA52D721D82E3E1
664127C73EA2D30FE0142E0C790F531B3007690F0FFB52E0BB7FD75476827968
93C00616EF573815316CA2F44A5F3174EB142DC677CBA4C532224E14D0C93C65
BEDCF9C0304101A20386AB9DB29E2A942CB018BDAAFB8B7272ADCB3B5D13559C
2680CD0C09CFF7725FE45F4615E692C09440068B33538F30D6D1E07C83195ADD
38656209FB63F0691ACECE27A4E5C17E4F3002B67CD574A3376F2C055405D413
BB96DAF9988653996F1B909C050405CEEE3164A66CFE45553935EAFECA1B2255
A14959F9375516CC9528F11B564FABEE2D8ECB76E18D21320EEB21BA0B1079A7
D107B793EACC1E86B41B9684232D10F5B499206615C344007E206B4605857AA9
0CAEB56EA95614FA225A2AE70AECB0106405DD23EADC36AA3FC728CDCA5468AD
010446BD7D473AA331DF7E6CCE534D1B019F7AF441739DA672730A7F8E4ECC27
725C3F7565C761AA16E5FDA328C8BCB65A40D3869F7314663E4DD6C3E688F569
9F130092954A375075C60A129BDC3F8D5FF595B129C3A30F648F4A370C1714F6
D7684C03F2EEC982A49A92C7318FD361AA9C8479EFB418C07D8A66A204BD9269
320243CF7E15B5524304D021772C6F71635ADAC453674E36C77031BFEF0E7067
56AF98E1C72BFCAE82D4C56FAD182821D8EC73D024874B5F0410189ABF56775B
37E17F9C28271737DADAB3F99737EADCA6D2E52CCEB29DBAF2EB6586FD381AD2
A3D951091E485FB06569289271B60809FF479411725E6A0D3F726AFBF569B313
9D092E4BC0A09A3B210842159439240CDD4CF7948E841901B7CEDBE2D06C05DB
F772691DC7E5E835CAC1A07B93A6D98377A65ABC00384FAB50191859FFDACA74
4322EAB396F6B40424D207E78BACB77D9953ACB5EDCA64F6A7ADA17C5FC187FE
DAC250A122EECC908870AFC2D66FC69758D0099C7044BF1101D531F411179F5B
F6F81C84A317E4EF880E33219F6C8A8616CA0F00253F04245F4B59318B11BC2B
472EA07B50E8C8B414EE70ACD4F43BD3E9ABEEB85B6347F0893FECDCD01E733C
BC6F4BA7349D135914FAC73C6BC0057D77FA212D0091E4B929D6294D5A95790D
7522ADC757ADEDBD518C03ABA610D56A5285E0A1BACA3544363047A4F540E43A
7EC06CECD6C0D12CDD3CD1DF2CBEFA9D8F29F5CBF16576718C9EC9CDB639AB05
6F70D5155FC2794BB3FA51579F2A71CF1C4052384FEE53B874079A965F289A8B
EBA1FA2C76D13DC6C5947AF4C2045A11D87A479DB92875C53AA4171A48419714
3485F94F07675DD4E458F0C21E6547A36811B4B3EC4FE7648C4685F2168EF55A
97EC138126226D02D79D3082FB3B6D8E0239F9FF46C3FCA2792C86510AA40E7A
43FEF7164CCA99959379160A28F5DAB8E37F4F9809C96E8708D86E0E63FF3EFB
D4C90E9E69C8B999DA9C7EAF9A57A75064FF6C952678EA78C0526995C4EB2BD7
19CE87F3D53DCA0166DB6625AF0DD0C9FAF2D7203AD01BEB453ED795C73ADA28
4313F92C62CD726D3FB38FC0876B5E28D55690A5DF3E55AB4BD6E5DF36D37030
B753C43D63464A24298DEAAF369BD7999A36CF94CD66BF7E7F7BB893A1AAA1BD
22A51C0389C22055BC0BF8648C8BACACC3ACF79189E1F048DAA149D5A96B5DA5
B8A687397AB8E4060DDF78DEC12754E4DFC22BEB0F45F0ABD9BC4BD25F1D2F2A
6D3063529A9BEAA5318D7D33391093A81081C32B007E9CF3F7252CF88B6F4124
C87F78EAF285F61C7138032DB2BCC230927C4946964C5067456583F8834AA272
D83AC9C8636BFBBAEE80B6263A23E5F121FB001D2524D55F7E88D612E5771F1E
4DE0EEDE1293096AD51C3B50E59E1C456FAD90ECC59F686D01907C020FAC5BD1
2F918820E96CB43A3561F478047F32C422E16B1DD4598E5DD46C355C8B715345
4FE7AF82BB7D0DB10A5E5A84AC75A28822581EC624CFF8C808C6CBCDFC20C2C0
6B0756CBD5C4C8E2929481A98D4816AF0878A76A1547D0EA365688C196990F60
95419ED19D0890FC59DAA663F9F1CCD963D3228460930B8AF4F28B6BA8DB64CF
6C341D8A22EA35FA92BB49B0A44FF3F16ED2F926B46ACA59775158DCF5DBADED
E3D89F8365971996F12EE859AA232DF8B23A87840097BBB1BB4A610F9E585EFF
492575035EDFA47D569AAE5472DC274B8939E760D843DF5536CBE0C266E69F2F
50C787D7664512D7DDC791FF2F2CB6B21184B1BCEF0AA2BAF4673D6591EF690C
5DC7A68F956E8136E532C10958BCA7C2CDE0D6CE808F96898945C83C1BC45989
53BDA34000D44C31B6E402EB7EB4C0E1F9BC5A3F4ACBFA35E453554540925138
B899EAAA23B1DF0592B82D0C1A73CE62FD7B48DB2A58CE62F0EF880CC9C891F2
7D404E92F7B243F142510650D1635D8172C956659D7993D422EDE6BC2BC397DB
FB1BBCE4709D32B8E4F4F8B5796C7E700ED30DF01A20C2FF32CC2387F74A8029
350272297B98B9A2274CE60E0D8C56AC3B8B48C18B585626B34B49B3B5E1F08C
1D8D6884F8A1CAD809FB0C9CE5DD7729E13D62AFB14DF9777767DEC3634E371C
9FA00EF3D109BFBC6188363AC2A766A919455CC3B5A91A95273F936212551A6D
D82B4B2F0CC6202421B0D9607845D84E34B76941012CAF6C11256CA6FEC27D14
4DF022975DE16588A30106DC9EBECCE23EF5DE578DC7F7FF32564E517B8682AD
9F50002B6C5B1AB65D9773598BDF8C4C3E571252BCA59C5A02DA58209CA12A80
FFD3C0AC729A79538C34876C9C3C9E50D35374BDA7158ACB94C124E3B3C673A3
571F39226B554B9551274482A8E50BE9603F95908D8C6C4C26E6E88B04AAE957
F683F592DD586ADF026C77F28A85853E1BABE29FB07E5D85EC3D960CFE75AC9C
BF1ED457D168CE2D49F60F496088C6017AB2BF53ACB77C9AF3A336B8447B4CD7
0D62877BEF550017E4BCD98A7985FFC58FDB13FDA1E55FE29E2C26CE81BA91B3
14C295A4F0D5308F0912E825114715CC32FC2DEBF5EC184D3BA67DDA2EAAFACE
C670187A1368D54F4DF89476E36CC71F87EAF158EACBFA420FB471FF6258BBC4
AB5CEC4E8B7D752D374656009B20B58B221D5B273CE8D851ABDBDC554685BD02
83AAE69551FFB6B83C81BDD500126A083C5189EAF81ECDFD34DF9471EEEFD012
5344B5ACDF7867EF7491E5CCE42C4B6481125DF8619083C1F3FD57B52B100217
CACD7DCB191DD1DE01B0A2CB0DCF6A72C0F80755E451124452F711F99286210F
E8C6F2598763BCC5D803A1A15343B151959D250B6481178D114DC5C304318E61
7C1A6BA7BDD82C8AA86BAADC6F5B1F8AE202EC2AB2E846EF392CD05082B9D45B
25E960DD472EFEF6EEB12453FBA16B12F05762E2F9CC00980201CF88AB9E2404
9E862639F8BE3DD5CCA3AE9880D9CC93AC191286468CBC1C26B0E7DBEF3EC490
BB0ABB449E8E0FFBE7409FE15BD9B65F0C7265E9310C168E1E600F05B56107C4
BC5B3909968DFE0962ED1CA99455B2876676947186CFE36EB139188DE3C9150D
9B4F2F6EC30FDEB05762A38B759F5FD1357346B52035077166D8C40BA41F6D5D
8B2879CAA29C37EF87B240096323A7659238252D34D0844F4B72355DF34DC7F9
49BB6A28E905BEDC96F5AA9D1865C86192158F82C8730E06888B6944B597CE2B
6E34646F97A5632B1FE0BEC5E9D50D3D1EE027ACDDE126D9F034CB88C6B67BEA
29808964DD791DE0066262210AD37A4332AD8E397A1CECD0DD26F7FBC2978E83
37677AA806AB5E08AF13080F869942A952641DDAED9C3CFAEBB811E6AC7AC6D9
72D14A9542B5B9C3DD516AE282D75DB5A2F384F2E8EAAA78C9480272EAC9014E
9080874B6B576D48475282CF485FFAC87F66C926F78D501CCFD7807888421E51
0F03C581B102D7BAFF7300641690C67E04BC4CA0768742E93B43D1BE12D04376
B666899B937757E4E6A0A0B0A64AD2FFBDF7FE02E6A761F37E1C90A64A242BEF
AA52A5634C965DA82BD3C3525608F7EA743D677F3D02430484FD18500D36A720
36A930398606005D3B3B87250D70BF94E4FCABC7A4EED5C9F271177F673D3F40
25B26E1CB023B7102D1E066C029B0196E175DE47E9123C5BE12BBB72D5444CC9
AF27752D0FF4713FA79117382A58C26076F7A1BB8525A560B009B972DF34E4B0
28ACC030CF6FEDC1F8F8E6825768D1104FC647C0398F985258E20F59BC9B438D
8644380708A5F328CC3A412C95EC06626CC2871FEFD3290BB2F9A9EFD2A6F8C3
555DCE97A672430739511E9E78DD29370246C7ABE622E4ECBE42697002121597
9BCB2F15A33D8AFB9F2476FC241674ED526B5FA95F94D58A822958B4FA201DB2
8AAD465A32233E72BD9F8783EEAA2F8D90AE4FF0CBCB8DB7D6A7C9CD43E18810
217342E8E4294E2F357E93F9BF00E61CBA15669CB077EAFC248EB4E993930BA2
27C83EEAD5F61C535C06BEB8D7DDB2A1F693FE3BD87FD91624F3BE56D29C0E29
36105A22DD97D236339FFB354F5C675F0DA4B26E63F85D01E517179AC1E2ADE9
EA74F527694D6296B6BBA10CAA3B2E03A70024D747905D660FBBC62C2110D643
0097A5E57360C854EB55C7B126A505D79B782AD49D1FEF5BFE1C10E9AA4F38BD
67AC7FD0DA8458077A8D565EDB8276D5903A55451C259513E8CD84F68DDE318B
960D126089D31223646BBDA30A4A75A1540C6986C62D6B61992976F7ABAEE06D
51B8465B705E74E22D611EE04EC6D5817DEF8FDDB1F0341D4882EFE0A8461C75
55AB188A8C8E30D7BD45A59F40B1EEB7CC55EA19431F3C6923FCC53105C54CD8
9BFFE287BD6CF3608275F6C29A42614FFA585967351977218E88145D4585814A
757E2C0D418B43969C723D948F6763C3E81A0E1440D708CB77118D8B8D2F6CB8
07C4844E1DADB06666A2D92F6AD464ADF186A10FC9BCA38B95943FD52C5688C9
8400CCF4AC3F14DFC91B96947A8F69EEE3E2A9BB3E5C0528199D09138754A0AD
98FDA33EB3F2696283D90FEBAC56A737546BD39C43302018970BD6F297DCBC12
40C60370DA78FAB48CD6D342ECA1C3E68D3F5BB2BA6448A84FEE56374500382C
963878D442E8622A32CEBA3B58CF32D824EA06BB6A4393BB7747FCA3ED1FEBC5
7C0C9D176C810E219D7EAB85D0511CC34709B1E670267E53F63F6D5228B34396
B402CB7150F1F1206FB143427794F31E4FB2BC140CC705210F2B686B1F44BAC2
F052031DFE0B49BEEEE32935463250F6189355CF601FDAE93F4EC131B6FFD718
B7D9361835A3C03F354E858296CC1ADC8C4898B9AEEC4DACE41DB514D4B32BFE
52A5CA5522DF09E4E384A1FCB3C75BF6A2C80410712F4F682C982C2E21125004
AFF16515B8EA3F35C2870A63ADD559BB630FF7373FDAFEA88FE5E563F7F768CC
28FC92C575CF0B45262408732C9AE1AAC40B72E52702C3614BB7460F2F7E9677
DC99E9EA110F2F9CE471DA55695856B513EE0221948F7122E85A022E1E5480B3
94E440E22C4DFF5521AD7C202B860BDEF5F482616A1584605BD624498E7B55D9
E104EA94C647977082E4564B9E025A32FC5FC8047171DE34634C6C39098E1594
CE0EFC3F4FBD6CCB2BF3B04A057538628532C1DB365AC12A0DDCE0A29E9FB745
08B70ABF298484964F6CF2F73337C5E4203CDBEF73A8DB7BE694DFBFFBF0FF07
B1C67B074F8041D763B545153435F059E94C77FBCFB8D41DB81B1B6D8225B926
C03488694375A5FA4234066662CA8F51EF6DA3DE7AF25D2D9F3646C00647DB9E
02242E2CD690032E01F68FF68F76313EE662A2B966319A75B00FDAA6AF64DF82
1BCF18A554682B3D0669D5A9FC31C982A2D65BD96B836066F96AD7F0DF16212D
A37D5E8F2DA6D7D7C3C57891C6F84FD56B51CF0EF424AB55CC087A22C4AEFFB6
8A1C3E780FB6CFAE7F33A636E8FCB6A929786DCF9ACFCD94D9DBB10F5587A80E
64CB284A513C54BC66594956345E6B3F20EE002716FD448E05A41BFAC5B0F428
A28C16513A8DDC47AD1504C049A5BB4ED34E00F08B4727BD880148B6506F8679
97C55BC593E6E6F2AA3FABEAD197107B90905DD3ACC07C4FD1950DB09DABCDF4
B458135A61D937098202C191637FC99426E3E62BDA7D8FB9B5DA36B63EBFE7E2
F10B880D5137042218277C6506CFD3B0DCC414A7CA5D6B61C850627E9476F017
54E2F936CB2B4650DC5489AD6AA4EF3B194441ED12D59B7F43EA45B5085B9C34
DEF80A9B35E44A022C6A
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57032092296D5371C275E56FB4903A60E
73A228140E5EF2E0D71747F3A8B306E22090E83708AEFF0B8676D01255BC5454
06F619700FCFDC0FADA203089A15D02A816730E3C4DEF638AB890BB1FB2B5581
3825B6C54CEB43B4B74569729292977C1F9E5B42E8B4EBBBB1BEBF12151A91C2
A54B5C388351A1257CF4FC6AF3095E933A0230755BB24A0A1BEF4C9E17664CD6
BF8A4892CA6C12BDE9B244E846A4703A4F3F091048A39591EC11773373693207
270421D17BF7A1EFD7BEC1FEF36ADF30D039985858F120C0B43B3379CEB8DA5F
B8D986A2323CAE1ABB4A8DB3B48350FAF524BB87E0AF2CB471A739286F0A88F3
13F2C7CC21815D40D135E6FDB8C06224F751D0E1D25DCDD595542034BE1AD864
898EB762AAE68CDE2C93089084E4690590274D39AFF4F9AB765334556E92F7D0
7206E2A5A5A1B6AE098F3348E3EDF1270EA4DB5CAED2D072F31BE6B08421D6D3
36F1A8D1F19EBA5185D98F480D0AAE36AE048947A0D17E6808E90E96FBF5AE72
D5CF65F947B019E98AB01F53A9E66A6553CE3B70A0F8FB04AC3B3DA8B55F002C
DE7F4158A12E50D39E95C58E7A60823813A53B1E86A865726CEE0F8C2AD44061
3CFBD0B5864AE46E1C21DD49FC35C9646EE3C01276320F4E3FB9A3418166163E
198FA013F73B17120D3A76A91ACA575BA93E916D46B7854923F5938584EA3688
8E63B4F8E149BC396814C316D174049E0383DE2A0218CFF0501BE11EE8C21B9B
0FE82E20ED30C2F9969F400F3DA07333C1160C5CD06FADEA683188B497AE4FE3
5A73F9C9DCB72C4641AF23C4521F343E0BE207E98E60C3E6C4EE8EF2C0D0DF8A
9D02D930BA6564154499CEB5824F5A39A32D0E2A497751CB16FD94C9617580B1
80E6D3F840EA78CD6F9BF3BD9BA913F7797B2EE51D544B70C75112DB10D97218
643A13819980A49A5957E95C6481BF712932F6EA047DA5D23F33D8CAFD0AF856
B65D0943921DF18C60F7F7CE1D552A11D81D048EFE671141B6C6EABD2E66038F
C559AA6E47A9923E89B03E293AF1A50B7120E340986E556E80263D08AD202EED
E471F90B964831ADD7E8F3B1381146EB373E41D9A3CC8188C4FDDF5898E0D242
E3918241CBABA561F9CB44682AFFFFF437E3D60F7423A1CF0B8391FD5FDEC6EB
152E8DB6FFA0C03A83B6A7F4DEFD4771D82EB8E55697006F3B17CD7BC74B2C86
E24D91CAA862E73A05063E225BC380F03DA0F473C99029F798D8F90EEF8A8DE4
D6C4ED368E1B157AED6E2E4193E360464756578283B83483C3CF8B700CDC9D52
C8FDF886D302D6DA644ECCBCAA68EE84CD1CE5A335716CC5FE7E60A3283933EB
6CD0D317832BF7F0C8230DF8A4E248C430A7F84330162AAA72EF3C916363DBD2
1F7496094346EA0F1A18F0F0F589EB0E808BAA5DE26760431884D3D2025CB2BA
0982D8332EBA37D61B308A
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
/UniqueID 5000793 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA6E45F332B5F68A44AD8A530F0
92A36FAC8D27F9087AFEEA2096F839A2BC4B937F24E080EF7C0F9374A18D565C
295A05210DB96A23175AC59A9BD0147A310EF49C551A417E0A22703F94FF7B75
409A5D417DA6730A69E310FA6A4229FC7E4F620B0FC4C63C50E99E179EB51E4C
4BC45217722F1E8E40F1E1428E792EAFE05C5A50D38C52114DFCD24D54027CBF
2512DD116F0463DE4052A7AD53B641A27E81E481947884CE35661B49153FA19E
0A2A860C7B61558671303DE6AE06A80E4E450E17067676E6BBB42A9A24ACBC3E
B0CA7B7A3BFEA84FED39CCFB6D545BB2BCC49E5E16976407AB9D94556CD4F008
24EF579B6800B6DC3AAF840B3FC6822872368E3B4274DD06CA36AF8F6346C11B
43C772CC242F3B212C4BD7018D71A1A74C9A94ED0093A5FB6557F4E0751047AF
D72098ECA301B8AE68110F983796E581F106144951DF5B750432A230FDA3B575
5A38B5E7972AABC12306A01A99FCF8189D71B8DBF49550BAEA9CF1B97CBFC7CC
96498ECC938B1A1710B670657DE923A659DB8757147B140A48067328E7E3F9C3
7D1888B284904301450CE0BC15EEEA00E48CCD6388F3FC3BEFD8D9C400015B65
0F2F536D035626B1FF0A69D732C7A1836D635C30C06BED4327737029E5BA5830
B9E88A4024C3326AD2F34F47B54739B48825AD6699F7D117EA4C4AEC4440BF6D
AA0099DEFD326235965C63647921828BF269ECC87A2B1C8CAD6C78B6E561B007
97BE2BC7CA32B4534075F6491BE959D1F635463E71679E527F4F456F774B2AF8
FEF3D8C63B2F8B99FE0F73BA44B3CF15A613471EA3C7A1CD783D3EB41F4ACEE5
20759B6A4C4466E2D80EF7C7866BAD06E5DF0434D2C607FC82C9EBD4D8902EE4
0A7617C3AEACCB7CCE00319D0677AA6DB7E0250B51908F966977BD8C8D07FDBD
F4D058444E7D7D91788DEA997CBE0545902E67194B7BA3CD0BF454FCA60B9A20
3E6BB526D2D5B5321EE18DD2A0B15E53BCB8E3E01067B30ED2DD2CB9B06D3122
A737435305D42DE9C6B614926BFD44DF10D14402EBEDFF0B144B1C9BD22D7379
5262FEEAFE31C8A721C2D46AA00C10681BA9970D09F1EA4FA77428025D4059BA
2988AC2E3D7246BAAAFB89745F0E38580546045527C8779A254DB08DCC6FB9B9
0E172209FBE3857AF495A7F2B34BC895A39A30F903DC6E3202D29AC110D868F4
7184CB78407B8B9D42F6375F67FD4B828592E4A977B9E71854D143CD1A9EDCD1
767CC2929E071FBA4C3D17500E28A23F697B5D5CC68D5F56EAD14BD504E07182
3FDC12F5404E74EC1C02AF00C1A6A17F958770ED4A024F5B3644DEFB61F2578E
56013D0B4E7CA3AD255E23DD63369A921D427EEE0E098E8148B16E8A5613A8F8
A5F1099E15AD16EC554B644DF306F0CF3571055A81F1B464529DB49E919F88E7
581066BEC4765E31BBE28C245BBF0B74610DBA30C63A71A4F3B60593A6B41C6C
636C980828CFE9A3362FBC02F1967F0F770A4790F90DEF9D56E0A76B0703FC58
2841E6E8D984FB476D4FEB960FFB6B386EC6CBB9EB83704B0AF63F38C77090A8
DAA165E6C6BC86601B14F8E9F504A9D578AF05128D8C1BCEA9D21057958D5DCF
653026524A2D101334AA3DF02A3CFA410836E6001561C00FB34AB04FF97302F0
7CCD024F8C61577E82FF229A45F7FE22ACEDD95AE8052044A41EDF46B8F84346
7275F5423171DF88188EE93BCFE0A84AE5C999E9C774A32B7A2826CEA8A8560B
2F61A42F967BCBE2081DCA5547D9EC53467ACF8A6AADFC54CEDB7305DD661ECC
3FE33D8C93D2425ED57BA83F360A384F6B94023EF8938DC136ED1F66CDB618EA
F40377CDEE0F17653E011F5CDE11C81A3FA5F7168681C02167B275AC0F73EF89
521A152823FCFC811C71E5D05D99094EB69E5724B34217D101BAA302B5BFDDF1
4DE66F7887BFD458C2A97A835C72E7A6EC2500577B0B057BA1B4773094EA1954
589FE5B1D1B4520FFBEFB6ECD015B606A244E605E78D39EDC316D97D99862CCE
898341583D28F141A02877B76050B07694737E9F107F153E5A5C7393CD479A09
114F07D12DE0185B971BD526301914EBAE20A38DC804C2319EFF3C8C4186630D
C91141528F408EEB02C718A0A3E0D39D1C9853F71113AC07DD209828B4873031
3E7A4E45D95025D9C558CC0C313BA3333EFCEB2D95B7BDA88C062E5243DFBD99
744C678DF4AE3478C68B4F7BF5C52DFD8A81DA0BD2C95229BA43D15986717CB8
A925638049C2A15A6913B9819B3642F68A07C4FDB2552C97D29211FAE2F16E40
076342D4C5A72E0D5185CE8EFB7A8D87D7F345E776512E8B41609794052B9A08
87EE0DECF203189379B9DEFB8DEC9585DEF2B44C7F64B4DEE827C74B975BD1F0
82D7E511A5A0FEBD52702F7E68157B509F303378B191BAFFB4229495AE65C558
D72D9AC8286E61633B29CF90917E4A01030D6B82CBF263751BCA8AB219284B04
80A8F4B34D0592EEAB82D64F9A5EB6A08A6CC5A7F3D3EE2B61710DB386AEA658
7A059E9633123EFEC39FADEA37C4205112063F7BD3D2F8319A30DA796E55BA23
00DE2B3C15511F87044ABDD9DDA9247B5E785A01A05B39F1A395E36AEA4D3D4E
ACACCB99E99DDB1AD1329069714FF050311B274E495FFE43D33DB3BE958098AC
61150EBC4F9DB7BFC8F6C81047DF0BABBBE67970D14524C82334B693724A0818
0007E4E848CE4AC8F07E72F02D74CC5C06DE0A67A63156F95203A1AD07362D18
A52ED55891703EE0DA5B0524F74413B22E5192DDA9948FE3005A8E4FE618E8F4
270501A7BC07B9A3FA1459911524D087EF9109807DA590D13D82EF29EAA24349
749092C74424B01F49755CF3AB59B94DC5F8CCBF3F5A2C2D530D4E52FA38B8A8
455E53A3DA720B374F83494B432737C8F394B33525E6D93BCA01D00C7D6A1F03
6553D7538DBA109CB5FAD4E3E47FFE2906A6AADB6A8BCD04F8E22741566856AF
3482E7C7B74F4C810786D901B890AE44BA882B22202B573BCF6A25DB9CD45558
3AC372A005721713C700204CBBCD29B0677EE835E178BF0D0621CB669C9B3801
6F48F0550AE1CEFDFE865B863518EC38D7E5BB0E7F6B2C7037F4C2EDC9438C67
C843C2AD9AAC6FC10413CCF2A39EFAD961330A77A7A5B37CBFDF00722614B93C
5ABC196D68B89CF4B4B0302B96FF312E43222EFA70355D13CE2E5C9D71D1C66C
A4A802B33837F1E8B295F87220FC72CD9EAF3C4FC08E488093015717D88EF0D8
18CF235D32113960A11C429A1A9A80BC6F9B7A51639AE68224F73E81335B81F7
66EB5D4B2B44C06DF7E0E325E30C571E98F92AA6F971471057E1FDE4ECAD660D
2A20A4301901F01AAF676CD61A4094D1EFEEE88679394BB1E02043A557578AD2
E2C7615EB982B326FB9FA05FD449D8B633F3E6ECBDD3E6FA7EA11C593111A821
03CBD7EAB57EB311517D199133ADBF00958A21D30DD182C760E33C8534995349
D69D340901C964099A4B54F38C348B4F701AA7020703C96720855C1353067177
0033F9115AF0F2ED372A6FB464B4AD35C607F0D9B9C756F146656FBB0F2FF338
6267C78A32F0097F4E3F132BFFA0C6EDA7CEA8EF33DB67A155D5F89BDCC5C84D
DD93306D7D20A0B4100102727B8AC34403AE5F6BB50438EEE0DC812258473B7A
4669D0E4B57BC37C09631818E78D9A56D1DA7855EA6111350A5E6C596EFA917A
091C8A6503D38FC53A086FDF77F662410E9C049BFF18C23E8BE622708EA44AC1
044DB4C40E92B9FE678F253EB09BC98A81469AB8FDFF63240F5A11C45D712B49
25134B943DA73063D6673E5D4F4ACCEA1C81A4E2D027A8672D8C93FA471D94D7
06FCB7EE61616E35EB64EBED0D207C924C5521E53BAF930857BC5616E42D85F6
418BD108B63A5D5BE84D01CCABD546BDCD9C7F43733A5E3446F7AB479EA7A149
0CD3F8D7D5F2E5CF11DD903109357F0158D4426B430B8DE2B74A2E490CA3D928
DD0F09EB6397D33BD1649DBDF937B9F77A430489493BC4E5DE81586C9E8B0C54
2489D9D1D191791C8E8920EF6ED9D42AD0C37EF9B64DD0E061C4F1966C250E94
00F10F3EB503CEB4F56C92B9B93EDAEB06AAF290CF33C3A659BB70AE05C03D69
BEA55B27647D61D9127C421CA06ECA446622E61F501309C382793C2E279D8098
EEB6650AB2C62B1B637DD369AFC17FD2EDE8E1A3241B844BF421599A9DC2632A
A6396B1B622936F15BE8D5FE5F8FF89BAF882DD4385EA1CD8578C3C00149C80C
BB67070E05D9CBAF6A4DB21C8FAE2DB988514D16CDDD0437225EE27A267B11DB
C9FF9C1C0E20D4D503D13FA1B428EA2388F4BD9FDB77F0B6058D7235C3BB2A10
98CCDC40714B93493FB67AFAE3969F215BB5F5AA2BFD4036BE4644B2C55634E0
E5250D89DB189162076FC3EDB01D09218B2CE5C7B3BB03EACC312B92D9EBEEB2
46785330DB57A1A892028F697BA7C18043EA39775260BDA20687CB8ABAEA3E12
5FB678EA0C87B9A2C28A1623ECF57C2612F96E30398E57FA92EB4F76185ADE52
FDBA5C33A743A7967849555C29E7B253E2406C1964D4AE29CB1924A3752D29A7
7101B1A4CA4058BCE68D9CE52FF341499F828E732331710CAB6A3307AF1ADC95
84F1B047CEB6275D7A95AD31A72D5620D0F7A55A43A5378F5E1D06090AE24122
18B9C5D77CA4F04EF596539C3F52AC3C7EA256634CFAF692165CD0DB30BFDF72
F4D3E9C75686139275AF47375AE22429DAB49A012914FD6F67AFD9011648A10A
18181FD1B05346FA0E8A44F706B47E5B4CD1FE11C9CC6F730FF750ADF9293DE0
E1720BE2C36C136A7F65EEB4121DE031230EAF8B9B888AABE3C1C0F5A96FA34F
948EB68D972F254E639FFBFB1CD331FE5D4F371397DFF9F7F03DDCECEA450678
F44ED225649DFC995F7377BEA06AD87AC73E4E411B61A38B61CC811A91D8309F
D4241911B5895C4DA87F09F6E2A86621897C84778CD6066AC39DB8BAA273C4D9
8E795A99ACC688574E22DE2CBAFE53AAB4D458CF8B809DFA26EC7935A2E11857
B3169FCF9BEB1C4D40898E6D256FF02D27C59DEF0433E5B6713A6FFCF1EE1109
EBD8DAB6644C444E5DDA95BAAE41BF3C2FED547B3D44E9129C45314C91FCC3CD
1EE73A5F54F8D8D36BB9BD85378AC4EA2DF12FBFC76C285B7F4DB2D4963F930A
31DCE65D9DB20A3CB0C33A424FF7B2046ECD1C23809B480FB931D56B203E73FB
EB78B97F37347641F88CB72A3804ECCD80336269EE382331103DC497E40A62C9
98E16A761C02F0C85FAFCAC8FD17406B2C36DB1A06F08A5C5028DED2C7F2DCC1
557BFD833EEEF60FD35E6C91F25F8CF04AB4921FF694CCAC56577CD079B41243
88354BBEF1650DDCE5EE4C76F1AC0876B665C2F033938A79DC5DFE0C3B6C37D6
FC152091E9672DA26261E2C283FEA2C95B569363C45BD3692E36EA734A80853D
A0574A680B8B8E22C9FF85E431DD41ED7D8B99BCC739B3AFFF0A6F5CCBBA8B34
6CE82D10E8860D0C7AABEFDAE3C0702B7E694B05AE8B8AB7BEE84303ACB40569
8B39107C51CD090F55323A53D7C03A900C9052E58484CE3C5E958DD50300FE91
35C87A0E25C57280799913941A4FD9E7DFF4D9F57E636AAA4EEF44D894DC35C7
E08394607D307559231F818BFD9927D0AA28494FC2A2E078797CC3D469D4E9A8
8F8C693021FC3D59371773B12EB19C3DDA2DDAD463CF664D04ECF1C2E90BDBC0
E77DA37459ADC5361F519A4736C5D79979F3B929F8ADDBFC89EB2A99A81FB717
8CB706BC6E118A040B35AE4D120ED9FEED533F5AB4D6546FDCBCD955C2F314A1
20D2E4258EACC6D623EFBBF07E8774DA46141C31F1DB9D0F1CE39DAEB1072A5D
35766F2F7C30879533BCE0C683DD646D80AA01268CE826E286AA3512BDDBD85C
C2E7B215103A6007B982641100A3E678390B8B4498C356BB835BF03F6AEE3DA7
9897ED7F4E9F8E7663A5DE652009854E2149840157BF60726C517F4F5EF380E4
39AB365FD0CE1A817BC991CADED81EA9E3C6EB641F32CD928DD93EB0F07C6021
7CE73D67385131973672FB71BC5606822D7067F9FC60E82F8CD149E6D8450B59
0BDD948B19B23F0CE5EB84E05D0AD7A7930174ABC469B3C0031867A5041E07BA
A568D82A96659028AEAE2D5E1F63F2E92001C5DA36F6946FE66659602C998BA6
71830AA2E4124AFF65DAEFF2224B3962774C9B143B9BD95C808CCED6FD915269
C4A429FA16A06B104C69661C54DA75B72B14BAE097B4A7A54D57FB1A991DC7F4
D402626BEC94B89EBE9EF53F33A18329898E0807620993DD1AF2495290782047
EB615BD0FA0140B356F201E7AFB1CEC9346EB43E472B9F84AD5F070A07DDC6FD
7A24FE0B93F2BA8255A2939BD2FFE7AD0060003C3CB11ECE1F573EDED79EEB6B
2A3C1365C4436E67B74B301F51AB1C6A465D75012D1B6432EAAD840E6EE977D5
19FD87A417BD2D3018D7FC63CAC2C52FADC6E36632B269DDE5385C2D445D170C
983136A5E2806FD32F5CFFFA291EFC2F9F90B5050352F1566358AED1F0953ECF
03B1F3DC117C99C652D7BC5E4E25DBCCE53AE9761F5BA950544FD601DA35E746
8421A4036CC4020A2B18B537A0ABE6CFD88E269FC82D30C74800E57C6CFE67FC
CCCB577208F2A4CADEC0033D8941E7EBC0587FF2A291A9FAEA329FFC6F8F22E9
419F7A063FC4D7E155735517D350F69660EA9A5A0F3D370321E6FF969855A42E
77BF7E97F82676351B76F590405671E867203C1E1A15757AC1656BE66D8EDB01
B422EAAB6F483830BB2559FD390E0DBB00084136CD5054932707685084F901DA
5ED4AC069063C02DBA62E7EB9690784B5B33748270658E065D4AFDED2F8D6A04
0566726A5657B0A8C0DB6D4A90306296807DC5750B0A93A0E5DE937131F9B555
44C8DE84D5E81874741D0C1D8753E806FF42E0C2AB2FFB9DE9254D9FE4AC2A7E
68D8219F20045B744A3F141FB5C4BEED0AF1ADF52645D70B71FA9CFA36347DB9
3E9D60B6055209B4ABD201D6703BB086435B6C7B6A61B4725944A82EE65D7B46
1A2EAAAF9BC6E405DBCE5620B1D34D7058FC6F144B721666C1FEC1D76A0AAF64
B77EBD47B662B2240629CC87848B3DDFBA8918F9AEFE063352848911587C5F04
E74F8CE55E546308DC3D75F20F5C49548C00DB01E50ABCD5C6E0F7A3DF560FC5
E83053C0433BAEC22459B00840D17FEC0D244764021A796ECDF8915557DE251B
2368736F72CF8C87048D5BD24EE8F464E52FE77FB8A3FA6DD489E0CAF35C0062
5D29B7F25EA15E021EEAA85DD10B4FA522FD79FA1B27A2C280AEBBDE2A3A85D7
0DBD9C2AC1A7476485E5764009226375B46371D562CA2FC6F05725B19A878D3C
8AFC543E1B80B847020E41CD68676C085875B3EC19A9B1462ACEFE2EFF1F33B7
D36F97E346D8FDC9E8E5621069E8EFC11BC234F22C5D73543D11EB30F418689E
E1D41F0A38BBFD6D4B27DF507EF74A256C69C58E96550E193DE3CBBB3D561D3A
9E0F558B0F1F9B340AEFFCB3860CC6B3079BE1418F09E8D42B3DC871C8EABFBB
4F21A9AD0C31FD5C2D1F1BE4B141AF809B682BC93856C08DC7D1033DB3C66AE0
7390D0872D9CE2477F54DB2F003764897EBC79525128C52AABDBB2C6F7A90CE3
5265271E4EBAE8D67D8BB9518CE61771F83647C2004FA33F646C2561EBD42980
8B2B0BBA4B7E078A1A11EAC0874209E033E6A070F3619265F0E3A05E418A7E1A
F5DF3A05854A10562268A66012A6E233AC4769CA54881588FEE9BC53D699D33C
AACAF2CE2AF4A778CA703508FF284A928026C0F9882D1C0006348A5CC033DBAE
55643E856ABB5BA469E64932B2296859126B0D3541E58CDECBD8295214B6AC48
3E28B1075A5FDADBF392C8FB0ADF1C7E4F400207C23402B1D310C811D4B77B48
5564EA7D6BEB4851FFDF99DAD2CDFDF1699F4F63022D6CA44CC16AA4A6F9FF54
BC2BE84108EC43964B193EC579A9F4701EBFB5BE1859AC2F018503AF50A71B8E
60E21320BBC5949906C9EEE179B5AF701F123F589577EDD1DFD32D35E465E7D8
C15D5D548F3E7395C5712331CE79AA6EB9DE946AA3B7EFDC950D2C9DD9C9751F
B034E8759E2153B2B6D26CA967D57777656C0F1F28BFF34D6B5B01DD3829E242
5CBB10B52DEFD6A7C8FDBC9BE7ADAFE231030D6960AD05DB9508206C0317B3CF
C9B6E0C70F0443E9CACBE6FDE60249D4956E817A24D73A8098005DEB035314AB
DFFDE8454A3FB7DA489C734FB131481610A8561D3E90B7D836AA1D3D4D87928C
3542D2BD05AA3427E26B048DE50FEFB8CB7F7CA533ED307AE2FAED4F66124EA8
FEDC5D5372425A4B8F9450760763B7632BA7255B50973914BFEACFD49430D3BC
8D0CFC02B84CCC569C6055162ABCA27A48A2CFD830A3A6B6E1AF4FC3A20E84C0
482F7C3FA20390D2416D86AB005C6EA33CF6358D41B2A4BCEACFC2F7D0BE770A
DEE286DE04256738E449ED925825C75FBD5F0A3A66AE648E1568889EA3DF91AE
8D01BE2AF95202C84EC601CDF3FE707704907F1A2B64874AA588641DC189875B
294B5A02BF032515D2FE9F325511B3C1CD330F46F9417EE299BCC5EDDA76517B
0397BD398B7DA51B2A6454B2CE943DE30F72A77638AA2EEF9EEDEBFF470086AB
A734B722E7BE0CB020C80836A82F41C4A87F39338DE0B62C32EEB87C3E619A24
73BF39D58D09116A5B26A0B36C5A0109CC18BF51E0B5912034F62A6817EF2484
CB93E9869C7E87BFB81C1B0E8B07CE3DB8F6A99FB8917C64E5EC73A69275F0BD
CF8673DF5DD04D9D3F8DF2C0A7A8709D6D3CF5CB358961F4A2A8DE4BDE290445
4FAF7FCB905436CD63132B4F3DF1B117C627E51F7B1CABB834D0AB876063AAF8
A536C68428E466B33210ABB5E7926556128F28C22FD96E1D3EBD1F2CA842D32D
8AB244B1B46A80D11BFB5742A24088128EE9BAEFE80A7A2798CC52CE71BECE5A
F941E5F896AC907A2157502552C4ECBE9027BA7BB2B708E2CB5256D119889AEC
0F50E7398E58DA08E1C03611F4131EB4630F805DD443E4F0D898D09CBED3FEFC
85C0D1167C63D268027A85F1EB2830061D77008A7691769AD8AF599098798DD0
AA709D111A971A23A1BB3A3CDE8A13957684934F2509C140BEE86807DF8DE4FB
69DC8DB477E210492C87C614802A627813C05C490B0250A0D46A4691A8006FC7
11D0C87BE3BC90AE7B9FBB6C1CC4A5EA441F4BF73E0FA39E0D1CBA055AA17452
FD3A10B05C5396ABD985A328641F31F42ABE941D2C9C3DE3DA0BA570F4F257DF
4D11E5F6F30DACA7ED8DD4F4766B1C720CA0514E496173EC2D2F61F0271A6B16
13DC004C553D737BEC2B4CE334B1A2BA08AD517922CE9D813BD02144C0A05B0F
A009ECE3D91178CBA85AE6F03DE042B52328AB963E73437333168FAF938EB34E
51DCA7D925E0BF6152EFC8DDCB4CF6A8B9639AA0FFEAA00A37E5DC7EF2A98F87
5CDBFA3435E6B583FDDC4CE2977489204F9D6824A3F6AFD72E61728359BA9737
DDDBA36E12435BBD2F1506D6B4626424F2DC4311D6A84C7F9B4226916810D39E
586F2B60AD70D93CE58AE2A29A4D851EFAEEE3279EC1B2F8BB7B98A04B48E3C9
060806507D5BCFB7CEA1E21058329C89665ED7A1453A42307E372EF5CE59A6EF
45BCD278678969898E3DC0CFE6640F38F82E48810A7238A079EE02C8F552AEA8
F9AA19F0329946C3BA9BDD8A0581C0D5FA01F701390161E37D2CBF0E052F6F2E
43978631982C21AB574D35FF5617F627B9FEA92CEF73724B59781B67B5E98131
34860896F3F7E99E9FBD68ACF858814CC801EACF034A9D3458E1A4E72DFDCD5F
7B614AA55C686281128D24E861652336A86AEF4D1E8DBA5182A5E3411154D131
A38E577C22230F165442537E40033E4B6D48A72D2514426D30F892219C4604FC
9A98DC54AD58EC3A64DA2D2294A2FF7E5D40E6C444AC616A0247F2CA68208654
800B08D2BA911A20F3A9F01D437DEDEDF236653B76CA7D5EBF9EB922D3D84186
52DAAC2B31A8AA4C24042467624816D70AD989429D83C54F656BBBCCB1D0841D
24909E19093891E080CF3D8475C9C235DC500124803E9BEB090143877E1B3676
7331391CE45CD2DDB0A87E3DE5F4EA3D1C6C7A86B59839AAC64C888ED23295FA
04577D2C6B0951E7563BD1BBAAEA99DC412A33067D8D7A7C1B310E8AAF5D9B55
18C47405C2F3B4D3269684D72C874EAEF4F8E027C4951AEC8CB9952360BD8E03
252E77545D58486730314DCF9ECFF4FD1A04C376341D75712B7DFC13D0A0F0DD
37EB3DE722D436C61B97FE019C5FA7A308AC57D0EB4CA1E650140F33953C781A
35154526CCBCF6EF1F7AB6246D55B039FE100F838C4DD1BA14093256238C5202
EAB377F1D76FB2296993B1174024211D58F7AFFDEAA288778B82498E5B16A1E3
A84557A134C5A48FA39B1A95AD797D2F5D080E5F204598F2C4F276371E3F27B1
4BADB5724F4BBB24A379189E631CD8AAFE4812448810706AE6978F537F0C7857
E9E100A36A4D86EB58E7A86BC2E526758B8C1C4F7C11FC7C0C044F81BE6308EE
64BF1EF77D7B4F261A69E5CA458032A854ECDBCC085E70A7F4A6AFB816BC7A73
71CB4A7E07F20319C5B2589F9FBCB16F077FB6ED8B4FA37BA78B25FDADA70B5C
5D179D4B4A414DA4EE30FA5559D0E51B06CFD84A57D02AAF5A7305D300441089
FAAA5FC6885A38A5129228A51748A6D92BA50F3AA27D12503094CE2C9E4F2F05
67F9EB0AD347A22A4724FD41AC4F8A1E3073C5A6500555CD0C923850BD55D0DB
07BADF2032603E6E0BF320839A43B5E9418A54AC3C61F91B87E8AADB8C0ED3E8
20D99B3D658EAD4B7A037FA55DA8F850F9A76F3CF026D1651F02E0AE99E4F566
CB0F20897850724D7FFBB91AD32B53377A03F3E1F0EFF0FD7F4C227DB9E593AC
AAE4B8607FE61BDE6A0B6E8522736D23ACEC56EC1092AB4C7C30913AF68C488A
754B78371A08188F66A05881FD3352138F3BC2BBBCB88B68A30AE8E0CBE8AB80
2506B4204505F93576DD64460223CF9159BE2FA2FF64F9A64216766F26C2111A
83575B2786B7A78B3510A70F9A59A5E326FFDCCCE7909CF3588E8126EB698466
30B1E412A1CF14758BE8C2FA52E9321183CF841F7ED6032CA7395259656ECFF0
B89B602AAFF3C9E940437D4D3D1FB307B1F920A016EAF388213F5E3E5DEDA66C
E7FC8EB47EA146ED3DD3978F22B67F77D6066F02B44E25954C89FD9DE38FE8F4
58B72F2492741C5861C0E17E72597A6105BD9378188194D3C9503EB88C8AB1DF
A4B3D3038CFDB8085A61AA6F56FBDFF2F469D1309EFEAFDBA790764E0792D354
1A22A43DB71A2A2CDC2422D101624190B6EE412F16F928E5A80D4A1885DF83AE
05F1A26C46AFAE2A127F38DC52E83E110B0876EA194EF18D10E373B1704478B6
8AC158BC4B67556F581A571B0372DA850B73C507E95BAFB96F94F20B3341E18C
2477DD40A640DEC44CC843EC6404F9BC68897EE998C5E5543B2AB477CC4A03E8
193D3C23506567723F67EF3FD503A465B93DE5EAFD1168F01410AD640363C541
1F7A5EA4CD9E42A61B3CA4DD5B3DFE58912A2CE8072D6F52EC7816428404E739
8E5C8C1CCF42BC9FCE360443423DBC0F71BEDD64DA1AFABE00C1407B8EE48B96
76D36625BC9EF516C643F88917E152AFD01765799303C504E724518E5A017F1B
7A6241913E1CE2CE609061449E7267EB298525E023975B531533223D34C1E843
CCA489A81A086BAF2AF0439B26B9C65612B254E6D295E4582BD3E99E11C40D49
A13BB62C0B7D4BC03F05299733A8A2239691584A7654181380F926A2C458302C
D93814DD78B5CACE615378D9DA909698A3ADCCCCD497FC06029CE08E9CE760A2
0D46FB227252E9B629915FFD58AC04A0F5BD556E58B93E19FD218DB2C8282A57
8C7F8AB5705FE6AEFB57404A7068B85F4F52F1B7A04A459EE059011A23307AD7
8D1EE8B005B456F8477E551D11F66C674B5330BB7C5CD61957FCD02CCA213DD9
93198CF1CC109A24A37A805F49A4231DEFF36C8304191E6A06C7A31A5BF87545
C260DDCC4478A7750EB0A18BF9F6D320EF7A17AE7F501263003F37236727C221
7E0098DAE29CD85A25DA2B51A9D58A6DF541F2F3570CB7FC120F7F817AD2C18F
C655CF7E4CF7A11728ED0ABA32B5EAB97E2E52B6633E2470A7C7A2B881AD9211
18959454958F8A7EFE8D12E6D2725FF5608715D5D4A713CD1C88CF409DC0F2D9
C6EDD3CBC8C4D3FB96F45F9CDB5B0923BC5C14CF5D9FD1C5E0BA2C01A4955A1A
C354DE2E5085A35865F8CF03083E3DED0F8470A0F0CF9031E6461A2D17365ACE
79AAD62903961B75732095E5A4B477749B6D24AF3E2467BD9BFA34F8A4F9C4F4
10E6309572A62C6032094B95E30C9E2B2D53B6013286BDE1CFDE2748D5C15ECA
F709559916109EFC2E18A730E42C25B5C591183796C27B93B39B115DA454D44E
85C61D94CC338115F49B10EA8F9DB50014FE6B3AF168FAC353CC59CF762AB641
074CB4B470F01492EA065B9964D2CAE4613E31FBA28AB4943A3B57A46F5388CD
CD91A6C2197259127B4E54B0289E091334441106A22197E60AD7BFDBEFE64F7B
8B113B038353E749E5C53C27FFC2A4BB44164B9BB894F251CB51F4F71188D084
2E28D9603C92FC4057F6787FAA4A2A92B3AFCDE830FD0A88F89DB0E59D4BDE0E
AEC2B9E94C39BB0AB2D83207F3B5E541310DEE8A5868E7A9C3532A35A26F0FA6
1072C7C829C038808B10A09FDFCBD0DAC74F1D4A5A36EC68DC5439B1414F2C92
0EF541D996F5878A448E48B53825069B2AA757D0BF9CFEE900B4296CBB828911
0096C2484A35100ED2D6C95722B1634539A1DB2A47838AD8F2ECBE5DD87FC9EA
9BFFA4E6C6AC73EE018A0529F2CE8AFD7D65D6D605D335E2B64FC7140ED28DC4
2BC374AF01ED640AF3BEAE40C0FAF4C92FBB10021AA5E1ADFF1250C121EA0C1D
301E7D1453D2459F58D980683AC08C452C67BB797DE246B6744F6E55E5ABC818
68A4DC26442A8F72EDF6D7165E93451D4A7D36ED2E6B61D66393B7187EFF46A9
33B6B01B0CB68BB7ECED7AFEBDC73F03D6D95812616838118384D472BDE80AEC
E2669F95043515E74D6538B6E1DDEBDD1581F10CCF3D26F44322838F668450AA
65243686F777844C17EB0CAFA69B47645556F95D3D00578EA77CC18875643185
E6D5799114316BCE03EF8AEBA82AF0E9FDE2AE8B4E3AC22D45F3C3C5123AA69D
2950A18B7F12ADBBE6C6B5CE7E3A2CADCA06DEE424F2C69014D08A50F51EE604
0C0D8E98EB91B538EA1693BE802E80FFF802BB9BF6083AB2A17C94EF942E4195
806A494C2AD36328340861681C064043A49BD44EE51E4C03FB659C6ED994658A
5FB5C9FC4AA5F815F8BB08CEE6CB40EB0771514828B4703134FDE79D3EBCC24C
63A4B58669AEC24D92EEEFB583E5F9178C332B04E03C3BC69B7FB54B71127FD8
A2D49A229FD823513433B33775EC1359E3BDBCF1DBF1CC4C92C3A2C28F98B202
F7039250C1F453B4E6B5B683B35328551CBE1844600F09F4E9FA358E34E178E1
6E4CF1C153F20212D139C6F76D66442B70B957A11D729780398D38804BE063BE
082E43188E30B50AE3EB967F6660FF53F78DB12EA8D7813FE04EB933673D456B
6A98F26906C660FD1140F28A2DCA2B841DAEB679DDB968D80D4843C65D963621
B9D8CF3D2979ECF5DBA56764E939D474B03D44645FEF996CA36D9149E8F7BD8B
FDD02F5AC9D0628A8F7FA60AE5398CF9B87ECF78917E1D7B1E72C42032B63904
709B6EDFF430CE0233676686C327933795BC941FD78948013071B76160F4AC58
619F540E890C5986AA0780EEA394149F5E8A87BFDDA72E34FBEFF625A3BA910F
611A8FC3ACB0F8916F5FFFE0AB768A16165C8FFA05F43AC6064380351681837C
05FFC798A3A5143DE77E6D8379B33FA8B998971EA6CA0E596325AA9996FCE5B4
B8FEF8ED825A55B2BBF6D7E93558DAB31118DA930221D3867CB50B9C1C4CB257
A45670EEA802462E8BA4AF6F7FD71A910FEA596670891BEFD4CFAAFB44459AE0
B396F4D3FE500071530CC7F936475883B1146C9538A78995DCD2EAC480A80F7D
85DF1758F21C8C4324B4680ED054A977E8CF3A7059D19C93AA53EDD3018458C9
1DE7943A401B253906CDAC7AC873A84F2A03E1F2A1015126577A340B9265D1B5
1054E41AC7E48EB3D052DFC9D1B37019A212C1D87712BC7B70B0A96FCC0BE258
530460205D0468ABC3EE2D2CE1C5425C08F1278BBC22440F9D9846E81CC1DC7B
6BC5EE5633D88A21D9E14CA70AB519DC858DFBA14DDF31D759E8376B296D8EC4
3AE8294A2D4756CB02189752E99B03F2CC22148301EC0740F3448EC3E4D6F63B
B7EF17A2074E5575D293D275610444CEA9004C25BFA876C2420159355D3D57FD
8BDBD714A5F44DD8193E069948743EC18C135BBF135904EE3D64F3871976D50F
45F79DBC9B2310433F1B316D4F96E1E6E411DB9AB38AFC643AA8654A101F1069
554938029298649C5CF8C11B2ABA3F86BE9A42BD27F6FB462CBBECA5D6C2C652
9F53C376F145AEBBEAEE811D6B9651608831702C3C0664D8C94BBAD49E19B66A
02A9D9F2457AD990D5B021BD4F888DD154980D790E46A78A249DED4CDB5286FE
7F9600C1FB72DE3226FB39BF881EBEE90B1AADFC59D3E18E2D51955E6044B13B
4F1806D7FC1D39F294476FCFD51A0EA0BF1ECE70E36BED7B42B0A648CC00E20D
C3EB7E0CEAD2C30A719D423D687EBDA4DD57ADA10D1E2A1C15D6A328BAFD73F0
65F1CC71142082B600FA42CF103A13AA4F53DB8894BC452C17402881E05505BE
94DEB3C2F2AA87EFDDA2EC10A1F9D922BB3FE41EF4DE6B7AE73DD0C50F2F4F8B
64C656D693B62F6D698074A4DB9B935E431A1EF064B1076FC53C7FAFA1D92CC1
1080F87DA6556B4A572871C73FB00B2D891A46B8B3D41183189B262BA934FF17
BDF39A16F830C06F556AAEB68470581E3C51795F2C7E1C4C77F4EE90945CDBAC
FAE1ABD6920A62D016E2820317B65C91EB750AC85AFC43133EDD9B25D4F27C88
DB9F1833C9EA73DDDCE0B8C40D40A50B3E39A0A4E5A9C169292F71CFBE314524
886A2CA3914643F23130CD2E493081A56E7DCEDEE7BB23717E688076658E745B
5D08575D35387B69994398A1C668FE4F346622911F6EFE2263ECA9DDAFFB216C
D38BF3E8ABB224435AD8D346BFAE7B4ED723C05B6AACACCF4ED64E3E1A60EED3
DF9FAECDFDA04DE5B25475AF5D3788B86F1846CB5655BBC4129850A6596A8292
80F361592619C6FEE93BD56070905140E66824EF739A21543D43EB57EE4AC249
B29C6ECC3FC2B5D67B35B9909D28D2AD524D93F2C31F9352AFDE7080295B6E3B
69F75FE98052A17F0FB7B2244407598AE06C279B6C14B1D81E8567130428A8BC
971E27D77BF5318B86F0DF352D05C57BB525F533EEBE5583CC3643EBA7E87C4E
A3C9375F09109C2FCAE86B46DFD7B5AACA0FD0D13DCBB30A87B7F78E8AC1CF11
2007DAB85112EA81133FEF78C61835BF1C26E6B222BA517ACB6546CDB342D9AA
FC2D6482528FAFE00FD72F276992BAA7B4B4BC8A6F1A1000908108686B296F3B
9C4C6DE8721A5F07B02C7129614EC7A44249D68A1D03E467694305C86AE401C1
7D38B848DFA4EE144577619FC6F41F37782DEE1EF992CD79D63F2DA91E823BBC
A964E3AFB27EC0B44500E97E6DC2280EF4E8FF76B66DD5A6C6C47253DED49FE4
A8426D0FFE185DB264AEDC255F56455715FEC53A7EB70A08B94B1B21A9D41E7A
CBF744462D287056A2DA2F29C11BD2A604FA142B2AD113FF99085B098A83986E
B506CD5BB06AEA0BB3FF6935419E53C6D5414B07E571EAC63BA7A2CC25170499
2DD77D1FCC6A241B5E58749043AFEC341539961EC09359A779744100F0C5A538
DEB06349FD44FE9006034136477D9E75356BA7C49AC7E5572B4CD0E6E7B43BAE
A87B5BAFBD2BCCFBD011D09D32D2DFB9301E681811C2A61B00DE394FB4456AFD
EF097B3E8992B7F65EAC73F065375CA4F819FEA016B09F439D960A47F0C51B6E
C51F8228333E54FA4CC838FB46F9AE551A0206C0B4AF87C799964C0A8751D7B0
FEFA28D6CE2DF0C717C1DC3D39FC64FEEE5AA14CF60F4D06C9C3A7D2D1645938
DAB18156D5F62F34ABACD64EE5154B11697AEA8B48FDCC944A86DB3F2366A0EB
2C90DFD81DDF122E4879982D52D55E16CDCCC88FA7841183A9920E9A924451B7
705182661C58AF43C38BC2EF550DA7E988EA2AFCB52D3EDCB082578426009BC2
7A70B350C93826A01174317DB3A4E9140E27828CFC2C5ED1F71C3FFD3EC61238
6E370DC2AC86A7F3BD3363A501AA4CFD74B1074658F736D1B4315ED51363B395
DD9CFF3DBBA0E83EA48261506C8BA263A71392A50F9B228586831B3CFBB31774
70137E753F40233FE79C37A7A383C1003512972920F51161DE940941312A0F58
7798CB027818F4CE24635C516A30B47A7EBF1AB68C3C7FBEDAE2F97D979D9496
73F2DC0DAD9E82D354E30150B23238FBCBB09C88AB5BD1A5EA0D638C41272066
F822F3AA99BC96BE0374887BC9A623B67CE58E091879D7BCB836A530067A51B6
BAB54A9CAC586F5AE7A8311698B7C4F6CA28B3E8BCC8368529AC18642D1AC5A8
EF86EA8E2E6B4C30E8B2A71E581BAF32716A821B7FCB95BCD8866ED15BCF1839
1DD27D9EFBE2BD947BC1142B759C4514EDFD599A20314C40ADD442F8563900C4
8FAA67E676B37F73C0BDE130C408424923201748B2A89B416125780DB03E52AB
0ECDF6EB9F02E594444FF454304792C2C18A8592438FE770E548D1AE1DB438AE
87E927908EDAF32752F082364A83C16C3F2E6CB3EB4F2E3AD0427331E5C1A1EF
F41A635554DC62C12BD11664BB3485D66BE68871879625B42868658C60FD837E
3D80A92DD25A234C728DA457C9349C36426FBED2CBFD658FDC9AD73BD7BC8D65
EE48CA64831AE5D9DB23AB420AFAD9DFA36BE7023B0F24F5E816D35221127F85
A1EE3F23DE1BC0A937807D5B41753E2252AEED712FDB49527468C65D8A8483B0
C2A695DE11D41CFB1AA508F4C3A47D55078C2075BA3D7F538542EF2436931700
19B1828FDF05591E3ABD8E7394A00E28FDABA403E83E34DE358523921346C2F2
9D8AE838C9F13FB5D18436C028B84653293FBE80B0F5B28742E83234B8DC8B0D
0E115689DDD06D07DFFDE786D96CDCFAB354D1F2AFE256F42CC73F7753FEB93F
AF56AE5245F9F8113FBFE6CB74D280A79FF5F81A8012AB293C73EE3827688878
E41C20AEB88C4BA8CB9F4E36F8AB5B01600ABB6450D7C7F0453423790DF998AE
13A0B7ABBFA1EE92635EB46B6BB113247806F77D65570AA2A90E6EBB81FBB088
F76731DC2526B8FC62A9DDD8326F6D184FCB2040752B9045EFF8751AC789E392
5A2EB9A3988B7F66845CF337B05582506F1B6B5A2B3C5DF1ECE31DFF14BF553E
8B2F3F6D5A29B6CE3EF647312D3407314FD4CE0614E32B0F3857928E69F65C16
A0D0F40CEBC66C2770B58C4647A76AF8921180426A63D47C1F1570602CDD1FE9
838D5CBA5B7FF8EA719315F5B7E270F0EEAA0FD8C6E3B5A7B924C0570A367F82
F780A0E7F3EE9A4CCDC277BC636274B396D33CFFABDE15A25DF8FA52368502A0
254B80C1151D514AAD970D81E1B182FB911DF5DE4A8A309AE120C0F8A5361ACE
22C805965191E72D0EC54EF41F189EF1218BEA490E2D400C18ACEB0A99D18478
DC860B1969464DDB9F2DF2ACC6EAED45B0FBCB242FAEA38FDC93B4759AFFC13E
4DC4BF511B9807A0348AB2D6275D989368B8DEB346E2133B3FF8C60C84AC3C56
B348837BD09C3D3A5AD57E8DC714ADEA661C59DC01B86DF1BE42C1516FF20DBE
EDFB30E3C6D6D46038A12A139FF4B6941A37E8C81A7AB28785169129B57135AC
79036397CD6D740E1B40C7611B309BD5A3A3408CDE234C1248C9CC03A9F9046C
A64195D82F3694142C280B24835BA5DD77745BD02A968100892CE993B49C3026
8BBC0296D37C8784701408D41D4B0D495C0F855A3B3FEED4ED230F8CF7776B95
DA547BFF5F686637F6BB9F428648CEC2466840A9D44A09455510C6CAB1349939
781CB8529EFF8888B34AD66A925A5F8A324ECC0B8753FEB4C3D87FE7D7323A08
EB149AF6F58BA4FA45D3D8DBA36D25D0C01A48B54AAF252C06202127FDFEAE80
74D907BA96F64CA941A2634F13F568850D626A24527B0D51E8528F05AC3E2827
BC10B9F70B6643CDD6941A7D937791D4AAAA1B7E266F8ABBB9E846498D5E391D
CD5D08632D1BEE2C75741EFADC151CE80F7DE57A3FD7182953D82C58F0E09AC3
AC75191CBA8779A3B276DF00BF86CB48D65485F9A1C70ABA045F22318A7A8540
4195FCA02B3DD64A3226EE0B5BC5B27E9A10A0FC5B2F2A829FA6E96951D5F4F6
6D915DC30288B782AE44D8FF60C31F7AE9BD45AE78456D491E8F2DFA52AE2C27
63A441EDF5872DB2AB477AC247E7D6A73B3C4B0E983872C5E4146AB998FA9046
292D34D7AF749A8808F82EC9818E9E6548C66D85C726CD0A3FB18C820CE11E8F
658B9A00013916D5661EB37E5D1BA91142196C1459DE73468E462F938FF34759
4E430C1DAAA9F4CECA2E8FDDC7895026894D883F0134D2B443109075FEAF9C72
71045BC306D55B057762FF85EE0880838076BBAADF38DBAFD08D23425EBB182C
64953B8429A877F5D2597067C9D79526D10CAC884BE44B04E303747CEB96CE32
7B329E03E3D2F5F98C64B9F88C329E5524AE05979A49C8C7A52F54E38405A90A
EA76F22B24E48D831ABD58D5B5BB6D932EDF8F910513D91977A431C55CCC7F0E
97C9F154195C0FCB0BC6EBB9CE5F2A9D5DEE3A7BCA8AA9B09CEC230AAAAA3A4E
A464CB8A799C454337D9CEF924CDBE1F59D5982244C1D661DD9F14E48C184AD1
F13B873BB4C7DF9C06B6B8B667B4E442DC58B5A0F5760DC0DCB07B24CC5ED485
0824871BE36C7A56A6C60DDF06FD8253B5C186129768795EA46EBE36E5087692
EB063B5521F5AD888CF29F26D833402B83B894891124BE08DE641F1D14129CBF
1C7F6583D4A0402DE220FCFFD24D0E1A9B3C96DAD99C5F151D4F7A56FD2AD7AB
B874A69E944226100359492E1E7C69EA7D6BEB745AEF7153240FC7181394EF26
15884468E5AD70257B6B732B563B0888E0CF2E60B990116F3F13B1C52110E0DB
5CA38E513856AB46F54729ABC434B2A3452B2872182BC5B496033B6CFA763D46
526D383B3EAAC7BB72865F840F37F2E526070F292CC0DA158ADC5A00209FEF36
251813F2BAE991BBC7CF167CF65930921BC3EBEC91806C2B446C3DA8A66B7DAA
397744737784B925CE2FD40CE542A5DD209CA330D442FCC02717A22D4642234A
B7F9DFDA073E475BB022469769E466A31F6717DDF80158E302883E67E7B03223
321C1FF85E0B835E9171E0FB95EAF07314492CA773FC378EE741A63220C727E5
3DA86798472BF3CE1127EE6E28D9E5AA8090F1EE63333E9CEB601DFF2960386B
9DAAF870E5D4A69E6DB5D8454C534D73220AE0C87B05F00158F573A122CECB2C
ECF8F9484C8CE905C02292FBEB386D5DBD3FB05BEC6D81A49A289992AD55D5BD
9D2E0CF694BF5B1EF851C7DAB6D618B1AD8C54E170612E7A45744C3F0225C3EE
ADE43E0C3BE628426EE452C8E0EC8E4A242D0EADF51B96165A894F7EA0408E19
175314609954C2C6C1CA55F637AA4CA35D3328DEBDD287611F32D02E91E9435A
337F33B330862D731F1007195827BF1BECB1A01C9D24D310016865564E0AEC0C
A0B8DAE65D39B130EA5BE59E87148FCD41C4DFCAAE503AFBCE3EEEBDD7C34FA0
6ACFE646CF4DBFF6C9C5C169C1A2318EE87FE1117FA67904B25AA31B5ADA7FD5
FB6F4159F2C72F96ABA45CA383574FC24F237C9CFABC17E0CB9F650E909E3C87
898104BD0F88045DD6834218E45BA2B953378630EAC5ED1938523DB4F6F37AC3
D88F7A1B7A5D001779A11D614765B96D06CB5C9CD7D73CB529D19A1AF1013332
18431DA23F483FE1D5BFDEABCCCB048A8B7307EB41BFD8E320BA3249A096BFFB
15DB94E64601A6E3453CF47F42DE1602436393D203276DF6CA99E02C3B4C3678
60E77B3AC5851ED8FCA2C0BB3833FD7C5B8F63A37578B27B87F17A7BC63BE127
D2D6ABD9DB1137FE80657B19DA559D384554FB4C38D89F9215B4D4F91B024287
426E9DC3657861930CA98BDF3E92431207BF475AF88315A5E56F0FDC9D1A2C8A
BDE75D2E864ABD2854027330B1A6FF2181134D18B3BFBA6516907CB938850241
826C8873DF1036333905E8B94ADD7644DFC609533CC1210BCF5F1FC63ECD7557
9A8F4EE208E8EDB0B0059CB8FE430F8F67626963F87A67E2B2C3BD77EEC0A5D7
0CD3E131CC3ABE974E70200B628196597F33F237C5F9A3B81B29BA515B69F33B
06A88A922751A064465A646ABB29FA7C163D5DA4E94BFF3AB40DDD86D635E8B3
B3BC61C77A22DD331D329BAB70349F2C6C7466F9807594A26099C2C526EE5826
F25E7BFB4CC3E23DBF1E8518EBC8B6A9298353501F6031F43974B3E64742B535
0C869057E7200AB9DE42CDEBD952D9AB221ED506627E689F54F00FB475116632
0974C43EB16EE8613D22283EEEBA3BC2F347697A64D1D1E9C99E7C9F81393C3C
ABF958C906DBA576D76ED9E29B6C2EC74E84843B7E4F48C1D0E1DF29A1E6B6AB
E4D985D4B931D9814898CBB922B3B9E10E789B194F280867E91E77BC061631AD
255FCB828A67E3334B7468166FE418E857F398F0B133954FE43D0CB42DB9DCE9
443F515ECD9C0872F5B51664938329315ED0E0ED02B3F1294023C135A5D59D72
28CCC30E45EC77DFD14E877A542241CCC85D6F28B901D2B109EC9888257E97A1
20CD6BD99034038E9B5D476A5024F61D493D55F0B5F458F73CA60757E1CFFDA6
C1B396A3B9B30730B041A1B7A98C3ED222B567CBA0EAE13631643B28832B7081
BFBE46C6503685DB161E5FA07B0647F47D2190082115F7993ACE600E17206C9C
8BA303B441F7813148D8AE570F16CFA7650CB5BE71080B0FC6D21748FA1A1E1F
DAE362A595EFD90704A481BC075D2EB0A22D72831ECA6F72DD51592FBDF625F8
3196F72E880E001BA90B674DB4F7EF4D0FD82D56F6D7B04E3D9750A9AB438898
F3FF97B45D8BDA60A2DCF75621CD6BD8C3A555F57DBA96800FC45859ADA2A0DF
2F41284DBAFFAC2DDD3486B544C97A3EF9ED8717B9F556005BACB22EADDEC134
2BF61EAE6C244537511DAE33A9AFAD7E516F0A21E6A4A4DD134394797877E01E
14F66DFE82274DD14AF41311236D973CB4A1445FF53D25B4C6451E6A9E4B5FB2
AD0E0703C43B4BCFFEABCE924EB1DA55C2CA60282CEC73F4217693356E10853E
71FBACCF88E4ECE27C06A618920F4BFED482FC8F8ECB831B4B4294D3802A339C
0A8A405AFC4BD24E8AD488C42E836E9E8A0A3B0677D33C31B87580B771B1B20E
CE4EFD96A5288770629F106EF0F4F2887F74DA3EA0ED8B3F5C0DF4A8D7281B19
ECA1CA791C6FC38277F381F2C6BB96F7C264057A2E1167522EE18E9318CF1EED
E8D52DC63E964AEE3F650DBE88E4E0351F53A7D91B601C2E5EC3CD8B7AA05B5C
FE5D27EF2F8A4C5BA4F4F6C77E13CA7ED0A7E975005629AD5FE3E793396DEB54
5326BD01D1CEBDF5488954F99A9114B9604F71377E4BA280860200E0931239A0
C2971DBEFB3B8A7AC7EE3222FD863373DC87489AA9D72012ADF1E2FC4D871649
0C52DCF40F5C91AD9745740FCC7EDE034DA3D9B393C705834806394E410BC320
5B8DD4755F2D2DE9F11BAB10623D26D9C8484868B4F2EF20937DAF869CF160C0
6621539B4CE8DD0D6D57E4953E6AF0E4A8C40373E78433F28073E8D7A652A195
402FF76988407BB06C974D9FD85921249543B7D7A44E7AF0FF6BD9DDB2EC80BE
4F50E65497F753ABAD730ADB12B485A55183B6D818108D06251E15CAE067D46F
BBD0D207E55FD07CFC6E7549A81B9493F70038CDF185EF726BAC68A1136BA6C0
4429E35DB80FFFF75034BA28BC90C6CC12C6A73DD7F38E63A6A2D2DFD84E6047
DFA123933D2377AD86D6739D7B93843673A6235DE6D1B7E1A7CE675415C6F3FB
C46F6EED58656CF381A20E0EFD76ABB0630CED6039B6A7AAC43B2FC57073905D
303F35EA9CE90983210D70A41C712E67E9138F95E91232D8D31AF069F407EEB3
BD74A5BB1D981339E66E1D42485E04AFC397E0644D92BB2AA0651A31AA585C44
384A2EBA0CCC41ECBC930282B920E8E1EB2806BADB3E5CB54AC0AC70DE129046
337B2AF13EA01C3ECD12DE1DB9B41BE3447F08E93AB6E84CCE772BDC43DD2326
690B37945F66C72D3D11584431A10FCE0CF846D3153011AE5711969268AF80AD
F6C6C35537BC7C2B1278C50FABBAF8F5A8852E3EFB64D70A7EBEE08790926798
FD8A4C7D61E7DC30FC5A6C0984450271C7FD8AC62A959878D2CA695D79EE67B8
BAFED6D2DDE05E739B7EFBEAD0DB5E76F3126A155377CEF16DA493BB4A018454
C959DD536EF7912D73E825C3A71FC1F393BC5CFD566A51175FCE36F6C5413CA0
A2EEEBE7C8EAFAC451BA80523D07F85B2DFC4EA06AEC9B9171197A1E16DB247F
BADE3B0FE1F42A9D4669EA6FB35F25DD42BC3F1B1CC638D599182BAFBE962557
BA9452978DDB20D310BE4446DA32A37AF10C5C940AB65AF5A4403B81D8C25622
B3EB7FE5F8F08EE2370099334CBCD5A52141FA8C1BB14407ADCA546DC7D65A05
9760D466340E394C187F8AB4310299197FA5A0FC9B26A862F14D3BB44694E468
372B67D3CB4106B16B14C2355D653FEC4F3F7598DB4FA1D39F423F4A11E3C1C4
965197639F18728874903F84509DBCCA979EEFF30BD9F9B2D23ED1D546301AA3
F35B27A3F85A0ADF974E657DA148DD065AF0C5B465D997230EC1197AA68E4ED8
C0FCC3C3E311093D5E69825D71262972D4D66F86402F60DBC1C2532CF1FCFC8F
54A163935FF18F466EE25A18AAF3C49A493E0CBAFE8B1827C700FD704B8D9C73
2A033D6DA666A19A6392B00A7ABB552424D763EEB6C79CEDFCC6D6AA8BAB1226
5743241A363F3E2A26C100A7C4725A925FA6805783CE1777C28B23EDE93C8BB1
E615678EB6CD82F90D1D696D7B5BC60AD6604E2B9113A279812BE81CA5035A3A
85468E6701D74BCBFECDEB9192BC0858969EB7845394A5533799CB15F259CF93
ED0B491E6F266FBB0B863DD7F50919EC23DFAC455F90C2EC9038E0ECB751082B
9CC78C5E1E7485681EB1BD09BA825F86F04F46798170A646B9482FA28B16CE69
1C40A9C018882FF72BD57BE82B178C63F25D5D1E4680B19F8CBE1FB6FCF6EC31
9F3762AA1B13A7959BFC2190AB5EA6EA099C6D172DE78635E05FC5F5DFCAE501
42A47EAD8BEE549F9F452AC07D540FDCE6EBB6090BFF54559D782799705C9B70
52F875B513D6EBD6FD3160258223BC8A469C725EEC7C07AD59A5684A3A16C13E
1E4C7404B016E5F9AEF740F8E4835E0B1D6C683020B02B2FC95D5D27E508B1E1
600F259F0B0CD44FEABD18C93C87D807
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR12
%!PS-AdobeFont-1.1: CMR12 1.0
%%CreationDate: 1991 Aug 20 16:38:05
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR12) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR12 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-34 -251 988 750}readonly def
/UniqueID 5000794 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF4E9D2405B169CD5365D6ECED5D768D66D6C
68618B8C482B341F8CA38E9BB9BAFCFAAD9C2F3FD033B62690986ED43D9C9361
3645B82392D5CAE11A7CB49D7E2E82DCD485CBA04C77322EB2E6A79D73DC194E
59C120A2DABB9BF72E2CF256DD6EB54EECBA588101ABD933B57CE8A3A0D16B28
51D7494F73096DF53BDC66BBF896B587DF9643317D5F610CD9088F9849126F23
DDE030F7B277DD99055C8B119CAE9C99158AC4E150CDFC2C66ED92EBB4CC092A
AA078CE16247A1335AD332DAA950D20395A7384C33FF72EAA31A5B89766E635F
45C4C068AD7EE867398F0381B07CB94D29FF097D59FF9961D195A948E3D87C31
821E9295A56D21875B41988F7A16A1587050C3C71B4E4355BB37F255D6B237CE
96F25467F70FA19E0F85785FF49068949CCC79F2F8AE57D5F79BB9C5CF5EED5D
9857B9967D9B96CDCF73D5D65FF75AFABB66734018BAE264597220C89FD17379
26764A9302D078B4EB0E29178C878FD61007EEA2DDB119AE88C57ECFEF4B71E4
140A34951DDC3568A84CC92371A789021A103A1A347050FDA6ECF7903F67D213
1D0C7C474A9053866E9C88E65E6932BA87A73686EAB0019389F84D159809C498
1E7A30ED942EB211B00DBFF5BCC720F4E276C3339B31B6EABBB078430E6A09BB
377D3061A20B1EB98796B8607EECBC699445EAA866C38E03ED7D4F3EDBCA1926
2AF6A41F67AFCFBF3630C943FA111E4CCD988A7363F7C2B75EAF5830B049460E
0D2B337988F150B9182E989E7750C51BA83DF37685483F86D1F47478883F3F6A
4B7F768DA5AA89E8F163029ADD4A9209DE8A4F285766C06EA859639B92CCCDCA
F59B1C2BB8D588CA754D1257BFF76B53984DF4937093AAEF79009D32A29A4C16
FB610C7D6713482C48D7F9E8410C0F00AD6E67021056B6035534E79F05D14EF2
4E87E9E4707985926D1310CA26FA89778C50A25FD4E22F75A2DF83784D7F48C9
87F618F75A28E38EB88B23351E700BC678A22660D2E5DD978B52ACBC0C5EDD78
06FC36C4F8D2627176064412E6D64FDDD22BD59425BAA4AC7997DB5A11D8A8B9
601A891382ED3BCA60F070381A779AD57558B0D7EA029334B2E4C7E164F6D334
EAB9EBECE19B6C4F3FB28A8727FB0EE5E35CA02E7A7E5F5EA7D3FFFB8E12CD9B
A3A99EF2A8A53E70DE4D067C34A6C201A5D206A8E887AC116633AA84FEB3D05F
369F4FCFDF8378B733DD78F9E0F35C3AECAA812120A374E37037BA8559E3287A
4024B27EB030E811AFA5FC066CD0AE776BFB9FA969DDF2063592A1A49DF0F7AA
0CDF0B34FA6B4BCC52E88E479172F8D83AC59010B4F91CDA303F1362CB80DEDC
25B3B6501FBA76F109D8D590EC9328D420065AB67EE5C2F8212837D39B4A2AC7
92EE30F635618DCA3CC9C89EBA3F9FFA255CBAB921C9F8D7F068CD90677E4376
B1D28181E279D2E1CD9FA829240C336E3EEE74DDADAC7EBC6E34F4BB06A9DA90
C92C78BCAB96F8C1B439A645BEBC7FBEB66587DD7698AD6EA6D981EABC54C237
BCDC6A852EEFBE74233A9A0125E62765A279CF1EFF9730E9CB393292020934FE
DA09D96D0EB3F5F7FCCD681452638ADD995EAD4F3671C0A9DB858A53180BF2BA
218A501243B33021F06C6FDEE8297ED9986DCF42C7956E0CC523870BE7E54BCF
DF229B2401D2B34CC05727C5F3F3CC8C3653ACDC124A63A11F09DB230247D5CF
941B1D7463593E64B761D90E1CFA6B9C2DE3B650C172711E5F00325811516270
F8A083B926E763B04A1B58066C06A7DDF8D264CDF87B79FE7F823F8DCA4094A3
B26B5844E8EED2688CC8080C1D848EA5D519A589597173074DE83F63B7C314DE
4982CBB3B64955F66A7E5FC31964301FAD8493C8FD394C4CF44C728684CDED34
EDFD5CA0B82ED6AD30F3C6ED1AFC4DCE2B545DE4E887B2E59CC7DBEE8046EB31
BEDAE9B44FD9183C3C73D34BA38911F40A91DEC44132C502DBD478231C3E2D83
8742D914C1BF33357FF78D9009063D939A9AEC2F57B6E0C2E3471E3073C055CE
3F341F8E595B7008A8B7BD88CD5315118D94FFEF55659F555EFDBA3DC8D4FED6
C3178CAB2F7764DB9AE87472ECFBF2DE986BF07FF13AC67BC4F19AA7CB7C67E5
5382A4D1954690E485DFC0828FA4A7327BBB02BEFA8FC1D11F08833C2104A91C
31E5DA75BE9BD67D87AF3884F8AAF09A12FEE75AB9B832FF98A6566788239066
AA3763718A24E41EAA71F9D9B6C8E1BF6B27DC8A7847E8165F6F2C7DFF6A67CD
A2DC770B9F590EBDB178F5C314E21D89B0B46482B584991F4663AFB357F40790
0AA9269CE924C9865749F24B0F98F7F0AE6BFB4B22DE5355BF94DC15A88D7EC3
D77EC736B99EB1637137A80086F1C05B8A7AB49CBC04E4670C424A2324011281
7C3EA03DBA0182F396C0C729BD78FA124766FE15498F51B3DBAB492B52FA3C1A
F9E1427627665AFBCF4265C88F5F994B73E0461CDDD9594579DDC35685FC589A
A01B00CFD66B4016FDB94D3C417A4975847B736C1F95E3113BB292991B501DE6
A7770F4E27140C8F86BB76CB0C87FEB99385F17BCF9994E080A8F3DF69DC21E8
5E362C0584B1A3D395980884827F5492D27A0E660C260ABC8708B6D2012FA829
B804321D570F4811B87B71DD4DA21FCDEFD437365D9B02AAC9FCF8B926E6A1A2
1EB2AC22C5C799BEFCD2D3B7675EB48FE1AFC909292580BAE92653758A78B633
D5B318AD5EF16B8CA3229E4A24BB71B404EEFED76A163D3023F8D1266D156E6B
9CFF9A2C8507800A0B4E4DD3838146DC4A528CE1D0319086ABFB03012A34051A
56252F87460063DCEC3CB8BD7EFE2C383F25547ED2B407A7D7C1D3D502F400D1
D4574B2144E25B381546F612E8F3C58FFF359ED5559CDAEC575615063D54F6F6
85110BBFD27503D1864D1261135F57A2AFD58AC94D315BA16E8A644A175FBA96
09E33C091F0356845CBF3401EEDFAFEF7DC4E64B681B65D4D83F153A1D845621
51D437D527FA38A1D8069BB99503EE25762EDE903F35F6A01D6BAF622D57B177
86A12CD584CB2DAFCCD5E5B46DF40FF55AF794B8C80774A3100B4AA6D78B90E9
2E41ED462C030EB79D359C5E6294B6D1C6A1EBA12C0D19E8068AC5989B641A9C
143442A92C800F61BB088AC7C0DEADD3FFBDBE007B850D5012C85F297CFC0060
BDD7D908201390B82E37C10425F85B84C8D4E42C3837AF708FD92D8EA13EAE6F
AF6575114CA484D13F53B722EE0AA3F2DC68CBFE573334D012A769D21C1737B1
91B756B41B9DB601CC3D7B0BA353917CC0D5478993BEE9D3EF4941F6B9EE3A8E
945ECD3E7FF12D951930AD4FACAAB87018165248C7AB32CE666D3991ABF474A0
C818EF5AFC05C11E7F32E631337AE10D41697F11E1E8C2BC14AA6B305EFE3D03
0592A12544E10175B06B5F1DA672F4D8CBD984423512A0D0F4AFB73E429A260D
7C45DDB85211B7713EE0B63AB694809DEAA5AA98F2FD09D9650228469E9080F1
AC37066443846EDCC47B9EE58327AE20826524C7BD0F0C5BBBB6B7ADE8FEC0FF
C19C3239F8D469476CFEA946F70BB5DDCD69D60A859BF80D3909D423A47F3B68
F0E8685BFA1226F393E7312A0C95BF3CFD68C6834F0A0895794C20313EC890D9
B5550009FA5CDCD54DE420EC124A9BC327342E87321CD714D673A9C4CA1DEE2D
0602E25B83D55317DAE9493CCA74F4F304E34F824337FA3F0852519026E7F7E2
2910DA4ADD17140AC8BBEA123132C0E88B5B3136B388CD313C76CEC324160B0D
CD410A81D0C3DA17F0573C7350BACC7281E3494CD609109ECF7117032556A850
C3D7A4A379203BFB837E8570F0E1BEAC112B11461FEC38CE0FF1013ED81964BC
C58FBFAB4B63B14BB900AFCF08B83350EA645CA67BE802E9FAE2B2D7016EA207
001AC9F2D4E8ADB64AB0B3821E2637AF4470B1F12222427287AABEC7FC404876
7477E3F5F7E9C28CE13EEB9645CA9D3F826EB88E56ABB96B342993AD4FEA8AB0
E8BEE22F59A708FD5A82DA911BEF68DB9AA76F2BADCC53DF33E519B9CC726A0C
1CDB348710710D02B1FBE09041818861ECBE03C2D901FFF67C5C9C28185AAE23
637AFE7016427B7FBF6115C500B46241A5DB44868BB1BD0C0A47AD9508A1C0FA
E67A75E0155347F30070299B3CCBA219C9FECB4D8495CE097C8714ACE8959325
1830C6D7CA907DECA47595A1C5529F4F4F6567570AF8B0CB636C1939C429F77F
73E4C41EE60367CA954E337521D4D0D6F8F1A1B1D05035908ACB5A9342D307C5
8E2EBD56AD79EFB9319B46447CD62F3BD51D010334D2130932D7A83D68AC15F7
15C720FC5CCE1B5D39D807529B93E0C80E69E3296F74A2AD2EF99ECE152AFA85
3671438995D8D8F730D630A2A309EE59A65A2599CC84C9F1F1C9C584CE71EBA0
2A5A41FC94F1482CC5D6076F4F9A02BB659BC0763C19FC3949F52F12C740A23F
354F9497D40D82D4C0E3436339D904C5436843570B95908AD17DEFF0DEFF825F
768ADB35C16538184E9A5F05CF39A6350C022A5641A85935AE88764C29C5FDF0
E560172D023872213AFE69BFC23C72939168CA19C528DC56B7A240664C0380BF
34821640245E8E7E90090CFD0A6D23FCEDC501974BCDB5C23BB0B81AD3202F09
0F31AB03F5A7DCDF5B3996A8A16CE239A0BBA367E90DC30BEF00546762717685
9685F21177E9B6F8A54DDDEEBD01A3FC556B06C3624294DCBB9C8DFD60EBE94C
837805D0F1ADE547E5D3D9BFD7F1A97D4524560BCB21D1C0188BFE178A005E95
88965433F8097DF26568909401D4BEFD1880B15395C83FE75E8411D1D9B4E70A
00884461D4324E2A473DE460A92DFF384EF0D747D088011D1C430158FA4F0CED
D71FD377B161C9B579D709DBCB123B39EBE864D14312C69089E6C1491C6FF7A6
F5927243FAA776E98153CAE1C1FCF10C7ED5F4E1E09A55F3B5218F4C6006B372
79127C54185ACBF01CB4C3635135415F2D796AA389BF9FFB2C213E605F70917E
5EF2AD9DB49035FE31AF2E0879C58F7CB61B5DFAD7B5F95398019C5F9733C276
D92A5DD35304508F63A5FC15BD76307DC3DD97E89652FAA12A25F0C4675FF2FB
0F4CD6FB3654463CFC6446A9A9D42E05A4BBB7CC4F8540DAE3AC6C08165DC908
E0C6A9526A7FBFEEDFEF98A775A626765FCE5BF927793DF47EDF47F057AB35D0
73BD2EBA2FEAAF5259CFAFE753BA074233949A957D6F72FD4FD0E123D70223B1
ACAA7BF879008B4A1BF8494A14846E3F1CF744F48A9A149278A259291D1498BC
52C55C3C23BF5D99DBA4CEFD7DCB129DE196608153CBB2BC51010ECE569FE739
BD9F27482D3F88EF6F52A07DE537F3A98149039C9480CB254131CB1FA3E5105D
65AEF4A919205FDF3352B5AF45F54FC3F07AEA4CB50F389ACEF9DFE00BDBEA56
31BFF124074FC8BB7EFC603C8007220DAA11F567EB996ABBEECE16E64D7EC551
D4A06A95978E3ECAEB1E091F323FAB8552CF5B3843B404434D7C052C694E8C8D
64CD7D0AED56F667A71A4410F230CA967C7A663070700A09771E918CCDF7FABF
A95E0A1F3F4FCAA2CA6F88F4ACC3DC70818A197740DBE7475C03BAD0BBC1C40B
CD55CA6A5574BD066FB2298E2DF38B60E214CAB2C0189CA941A0A8B5D0C253C7
30EFECADB4A5B680D64795BA2CB6CA38DD8654A91466B75705F8963CD0DBA1EC
967583530EBF7EEB9B1AF9003A3F755F8292CEFC4766DF6414CE94C654F6AF9A
6C38E9B3314ECD7039ED4F7A464C33BA2C50F037A1B3DB094EE396B705919FFE
0EEDEBE939721EBC7203751572B21674135587E272DDFE90344E7C4A4D946AFE
623E102F652EEA8B74601F022AAB7A38009245661982A9992489ED7EB4337E6A
BAFF995305E67446EF8D67817A36CE4464200F1F393B3558C5E69400AF1AFC32
F26C689964B8442A551D4DCAB7BF8E5DE04742655A356F5ECD0D15982D7DE517
6DD816418AB13CC18AB33F1B256B1383520A26C0A6E17EAA6DFD77182E947A2D
E3703B2C17901E585C86F3774A3C9B032B9BB78B76935CAC7B85EB8602E0469A
77356D6844ABD8A9EE77FFC581F38F4E4EC345D9FA8B9FBEEA16630D95FD46B7
0CC6DD34D1BE1BCA7E8C336F412F9EFC8ED7026AFE46E433DC19F2B88F94A048
65A7D6E8C5A242EB09075D6B56BD41626694DB16D7A05025B28D6202FF99C6C7
F1B8A83AE82065D8FB0C3F3649123D330F2A60870FDD94F5463313CA19BAAB56
EF36415016DEFF19123DAE0DF3C943AF6F8997F850D2AD6B882A80D568435926
1D379C99518D766ED931DC2594192696E87FE03408E9B2D9063FBD8466562C6D
EA47CB3C10123321DA0CC671D35D8B57758689C8B9176D49054F
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR17
%!PS-AdobeFont-1.1: CMR17 1.0
%%CreationDate: 1991 Aug 20 16:38:24
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR17) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR17 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-33 -250 945 749}readonly def
/UniqueID 5000795 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5F075EA0A10A15B0ED05D5039DA41B32B16E95
A3CE9725A429B35BAD796912FC328E3A28F96FCADA20A598E247755E7E7FF801
BDB00E9B9B086BDBE6EDCF841A3EAFC6F5284FED3C634085BA4EE0FC6A026E96
96D55575481B007BF93CA452EE3F71D83FAAB3D9DEDD2A8F96C5840EAE5BE5DC
9322E81DFF5E250DEB386E12A49FC9FBF9B4C25C3283F3CEA74B8278A1B09DA7
E9AE4FBAAF23EDF5A3E07D39385D521547C3AAAB8EB70549756EBA8EF445AF4A
497CA924ACCC3DD5456F8E2C7E36946A5BF14E2E959895F7C94F49137256BE46
4A238684D52792234869EAE1A6D8ADF4E138B79472D2A90A6CA99E2394CC20CD
3841733046175B20CEBE372327BF13428EED6A3E2FDF84C2DBA4B0AD584EE9DF
B51828D3B8F385846158C29C9AC3496CB9692DD10219697B2ED4D425C3957FD8
C4600D76E045C561216EF05D38177243C314877A69A1C22E3BEC611A2EE5A216
9B7C264CF6D1839DBBD78A40610F2C0D7C2FE09FFA9822FF55035AD52546970F
83EED2D30EABB1F303091EBC11A5379B12BB3F405E371519A53EA9D66174ED25
A2E55463EC71A97BE4C04B39E68112956117C8252DB6FB14AB64534B4BCD568B
246DB833982B38CDE7268BBF74B6B0C18091E1B1F87D32D66F4DD023D1F10D2A
7736A960F72AC01F733A11023832CD68FB6288A5977743F6F3F23E0C1657CF5D
E8374835BDBD2DED3690C84A1EBB8E2383A5E49E610B6F5F0F5F5EC43CFD16FF
24FEEFB92425CCB577E17FDE4EA6C50E1448DC5726A21888E25B6D6B52DA3D3C
E4C4C6A73C176DFEB60B6B6191B336AC4F5BAA123E1B3B6FAE4B3FA9DC8F7E39
335277EF2294315BE95F64EBDB1F393B293FD0FDB9DEE6C89082232013130D28
9234FF12DF47D454558A1EE8603B2832772E5CA07D18B34A4763D5B890F7173F
B8FEED3DFDC40985B4C4EFA511CE75E99EE2A5871D37CC5C639D95CFA65F4E05
03BC8C75D14653CDFAEB74D3EE954232602C8A186579EB9C99C238AB86F20046
FAF3355CB8756DD16A1B11A996DDBAE5B956F814DB30F5A99BE8E1113C747D0F
404F54D6BD5B8867D894396289C9C7EC7F8E6EE7E895BC6AEF635FA8281EAB26
B532D0CA0E81624D787A19C47A0D46F1B424FF38F3E22A81AD9971ADA6FDB0D3
194C0E25ABD5482E990933B8921C0AA975AE376306D1C285ACECBA90D7B0E0D6
F2120E6B2E0252771EE020204CF2EE4C1581072A5C4E55300E7D27B79FFA13BF
4231D72D1028E3908B15B7873AA4CE99F93A4DBD1CC18271FFEF56468879954E
286E9F5573D341B1DD491BD59E8603BF4E5859503917E651B8750FC3E7EB55E6
B7C8AF9626DD7B3D9F3AC629DC5E90584C28763EEDCFE84E3B06F3B1B7B328D6
29EC1A9B525EB74469529F8B2F4A2FFAD68DC202D25A4034BA25601FE9FD9C46
4EE9D7FBCFD6B9944007477ABA019307725CE5F1B72329D1E3BBFB8F6B67C11E
FE66682C12D5CED2F8386632F04DB6410FC012200718C02F17659BAC4D5BAA48
C4525EEBF8D3F2CE0AB514D4F4F49C13ECEE7307572AB78B7E79E39504625546
07D1E5CE52F267B574EDE5C832820157919D1F72EFA9D3DD1C61B4C72AE36670
9B700BD0A723703A481737E2F02D6399909F82A871406419FEBCB140038F292A
428DB62BC359372AE11C46B8EDDEC709CB25D7C6B062063C66879DC9E29B9143
29922F51E11E7B65BB4E05397393E8DE4B5AC49F4E90CB2336D19D6DED95BCEE
CEE9EE2953F0C75A1370488AF07217A58698686CB18D531C45A6C12938E7777E
707ED932DB27D75F72B633B1ABC79F085590150B847370C83A2FD1DB46E1B564
FE5A2D3B2539435170A48AC19811E44CC6A2C4B0FEA1B23DF7E738D33AE6B2A3
C0B0A099569726EB5ADC8184B1D37DF97A176AEBA07DEC03C81145410F2A80BE
D7F3F576E66008B20333A1CB4C18A619754DA355C8BDC30F05C34D561C4536F3
8CA8C02E2453A8DD4B75BDE0B51ECEB9F9217361C7CA684E153CF705ABF4F293
4051372F6C2717E634CB360B5F82B83E265D90756F56F4D97C6812074B88B899
390865315870AC8EC180AFAB93E992A11DB0D2209FAE8D343A322C0FB786DEDE
557A8650DB86F159BA1FB8C462A60C4102C035134AD43CEDE54E8373B6520640
8C7B896EE28B9DF7BEBCF40348EF644733B00AF0E01EBE33A02000D0CE04F5D4
C6064A73E480EF014305D5F59C73A22AF0E8B0D5F05A13F034B62AD1CEBD358D
3CE092E15EF06D0B46F4AACF5FA72E25F73453840FA4E42CB517E20B94441623
D267E4E842A572D820780EE481C423FC6F1DE18E77C1FE336F680F5163E6D3A0
21296EBA4F6019651423688CC310054E763AD280B8DE77A7A1A13F8A2527E6E1
5424CB19BEDC977B0EE8E191BBB4CC650E8D2301E33EB12A77E9C01E83B1ADCA
F6223F438C194F33C39E15DE2DA0C52129F121D7EEC5092EC5381C9870FC1CEC
85392F6069DD997D5A3FB2F55B2F8F4EB5AD759FC96C114B1BB3AC3D6E13FEBE
1CF97E3BE7FA90CF4B645C1E3CACEC0C609216A6182952972F22CA72A4723949
7DE54058340370BD2D8287E7B3EF8F3CE7715FF07776612DFD549FB5C4140F14
4A34A50CD3AC98B83C1CBC69E67D72C3F51C3FD158E1CC550913F600193115D4
9DCA5B2CB6B79A607C7E91DAE4BFBAB8F168CB8F1031BD561AFEAB35CE35E789
A50288BBB547FD1980B7D280021C28E12C9AD5DE7B96B48227DA28A360DD738F
B8D8F34D881DDBEA890CBF0D506CE009BD9223CEA33375E1D34993EFE83F295D
B851F6CDD4FAF05C9DEA8752237E912F5093866845D976222B10738BD39ACEDD
9A57906B7FF5007A9F28448DA9E7F83DC5797D415BAE972DBD3606DAE2995A90
A94190E23D4CF63F8B406FE4D7CEA2C6F0EE1C454C9786530EC129254849492F
AA9FF0BBA74F6F4E414F0D2909915531263847ADCC8E0E15A64414EA82E44A37
E7A4014B88C44CE4BA566D2C5D9C5F3D64EAD599CD3A7A287733666CED37BCE5
605CADF0B3F3FF885B82F3FFCAC7ABE68F8DBCBB5F0F501D0A23B496D965DABE
950C1A7EC793C5FDBE52F0169F26A5B9C4A7E54FC7065DAB05E1FC896C445696
57A485F02CC9A97472E965D90E9ACDB172DCE41145B440B747D68047B7BC103C
0C0D25239D82F0C31B92A40BE818AF9397E2E3F9E1867ACA332126B3864FE963
C6AC2E15B5B70F3864C44E6A5348CB24B11B54B59ACC7D46A27B1D016BBC36E0
9C76ED11CC37CDCB423CFD024B9A5B3EC3801A84E81B5631DA6E4B99C2E2499E
CE2ADA86B8ADC35CBEFD6E9AC931613D45F9F4A2527B076D47B0FF5F1A79967C
25A8DB3E7D1C856D245824839311978CEEC5037435940744F974F1057A11C352
4F53E96373CC73177C2FC19A0990ED90C009F9904F5BB2F189A6BD6ED1A527CD
AD4A9EFAF8EA237FFD1B3256900E8B61BD437E151DA03A393104001252F872BF
517A01A09359826A542E75972024D75CD98A25F9BCA47FA95B7C3DBDC46C9518
F2A9CCC90393DCE1831E8D5DAD4B03A886DE789FBBD6EA0052F4A6F03787D766
C7E6E153872ADB9AC204471165B7E8C80BEC5C214C8A350D146F9D86BE3ECBAA
C7BC4A618B1A08944DEDB620E5A980118EB9DF63E803178B66422F7FF5CDBF25
90504A441073429F4F156C94AD3EE7D8E16AE6330A5287E34E5DE8E0A7B6FFE7
4B5DDD61C3A7776352AF1C02D721D184B1CA1C38CE70E41BB03A83D28289AEE2
5C84EED01E02C2D10BF37C38BB1396E22B9F3AD9C688210846FFC7DC90FAFB4A
FE5298E4A9C8C2ABDA68F7F2DC042E7BDAE8A112662FAF46A415C8AACB2E94C6
A3829D8FF5C9780DA40E8A95DDF8D4B7EBD20AEA8919AEEE6B18F4D20724F2AC
F74C1FC08918517C9EB6FC993454A7BAD92C70F30EB649E700D2BE5063ACB99D
5C14694B8E5E448091F4B3A45292898AA502F45985345253E0CF9BD3622D5EB1
D1AD62643764E0052A660352D67C78B23E9741E024235A3D1209C0C3FB6A75FD
30ECF502BC2942FAD75CA160ABA55616327E5419D259C67638FFB840D768505C
61E97864FE3D13D103D241C58DD1D43EC15F54323BC04DBBC34CD20DBCB2E653
9B8AD89D67B56D75137B637B8C31BDBFF14F877A46C9E27B8AF4F79590B0EC42
B007CEEB14ADC1B46724F55AAD948E7E8515446A81C10A3948EB63CA974CBC0F
6F48BACE7E3D7D6BD09E00FF2AC18374A317B5EBFD6BD237837D3709FA11F86B
6B1D99E9A46CD3F5716E3699F19083ECDDDC664189DEC2899F91AE23BE8D129E
13149BCD34566C06DAB594DFDD01579B9566EB5B4A9F73D0203463F99F31771D
0F352936B6ED01B520D16ABA91F71DA80B6EBF22527D4A904C8DC44572991F79
AB4F91E20484C4F2F3F44FA422CF83544F3FACF425F5DAD4416653BCF2E13B32
193EE54870A122F774
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39158280 55380996 1000 600 600 (camlp5-5.08.dvi)
@start /Fa 133[34 40 39 55 38 45 28 34 35 38 42 42 47
68 21 38 1[25 42 38 25 38 42 38 38 42 46[42 10[25 26[47
12[{ TeX74afc74cEncoding ReEncodeFont }28 83.022 /CMTI10
rf /Fb 129[44 44 44 44 44 44 44 44 44 44 44 44 44 44
44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44
44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44
44 44 1[44 44 44 44 44 44 44 44 44 44 44 44 44 44 44
44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44 44
44 44 44 44 44 44 44 44 33[{ TeX09fbbfacEncoding ReEncodeFont }93
83.022 /CMTT10 rf /Fc 134[71 71 97 71 75 52 53 55 71
75 67 75 112 37 71 41 37 75 67 41 61 75 60 75 65 8[102
139 102 103 94 75 100 101 92 101 105 128 81 105 1[50
1[106 85 88 103 97 96 102 1[64 4[37 67 67 67 67 67 67
67 67 67 67 1[37 1[37 31[75 78 11[{ TeXf7b6d320Encoding ReEncodeFont }
63 119.552 /CMBX12 rf /Fd 135[102 3[75 1[79 1[108 1[108
4[54 108 2[88 108 2[94 10[146 5[132 6[72 4[148 140 138
146 7[97 97 97 97 97 97 97 97 97 97 48[{
 TeXf7b6d320Encoding ReEncodeFont }27 172.188 /CMBX12
rf /Fe 133[50 59 59 81 59 62 44 44 46 59 62 56 62 93
31 59 1[31 62 56 34 51 62 50 62 54 8[85 116 85 86 78
62 84 84 77 84 88 106 67 88 1[42 88 88 70 74 86 81 80
85 1[53 5[56 56 56 56 56 56 56 56 56 56 1[31 1[31 9[58
20[62 62 12[{ TeXf7b6d320Encoding ReEncodeFont }64 99.6264
/CMBX12 rf /Ff 132[48 42 50 50 69 50 53 37 38 39 50 53
48 53 80 27 50 29 27 53 48 29 44 53 42 53 46 10[72 1[66
53 72 72 65 72 1[91 57 2[36 75 1[60 63 73 69 68 72 6[27
48 48 48 48 48 48 48 48 48 48 1[27 32 3[37 37 5[50 20[53
53 12[{ TeXf7b6d320Encoding ReEncodeFont }62 83.022 /CMBX10
rf /Fg 134[123 123 1[123 129 90 92 95 123 129 116 129
194 65 123 1[65 129 116 71 106 129 103 129 113 12[162
129 1[175 159 2[220 140 2[87 2[146 153 1[168 165 175
11[116 7[77 45[{ TeXf7b6d320Encoding ReEncodeFont }37
206.559 /CMBX12 rf /Fh 145[42 6[42 42 86[42 1[83 9[42
3[{ TeXbbad153fEncoding ReEncodeFont }6 83.022 /CMSY10
rf /Fi 129[42 3[37 44 44 60 44 46 32 33 33 44 46 42 46
69 23 44 25 23 46 42 25 37 46 37 46 42 3[23 1[23 1[62
62 85 62 62 60 46 61 65 57 65 62 76 52 65 43 30 62 65
54 57 63 60 59 62 65 39 39 65 23 23 23 42 42 42 42 42
42 42 42 42 42 42 23 28 23 65 42 32 32 23 1[69 42 69
42 23 18[69 46 46 48 11[{ TeXf7b6d320Encoding ReEncodeFont }89
83.022 /CMR10 rf /Fj 134[51 3[54 2[38 3[54 1[27 2[27
1[49 1[43 54 1[54 49 14[72 11[64 1[75 11[49 5[49 1[49
3[27 44[{ TeXf7b6d320Encoding ReEncodeFont }18 99.6264
/CMR12 rf /Fk 137[62 2[46 46 2[59 65 4[33 3[52 44[59
2[59 4[59 1[33 46[{ TeXf7b6d320Encoding ReEncodeFont }11
119.552 /CMR12 rf /Fl 138[106 2[73 1[106 1[106 159 52
5[57 84 1[84 1[95 14[141 4[176 9[138 13[95 7[62 45[{
 TeXf7b6d320Encoding ReEncodeFont }15 206.559 /CMR17
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: a4
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 794 2447 a Fl(Camlp5)62 b(-)g(Reference)f(Man)-5
b(ual)1647 2596 y Fk(v)m(ersion)38 b(5.08)1487 2949 y
Fj(Daniel)32 b(de)h(Rauglaudre)1566 3065 y(F)-8 b(ebruary)33
b(20,)f(2008)344 5208 y Fi(Cop)n(yrigh)n(t)757 5205 y(c)734
5208 y Fh(\015)27 b Fi(2007-2008)d(Institut)k(National)f(de)h(Rec)n
(herc)n(he)f(en)g(Informatique)g(et)h(Automatique)430
5308 y(This)f(do)r(cumen)n(t)h(w)n(as)f(generated)f(b)n(y)i(a)f(shell)g
(script)h(from)f(the)h(h)n(tml)g(do)r(cumen)n(tation)f(pages.)p
eop end
%%Page: 2 2
TeXDict begin 2 1 bop eop end
%%Page: 1 3
TeXDict begin 1 2 bop 0 1055 a Fg(Con)-6 b(ten)g(ts)0
1570 y Ff(1)77 b(In)m(tro)s(duction)3201 b(9)125 1670
y Fi(1.1)83 b(Shell)28 b(usage)78 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)134 b(9)125 1770 y(1.2)83 b(P)n(arsing)26
b(and)h(Prin)n(ting)g(kits)77 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(10)125
1870 y(1.3)83 b(Extending)28 b(syn)n(tax)34 b(.)42 b(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)93 b(10)125 1970 y(1.4)83 b(Prett)n(y)27 b(prin)n(ting)61
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(11)125 2070
y(1.5)83 b(Note:)37 b(the)28 b(revised)f(syn)n(tax)38
b(.)j(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)93 b(11)0 2253 y Ff(2)77 b(T)-8 b(ransitional)31
b(and)h(Strict)h(mo)s(des)2432 b(13)125 2353 y Fi(2.1)83
b(Whic)n(h)28 b(mo)r(de)g(is)g(installed)f(?)55 b(.)42
b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)93 b(14)125 2453 y(2.2)83 b(Selecting)28 b(mo)r(de)g(when)g
(compiling)f(Camlp5)62 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)93 b(14)0 2637 y Ff(3)77 b(P)m(arsing)32 b(and)g(Prin)m(ting)g(to)s
(ols)2572 b(15)125 2737 y Fi(3.1)83 b(Stream)28 b(parsers)66
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(15)125 2837
y(3.2)83 b(Extensible)28 b(grammars)34 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(16)125 2937 y(3.3)83 b(Prett)n(y)27 b(mo)r(dule)85
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(17)125 3037
y(3.4)83 b(Extensible)28 b(prin)n(ters)52 b(.)41 b(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)93 b(17)0 3324 y Fe(I)112 b(P)m(arsing)38 b(to)s(ols)2995
b(19)0 3507 y Ff(4)77 b(Stream)32 b(parsers)3052 b(21)125
3607 y Fi(4.1)83 b(In)n(tro)r(duction)26 b(.)41 b(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(21)125 3707 y(4.2)83 b(Syn)n(tax)35
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(21)125 3807 y(4.3)83 b(Streams)59 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(22)315 3907 y(4.3.1)h(Stream.from)22
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(22)315 4007 y(4.3.2)h(Stream.of)p
935 4007 25 4 v 30 w(list)47 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(22)315 4107 y(4.3.3)h(Stream.of)p 935 4107 V 30 w(string)79
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(22)315 4207 y(4.3.4)h(Stream.of)p
935 4207 V 30 w(c)n(hannel)77 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(22)125
4307 y(4.4)83 b(Seman)n(tics)28 b(of)f(parsers)61 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(23)315 4407 y(4.4.1)h(P)n(arser)46
b(.)c(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(23)315 4507
y(4.4.2)h(Left)28 b(factorization)37 b(.)k(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(23)315 4607 y(4.4.3)h(Matc)n(h)27 b(with)i(parser)59
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)93 b(24)315 4707 y(4.4.4)h(Error)25 b(messages)53
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)93 b(24)315 4807 y(4.4.5)h(Stream)27
b(pattern)h(comp)r(onen)n(t)75 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)93 b(25)315 4907 y(4.4.6)h(Let)28
b(statemen)n(t)i(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(26)315 5007
y(4.4.7)h(Lo)r(ok)-5 b(ahead)83 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(26)315 5107 y(4.4.8)h(No)28 b(error)d(optimization)68
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)93 b(27)315 5207 y(4.4.9)h(P)n(osition)48 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(28)315 5307 y(4.4.10)52
b(Seman)n(tic)28 b(action)22 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(28)125 5407 y(4.5)83 b(Remarks)32 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(28)1929 5656 y(1)p eop end
%%Page: 2 4
TeXDict begin 2 3 bop 315 390 a Fi(4.5.1)94 b(Simplicit)n(y)28
b(vs)f(Asso)r(ciativit)n(y)c(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)93 b(28)315 490 y(4.5.2)h(Lexing)27
b(vs)g(P)n(arsing)82 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(29)315 590 y(4.5.3)h(Lexer)27
b(syn)n(tax)g(vs)g(P)n(arser)e(syn)n(tax)d(.)41 b(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(30)315 689 y(4.5.4)h(Purely)27
b(functional)g(parsers)76 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)93 b(30)0 872 y Ff(5)77 b(Stream)32
b(lexers)3107 b(31)125 972 y Fi(5.1)83 b(In)n(tro)r(duction)26
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(31)125
1071 y(5.2)83 b(Syn)n(tax)35 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(31)125 1171 y(5.3)83 b(Seman)n(tics)53
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(32)315 1271 y(5.3.1)h(Sym)n(b)r(ols)41 b(.)g(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)93 b(33)315 1370 y(5.3.2)h(Sp)r(eci\014c)28 b(expressions)22
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)93 b(34)315 1470 y(5.3.3)h(Lo)r(ok)-5
b(ahead)83 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(34)315 1570
y(5.3.4)h(Seman)n(tic)28 b(actions)e(of)i(rules)83 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(35)315 1669 y(5.3.5)h(A)28 b(complete)g(example)57
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)93 b(35)315 1769 y(5.3.6)h(Compiling)34 b(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(35)315 1869 y(5.3.7)h(Ho)n(w)27
b(to)h(displa)n(y)f(the)h(generated)e(co)r(de)54 b(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(35)0
2051 y Ff(6)77 b(F)-8 b(unctional)31 b(parsers)2914 b(37)125
2151 y Fi(6.1)83 b(Syn)n(tax)35 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(37)125 2251 y(6.2)83 b(Streams)59
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(38)315 2350 y(6.2.1)h(Fstream.from)45 b(.)d(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(38)315 2450 y(6.2.2)h(Fstream.of)p 976 2450 25 4 v
29 w(list)72 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(38)315 2550
y(6.2.3)h(Fstream.of)p 976 2550 V 29 w(string)39 b(.)i(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(38)315 2650 y(6.2.4)h(Fstream.of)p 976 2650 V 29 w(c)n(hannel)37
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)93 b(38)125 2749 y(6.3)83 b(Seman)n(tics)28
b(of)f(parsers)61 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(38)315
2849 y(6.3.1)h(Fparser)66 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(38)315 2949 y(6.3.2)h(Error)25 b(p)r(osition)g(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(38)0 3131 y Ff(7)77 b(Bac)m(ktrac)m(king)34
b(parsers)2807 b(41)125 3231 y Fi(7.1)83 b(Syn)n(tax)35
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(41)125 3331 y(7.2)83 b(Seman)n(tics)53 b(.)42 b(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)93 b(42)315 3430 y(7.2.1)h(Algorithm)36
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(42)315 3530 y(7.2.2)h(T)n(yp)r
(e)28 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(42)315 3630 y(7.2.3)h(Syn)n(tax)27 b(errors)47 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(43)125 3729 y(7.3)83 b(Example)33
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(43)0 3912 y Ff(8)77 b(Extensible)30 b(grammars)2798
b(45)125 4012 y Fi(8.1)83 b(Getting)28 b(started)50 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(45)125 4111 y(8.2)83
b(Syn)n(tax)28 b(of)f(the)h(EXTEND)g(statemen)n(t)56
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(46)125 4211 y(8.3)83 b(Seman)n(tics)28 b(of)f(the)h(EXTEND)g
(statemen)n(t)74 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)93 b(47)315 4311 y(8.3.1)h(GLOBAL)27 b(indicator)e(.)42
b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)93 b(47)315 4410 y(8.3.2)h(En)n(tries)27 b(list)76
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(48)315 4510 y(8.3.3)h(Sym)n(b)r
(ols)41 b(.)g(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(49)315
4610 y(8.3.4)h(Rules)28 b(insertion)59 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(51)315 4709 y(8.3.5)h(Seman)n(tic)28 b(action)22 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)93 b(52)125 4809 y(8.4)83 b(The)28 b(DELETE)p
837 4809 V 29 w(R)n(ULE)f(statemen)n(t)j(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(52)125 4909
y(8.5)83 b(Extensions)27 b(F)n(OLD0)g(and)g(F)n(OLD1)35
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)93 b(53)125 5008 y(8.6)83 b(Grammar)27 b(mac)n(hinery)48
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(54)315 5108 y(8.6.1)h(Start)28
b(and)f(Con)n(tin)n(ue)i(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(54)315 5208
y(8.6.2)h(Asso)r(ciativit)n(y)67 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(54)315 5308 y(8.6.3)h(P)n(arsing)25 b(algorithm)80
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)93 b(55)315 5407 y(8.6.4)h(Errors)25 b(and)j(reco)n(v)n
(ery)75 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(55)1929 5656 y(2)p eop end
%%Page: 3 5
TeXDict begin 3 4 bop 315 390 a Fi(8.6.5)94 b(T)-7 b(ok)n(ens)27
b(starting)f(rules)35 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(56)125 492 y(8.7)83
b(The)28 b(Grammar)e(mo)r(dule)53 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(56)125 594 y(8.8)83 b(In)n(terface)27 b(with)h(the)g(lexer)83
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(56)315 695 y(8.8.1)h(T)-7 b(ok)n(en)27
b(patterns)54 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(56)315 797 y(8.8.2)h(The)28
b(lexer)f(record)67 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(57)315 899
y(8.8.3)h(Minimalist)28 b(v)n(ersion)57 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(59)125 1000 y(8.9)83 b(F)-7 b(unctorial)28 b(in)n(terface)i(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)93 b(59)315 1102 y(8.9.1)h(The)28
b(lexer)f(t)n(yp)r(e)71 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(59)315
1204 y(8.9.2)h(The)28 b(functor)f(parameter)j(.)42 b(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(60)315 1305 y(8.9.3)h(The)28 b(resulting)f(grammar)e(mo)r(dule)50
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(60)315 1407 y(8.9.4)h(GEXTEND)28 b(and)f(GDELETE)p
1612 1407 25 4 v 29 w(R)n(ULE)g(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)93 b(61)125 1509 y(8.10)41 b(An)29 b(example:)36
b(arithmetic)28 b(calculator)67 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(61)0 1799 y Fe(I)s(I)112
b(Prin)m(ting)37 b(to)s(ols)2912 b(63)0 1985 y Ff(9)77
b(Extensible)30 b(prin)m(ters)2887 b(65)125 2086 y Fi(9.1)83
b(Getting)28 b(started)50 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(65)125 2188 y(9.2)83 b(Syn)n(tax)28 b(of)f(the)h(EXTEND)p
1198 2188 V 30 w(PRINTER)f(statemen)n(t)f(.)42 b(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)93 b(65)125 2290 y(9.3)83 b(Seman)n(tics)28
b(of)f(EXTEND)p 1166 2290 V 30 w(PRINTER)56 b(.)42 b(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(66)315 2391
y(9.3.1)h(Prin)n(ters)26 b(de\014nition)i(list)62 b(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
93 b(66)315 2493 y(9.3.2)h(Rules)28 b(insertion)59 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)93 b(67)315 2595 y(9.3.3)h(Seman)n(tic)28
b(action)22 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(67)125 2696 y(9.4)83
b(The)28 b(Eprin)n(ter)f(mo)r(dule)35 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(67)125 2798 y(9.5)83 b(Examples)65 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(67)315 2900 y(9.5.1)h(P)n(arser)25
b(and)j(Prin)n(ter)e(of)h(expressions)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(67)315 3001 y(9.5.2)h(Prin)n(ting)27
b(OCaml)g(programs)36 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(69)0 3187 y Ff(10)29 b(Pprin)m(tf)3380
b(71)125 3289 y Fi(10.1)41 b(Syn)n(tax)28 b(of)f(the)h(pprin)n(tf)g
(statemen)n(t)39 b(.)i(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)93 b(71)125 3391 y(10.2)41 b(Seman)n(tics)28
b(of)f(pprin)n(tf)69 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(71)315
3493 y(10.2.1)52 b(Prin)n(ting)27 b(con)n(text)72 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)93 b(72)315 3594 y(10.2.2)52 b(Extended)28
b(format)51 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(73)315 3696 y(10.2.3)52
b(Line)28 b(length)61 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(73)315 3798 y(10.2.4)52 b(The)28 b(con)n(v)n(ersion)d(sp)r
(eci\014cations)i("p")g(and)g("q")44 b(.)d(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(74)315 3899 y(10.2.5)52 b(The)28 b(prett)n(y)f(prin)n(ting)g
(annotations)21 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)93 b(74)125 4001 y(10.3)41 b(Comparison)26 b(with)j(the)e(OCaml)g
(mo)r(dules)h(Prin)n(tf)f(and)h(F)-7 b(ormat)21 b(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)93 b(77)315 4103 y(10.3.1)52 b(Pprin)n(tf)28
b(and)f(Prin)n(tf)68 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(77)315 4204
y(10.3.2)52 b(Pprin)n(tf)28 b(and)f(F)-7 b(ormat)82 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)93 b(77)125 4306 y(10.4)41 b(Relation)28 b(with)g(the)g(Camlp5)f
(extensible)g(prin)n(ters)66 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
93 b(78)125 4408 y(10.5)41 b(The)28 b(Pprin)n(tf)f(mo)r(dule)80
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(78)0 4594 y Ff(11)29
b(Prett)m(y)k(prin)m(t)3172 b(79)125 4695 y Fi(11.1)41
b(Mo)r(dule)28 b(description)41 b(.)g(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(79)315 4797 y(11.1.1)52 b(horiz)p 767 4797 V 29 w(v)n(ertic)59
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(79)315 4899 y(11.1.2)52
b(sprin)n(tf)43 b(.)f(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(79)315 5000 y(11.1.3)52 b(line)p 715 5000 V 30 w(length)23
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(80)315 5102 y(11.1.4)52
b(horizon)n(tally)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(80)125
5204 y(11.2)41 b(Example)33 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)93 b(80)125 5306 y(11.3)41 b(Programming)25
b(with)j(Prett)n(y)52 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(81)315 5407
y(11.3.1)52 b(Hin)n(ts)85 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(81)1929 5656 y(3)p eop end
%%Page: 4 6
TeXDict begin 4 5 bop 315 390 a Fi(11.3.2)52 b(Ho)n(w)27
b(to)h(cancel)f(a)g(horizon)n(tal)f(prin)n(t)71 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(81)125
490 y(11.4)41 b(Remarks)32 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)93 b(81)315 590 y(11.4.1)52 b(Kernel)38 b(.)k(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)93 b(81)315 690 y(11.4.2)52 b(Strings)27
b(vs)g(Channels)77 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(82)315 790 y(11.4.3)52
b(Strings)27 b(or)g(other)g(t)n(yp)r(es)67 b(.)42 b(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(82)315
890 y(11.4.4)52 b(Wh)n(y)28 b(raising)e(exceptions)h(?)77
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(82)0 1177 y Fe(I)s(I)s(I)112 b(Language)39 b(extensions)2539
b(83)0 1360 y Ff(12)29 b(Lo)s(cations)3281 b(85)125 1460
y Fi(12.1)41 b(De\014nitions)25 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)93 b(85)125 1560 y(12.2)41 b(Building)28
b(lo)r(cations)81 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(85)125
1660 y(12.3)41 b(Raising)27 b(with)h(a)g(lo)r(cation)23
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)93 b(86)125 1760 y(12.4)41 b(Other)28
b(functions)39 b(.)i(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(86)0 1943 y Ff(13)29 b(Syn)m(tax)k(tree)3197 b(89)125
2043 y Fi(13.1)41 b(T)-7 b(ransitional)27 b(and)g(Strict)h(mo)r(des)40
b(.)i(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)93 b(89)125 2143 y(13.2)41 b(Compatibilit)n(y)h(.)g(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)93 b(89)125 2243 y(13.3)41 b(Tw)n(o)27
b(quotations)g(expanders)37 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(90)125
2343 y(13.4)41 b(Syn)n(tax)28 b(tree)f(and)g(Quotations)g(in)h(the)f(t)
n(w)n(o)g(mo)r(des)45 b(.)d(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(90)0 2526 y Ff(14)29 b(Syn)m(tax)k(tree)f(-)g(transitional)f(mo)s(de)
2364 b(91)125 2626 y Fi(14.1)41 b(In)n(tro)r(duction)26
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(91)125
2726 y(14.2)41 b(Lo)r(cation)33 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)93 b(92)315 2826 y(14.2.1)52 b(In)28
b(expressions)e(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(92)315 2926
y(14.2.2)52 b(In)28 b(patterns)68 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(92)125 3025 y(14.3)41 b(An)n(tiquotations)67 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(93)125 3125 y(14.4)41
b(No)r(des)28 b(and)f(Quotations)54 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(93)315 3225 y(14.4.1)52 b(expr)j(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)93 b(94)315 3325 y(14.4.2)52 b(patt)63 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(95)315 3425
y(14.4.3)52 b(ct)n(yp)58 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)93 b(96)315 3525 y(14.4.4)52 b(mo)r(dules...)41 b(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)93 b(96)315 3625 y(14.4.5)52 b(classes...)37
b(.)k(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93 b(98)315 3725
y(14.4.6)52 b(other)25 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)93
b(99)0 3908 y Ff(15)29 b(Syn)m(tax)k(tree)f(-)g(strict)g(mo)s(de)2573
b(101)125 4008 y Fi(15.1)41 b(In)n(tro)r(duction)26 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(101)125
4108 y(15.2)41 b(Lo)r(cation)33 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(102)315 4208 y(15.2.1)h(In)28 b(expressions)e(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(102)315 4308 y(15.2.2)h(In)28
b(patterns)68 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(102)125
4408 y(15.3)41 b(An)n(tiquotations)67 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)51 b(103)125 4508 y(15.4)41 b(Tw)n(o)27 b(kinds)h(of)f(an)n
(tiquotations)38 b(.)j(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)51 b(103)315 4608 y(15.4.1)h(Preliminary)26
b(remark)82 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(103)315 4708 y(15.4.2)h(An)n(tiquoting)37
b(.)k(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(104)315 4808 y(15.4.3)h(Remarks)25
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(104)125 4908
y(15.5)41 b(No)r(des)28 b(and)f(Quotations)54 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(105)315 5007 y(15.5.1)h(expr)j(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(106)315
5107 y(15.5.2)h(patt)63 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
51 b(111)315 5207 y(15.5.3)h(ct)n(yp)58 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(114)315 5307 y(15.5.4)h(mo)r(dules...)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(117)315 5407 y(15.5.5)h
(classes...)37 b(.)k(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(124)1929 5656 y(4)p eop end
%%Page: 5 7
TeXDict begin 5 6 bop 315 390 a Fi(15.5.6)52 b(other)25
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(128)125
490 y(15.6)41 b(No)r(des)28 b(without)g(quotations)56
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)51 b(130)315 590 y(15.6.1)h(t)n(yp)r(e)p
745 590 25 4 v 30 w(v)-5 b(ar)41 b(.)g(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(130)315 690 y(15.6.2)h(t)n(yp)r(e)p 745 690 V 30 w(decl)76
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(130)315 790 y(15.6.3)h(class)p
754 790 V 29 w(infos)42 b(.)g(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(131)0 974 y Ff(16)29 b(Syn)m(tax)k(tree)f(quotations)g(in)f(user)h
(syn)m(tax)2060 b(133)125 1074 y Fi(16.1)41 b(An)n(tiquotations)67
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(133)0 1257
y Ff(17)29 b(The)j(Pcaml)g(mo)s(dule)2837 b(135)125 1357
y Fi(17.1)41 b(Language)26 b(parsing)34 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(135)315 1457 y(17.1.1)h(Main)28 b(parsing)e(functions)e(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
51 b(135)315 1557 y(17.1.2)h(Grammar)j(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)51 b(135)315 1657 y(17.1.3)h(En)n(tries)20 b(.)42
b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(135)125 1757
y(17.2)41 b(Language)26 b(prin)n(ting)75 b(.)41 b(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)51 b(137)315 1857 y(17.2.1)h(Main)28 b(prin)n(ting)f(functions)64
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)51 b(137)315 1957 y(17.2.2)h(Prin)n(ters)g(.)41 b(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)51 b(137)125 2057 y(17.3)41 b(Quotation)27
b(managemen)n(t)76 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(138)125 2157
y(17.4)41 b(Extensible)28 b(directiv)n(es)e(and)i(options)54
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(138)125 2257 y(17.5)41 b(Equalities)27 b(o)n(v)n(er)f(syn)n(tax)h
(trees)59 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(138)125 2357 y(17.6)41 b(Generalities)50
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(139)0
2540 y Ff(18)29 b(Extensions)h(of)i(syn)m(tax)2771 b(141)125
2640 y Fi(18.1)41 b(En)n(tries)28 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(141)125 2740 y(18.2)41 b(Syn)n(tax)28
b(tree)f(quotations)40 b(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(142)125
2840 y(18.3)41 b(An)29 b(example)e(:)37 b(rep)r(eat..un)n(til)32
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)51 b(142)315 2940 y(18.3.1)h(The)28 b(co)r(de)73
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(143)315 3040
y(18.3.2)h(Compilation)25 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(144)315 3140 y(18.3.3)h(T)-7 b(esting)78 b(.)41 b(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(144)0 3324 y Ff(19)29 b(Extensions)h(of)i(prin)m(ting)
2708 b(147)125 3424 y Fi(19.1)41 b(In)n(tro)r(duction)26
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(147)125
3524 y(19.2)41 b(Principles)58 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(147)315 3624 y(19.2.1)h(Using)28 b(mo)r(dule)f(Prett)n
(y)37 b(.)k(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)51 b(147)315 3724 y(19.2.2)h(Using)28 b(EXTEND)p
1181 3724 V 29 w(PRINTER)f(statemen)n(t)44 b(.)e(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(149)315 3824 y(19.2.3)h(Dangling)27 b(else,)g(bar,)g
(semicolon)62 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(149)315 3924 y(19.2.4)h(By)27 b(lev)n(el)52
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(150)125 4024
y(19.3)41 b(The)28 b(Prto)r(ols)e(mo)r(dule)77 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(151)315 4124 y(19.3.1)h(Commen)n(ts)22
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(151)315 4224
y(19.3.2)h(Meta)28 b(functions)g(for)f(lists)81 b(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(151)315 4324 y(19.3.3)h(Miscellaneous)39 b(.)j(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(152)125 4424 y(19.4)41 b(Example)27 b(:)37 b(rep)r(eat..un)n(til)85
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)51 b(152)315 4524 y(19.4.1)h(The)28
b(co)r(de)73 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(152)315
4624 y(19.4.2)h(Compilation)25 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(153)315 4724 y(19.4.3)h(T)-7 b(esting)78 b(.)41 b(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(153)0 4907 y Ff(20)29 b(Quotations)3173
b(155)125 5007 y Fi(20.1)41 b(In)n(tro)r(duction)26 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(155)125
5107 y(20.2)41 b(Quotation)27 b(expander)75 b(.)42 b(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
51 b(155)125 5207 y(20.3)41 b(De\014ning)28 b(a)g(quotation)53
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(156)315 5307 y(20.3.1)h(By)27
b(syn)n(tax)g(tree)67 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(156)315
5407 y(20.3.2)h(By)27 b(string)69 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(156)1929 5656 y(5)p eop end
%%Page: 6 8
TeXDict begin 6 7 bop 315 390 a Fi(20.3.3)52 b(Default)28
b(quotation)22 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(156)125 492 y(20.4)41
b(An)n(tiquotations)67 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(157)315 594 y(20.4.1)h(Example)27 b(without)h(an)n(tiquotation)f(no)r
(de)33 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(157)315 696 y(20.4.2)h(Example)27 b(with)h(an)n(tiquotation)f(no)r
(de)d(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(158)315 799 y(20.4.3)h(In)28 b(conclusion)58 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(159)125 901 y(20.5)41 b(Lo)r(cations)27
b(in)h(quotations)f(and)g(an)n(tiquotations)75 b(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(159)315 1003
y(20.5.1)h(In)28 b(the)g(quotation)71 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(159)315 1105 y(20.5.2)h(In)28 b(an)n(tiquotations)40
b(.)h(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(159)125 1207 y(20.6)41 b(Lo)r(cated)28
b(errors)81 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(161)125 1309 y(20.7)41 b(The)28 b(Quotation)f(mo)r(dule)35
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(161)125 1411 y(20.8)41 b(Prede\014ned)27
b(quotations)74 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(162)315 1513
y(20.8.1)h(q)p 630 1513 25 4 v 30 w(MLast.cmo)57 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(162)315 1615 y(20.8.2)h(q)p
630 1615 V 30 w(ast.cmo)k(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(162)315 1717 y(20.8.3)h(q)p 630 1717 V 30 w(phon)n(y)-7
b(.cmo)77 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(162)125 1819
y(20.9)41 b(A)28 b(full)h(example:)36 b(lam)n(b)r(da)27
b(terms)34 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(163)315 1921 y(20.9.1)h(Lexer)76
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(163)315
2024 y(20.9.2)h(P)n(arser)46 b(.)c(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(165)315 2126 y(20.9.3)h(Compilation)27 b(and)h(test)d(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(166)0 2312 y Ff(21)29 b(The)j(revised)f(syn)m(tax)2840
b(167)125 2414 y Fi(21.1)41 b(Lexing)i(.)e(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(167)125 2516 y(21.2)41 b(Mo)r(dules,)28
b(Structure)g(and)f(Signature)g(items)59 b(.)41 b(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)51 b(167)125 2619 y(21.3)41 b(Expressions)26
b(and)h(P)n(atterns)73 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(168)315 2721
y(21.3.1)h(Imp)r(erativ)n(e)27 b(constructions)c(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(168)315 2823 y(21.3.2)h(T)-7 b(uples)28 b(and)f(Lists)67
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)51 b(169)315 2925 y(21.3.3)h(Records)j(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(169)315 3027 y(21.3.4)h
(Irrefutable)27 b(patterns)84 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(169)315
3129 y(21.3.5)h(Constructions)27 b(with)h(matc)n(hing)63
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(170)315 3231 y(21.3.6)h(Mutables)28 b(and)f(Assignmen)n(t)44
b(.)e(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(170)315 3333 y(21.3.7)h(Miscellaneous)39 b(.)j(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(171)125 3435 y(21.4)41 b(T)n(yp)r(es)28 b(and)f(Constructors)55
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)51 b(171)125 3537 y(21.5)41 b(Streams)27
b(and)h(P)n(arsers)56 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(173)125
3639 y(21.6)41 b(Classes)27 b(and)g(Ob)5 b(jects)74 b(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(173)125 3741 y(21.7)41 b(Lab)r(els)28
b(and)f(V)-7 b(arian)n(ts)75 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(174)0 3928 y Ff(22)29 b(Sc)m(heme)i(and)i(Lisp)e(syn)m(taxes)2544
b(175)125 4030 y Fi(22.1)41 b(Common)23 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)51 b(175)125 4132 y(22.2)41 b(Sc)n(heme)28
b(syn)n(tax)73 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(176)125 4234 y(22.3)41 b(Lisp)28 b(syn)n(tax)60 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(176)0 4421
y Ff(23)29 b(Macros)3328 b(177)125 4523 y Fi(23.1)41
b(Added)29 b(syn)n(tax)40 b(.)i(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(177)125 4625 y(23.2)41 b(Added)29 b(command)e(options)e(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)51 b(179)125 4727 y(23.3)41 b(Seman)n(tics)53
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(179)125 4830 y(23.4)41 b(Prede\014ned)27 b(macros)71
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(181)0 5016 y Ff(24)29
b(Pragma)j(directiv)m(e)2916 b(183)0 5203 y(25)29 b(Extensible)h
(functions)2786 b(185)125 5305 y Fi(25.1)41 b(Syn)n(tax)35
b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(185)125 5407 y(25.2)41 b(Seman)n(tics)53 b(.)42 b(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(185)1929 5656 y(6)p eop end
%%Page: 7 9
TeXDict begin 7 8 bop 0 390 a Fe(IV)111 b(App)s(endix)3017
b(187)0 579 y Ff(A)53 b(Commands)30 b(and)j(Files)2754
b(189)125 682 y Fi(A.1)63 b(P)n(arsing)26 b(and)h(Prin)n(ting)g(Kits)56
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)51 b(189)315 785 y(A.1.1)74 b(P)n(arsing)25
b(kits)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(189)315 888
y(A.1.2)74 b(Prin)n(ting)27 b(kits)78 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(191)315 991 y(A.1.3)74 b(Quotations)27 b(expanders)66
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)51 b(193)125 1094 y(A.2)63 b(Commands)74 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(193)125
1197 y(A.3)63 b(En)n(vironmen)n(t)27 b(v)-5 b(ariable)20
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(194)125 1300 y(A.4)63
b(OCaml)27 b(toplev)n(el)g(\014les)69 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(194)125 1404 y(A.5)63 b(Library)27 b(\014les)42 b(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)51 b(195)0 1592 y Ff(B)57 b(Library)3321
b(197)125 1695 y Fi(B.1)66 b(Plo)r(c)27 b(mo)r(dule)h(.)41
b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(197)315
1798 y(B.1.1)77 b(lo)r(cated)27 b(exceptions)66 b(.)42
b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)51 b(197)315 1901 y(B.1.2)77 b(making)27 b(lo)r(cations)52
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)51 b(197)315 2004 y(B.1.3)77 b(getting)28
b(lo)r(cation)e(info)63 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(198)315 2108
y(B.1.4)77 b(com)n(bining)27 b(lo)r(cations)75 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(198)315 2211 y(B.1.5)77 b(miscellaneous)46 b(.)c(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)51 b(198)315 2314 y(B.1.6)77 b(p)r(erv)-5 b(asiv)n(es)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(199)125 2417 y(B.2)66
b(Plexing)27 b(mo)r(dule)46 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(199)315 2520 y(B.2.1)77 b(lexer)27 b(t)n(yp)r(e)48
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(199)315 2623
y(B.2.2)77 b(lexers)27 b(from)g(parsers)f(or)g(o)r(camllex)50
b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(200)315 2726 y(B.2.3)77 b(function)28 b(to)g(build)g(a)f(stream)g
(and)g(a)h(lo)r(cation)f(function)68 b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(201)315 2829 y(B.2.4)77 b(useful)28 b(functions)g(and)g(v)-5
b(alues)76 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(201)315 2932 y(B.2.5)77 b(bac)n(kw)n(ard)26
b(compatibilities)c(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(201)125 3036 y(B.3)66 b(Plexer)27
b(mo)r(dule)22 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(201)315 3139 y(B.3.1)77 b(lexer)41 b(.)g(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(201)315 3242 y(B.3.2)77 b(\015ags)52
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(202)125
3345 y(B.4)66 b(Gramext)28 b(mo)r(dule)59 b(.)42 b(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)51 b(203)315 3448 y(B.4.1)77 b(grammar)26 b(t)n(yp)r(e)c(.)42
b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(203)315 3551 y(B.4.2)77 b(en)n(try)27
b(t)n(yp)r(e)32 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(203)125 3654 y(B.5)66 b(Grammar)27 b(mo)r(dule)i(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(206)315 3757 y(B.5.1)77
b(main)28 b(t)n(yp)r(es)f(and)h(v)-5 b(alues)51 b(.)42
b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
51 b(206)315 3860 y(B.5.2)77 b(prin)n(ting)27 b(grammar)f(en)n(tries)78
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(207)315 3964 y(B.5.3)77 b(clearing)26 b(grammars)g(and)h(en)n(tries)
21 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(207)315 4067 y(B.5.4)77 b(scan)27 b(en)n(tries)49 b(.)41
b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)51 b(208)315 4170 y(B.5.5)77
b(parsing)26 b(algorithm)e(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(208)315
4273 y(B.5.6)77 b(functorial)27 b(in)n(terface)45 b(.)d(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(209)315 4376 y(B.5.7)77 b(grammar)26 b(\015ags)83 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(210)125 4479 y(B.6)66 b(Di\013)29
b(mo)r(dule)53 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(210)125 4582 y(B.7)66 b(Extfold)28 b(mo)r(dule)48 b(.)41
b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(210)125 4685 y(B.8)66
b(Extfun)28 b(mo)r(dule)67 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(210)125 4789 y(B.9)66 b(Eprin)n(ter)27 b(mo)r(dule)77
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(211)125 4892
y(B.10)24 b(Fstream)j(mo)r(dule)82 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(212)315 4995 y(B.10.1)35 b(F)-7 b(unctional)28 b(streams)40
b(.)i(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)51 b(212)315 5098 y(B.10.2)35 b(Bac)n(ktrac)n(king)25
b(parsers)37 b(.)k(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(213)125 5201 y(B.11)24 b(Pprin)n(tf)k(mo)r
(dule)57 b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(213)125
5304 y(B.12)24 b(Prett)n(y)j(mo)r(dule)85 b(.)41 b(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)51 b(214)125 5407 y(B.13)24 b(Deprecated)k(mo)r(dules)f
(Stdpp)i(and)e(T)-7 b(ok)n(en)60 b(.)42 b(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)51 b(214)1929 5656 y(7)p eop end
%%Page: 8 10
TeXDict begin 8 9 bop 0 390 a Ff(C)56 b(Camlp5)31 b(sources)2976
b(215)125 490 y Fi(C.1)65 b(Kernel)46 b(.)41 b(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(215)125 589 y(C.2)65
b(Compatibilit)n(y)42 b(.)g(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(215)125 689 y(C.3)65 b(T)-7 b(ree)28 b(structure)g(.)42
b(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(216)125 789
y(C.4)65 b(F)-7 b(ast)28 b(compilation)f(from)g(scratc)n(h)38
b(.)k(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)51 b(217)125 888 y(C.5)65 b(T)-7 b(esting)28 b(c)n(hanges)35
b(.)41 b(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(217)125 988
y(C.6)65 b(Before)27 b(committing)h(y)n(our)e(c)n(hanges)82
b(.)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51
b(218)125 1088 y(C.7)65 b(If)29 b(y)n(ou)d(c)n(hange)h(the)h(main)f
(parser)37 b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)51 b(219)125 1187 y(C.8)65 b(Switc)n(hing)28
b(b)r(et)n(w)n(een)g(transitional)e(and)h(strict)h(mo)r(de)52
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)51 b(219)0 1370 y
Ff(D)h(Ab)s(out)31 b(Camlp5)3012 b(221)1929 5656 y Fi(8)p
eop end
%%Page: 9 11
TeXDict begin 9 10 bop 0 1013 a Fd(Chapter)65 b(1)0 1428
y Fg(In)-6 b(tro)6 b(duction)0 1860 y Fi(Camlp5)36 b(is)g(a)f(prepro)r
(cessor)f(and)i(prett)n(y-prin)n(ter)f(for)g(OCaml)h(programs.)60
b(It)37 b(also)e(pro)n(vides)g(parsing)f(and)i(prin)n(ting)0
1959 y(to)r(ols.)0 2159 y(As)28 b(a)f(prepro)r(cessor,)e(it)j(allo)n
(ws)e(to:)125 2332 y Fh(\017)41 b Fi(extend)27 b(the)h(syn)n(tax)f(of)h
(OCaml,)125 2494 y Fh(\017)41 b Fi(rede\014ne)27 b(the)h(whole)f(syn)n
(tax)g(of)g(the)h(language.)0 2667 y(As)g(a)f(prett)n(y)g(prin)n(ter,)g
(it)h(allo)n(ws)e(to:)125 2840 y Fh(\017)41 b Fi(displa)n(y)26
b(OCaml)h(programs)f(in)h(an)h(elegan)n(t)e(w)n(a)n(y)-7
b(,)125 3003 y Fh(\017)41 b Fi(con)n(v)n(ert)26 b(from)h(one)g(syn)n
(tax)g(to)g(another,)125 3165 y Fh(\017)41 b Fi(c)n(hec)n(k)26
b(the)i(results)f(of)h(syn)n(tax)f(extensions.)0 3338
y(Camlp5)g(also)g(pro)n(vides)f(some)h(parsing)f(and)h(prett)n(y)h
(prin)n(ting)f(to)r(ols:)125 3511 y Fh(\017)41 b Fi(extensible)27
b(grammars)125 3673 y Fh(\017)41 b Fi(extensible)27 b(prin)n(ters)125
3836 y Fh(\017)41 b Fi(stream)26 b(parsers)g(and)i(lexers)125
3998 y Fh(\017)41 b Fi(prett)n(y)27 b(prin)n(t)g(mo)r(dule)0
4171 y(It)h(w)n(orks)e(as)h(a)g(shell)h(command)f(and)g(can)g(also)g(b)
r(e)h(used)f(in)h(the)g(OCaml)f(toplev)n(el.)0 4444 y
Fc(1.1)135 b(Shell)46 b(usage)0 4626 y Fi(The)28 b(main)f(shell)h
(commands)f(are:)125 4799 y Fh(\017)41 b Fb(camlp5o)24
b Fi(:)37 b(to)28 b(treat)f(\014les)g(written)h(in)g(normal)f(OCaml)g
(syn)n(tax,)125 4961 y Fh(\017)41 b Fb(camlp5r)24 b Fi(:)37
b(to)28 b(treat)f(\014les)g(written)h(in)g(an)f(original)f(syn)n(tax)h
(named)h(the)g Fa(r)l(evise)l(d)i(syntax)p Fi(.)0 5134
y(These)d(commands)g(can)g(b)r(e)h(giv)n(en)f(as)g(parameters)f(of)i
(the)g(option)f Fb(-pp)f Fi(of)i(the)g(OCaml)f(compiler.)36
b(Examples:)87 5308 y Fb(ocamlc)41 b(-pp)i(camlp5o)d(foo.ml)87
5407 y(ocamlc)h(-pp)i(camlp5r)d(bar.ml)1929 5656 y Fi(9)p
eop end
%%Page: 10 12
TeXDict begin 10 11 bop 0 70 a Fi(CHAPTER)27 b(1.)64
b(INTR)n(ODUCTION)p 0 103 3900 4 v 0 390 a(This)30 b(w)n(a)n(y)-7
b(,)29 b(the)h(parsing)f(is)g(done)h(b)n(y)f(Camlp5.)43
b(In)30 b(case)f(of)h(syn)n(tax)f(errors,)f(the)i(parsing)e(fails)i
(with)g(an)g(error)d(message)0 490 y(and)f(the)h(compilation)e(is)i(ab)
r(orted.)35 b(Otherwise,)26 b(the)h(OCaml)e(compiler)h(con)n(tin)n(ues)
f(with)i(the)g(syn)n(tax)e(tree)h(pro)n(vided)f(b)n(y)0
589 y(Camlp5.)0 807 y(In)30 b(the)h(toplev)n(el,)g(it)f(is)g(p)r
(ossible)g(to)h(prepro)r(cess)d(the)j(input)g(phrases)e(b)n(y)h
(loading)f(one)h(of)g(the)h(\014les)f(")p Fb(camlp5o.cma)p
Fi(")25 b(or)0 906 y(")p Fb(camlp5r.cma)p Fi(".)31 b(The)d(common)f
(usage)g(is:)87 1134 y Fb(ocaml)42 b(-I)g(+camlp5)f(camlp5o.cma)87
1233 y(ocaml)h(-I)g(+camlp5)f(camlp5r.cma)0 1556 y Fc(1.2)135
b(P)l(arsing)46 b(and)f(Prin)l(ting)g(kits)0 1754 y Fi(P)n(arsing)22
b(and)j(prin)n(ting)f(extensions)g(are)g(OCaml)g(ob)5
b(ject)24 b(\014les,)i(i.e.)36 b(\014les)24 b(with)i(the)f(extension)f
(")p Fb(.cmo)p Fi(")e(or)i(")p Fb(.cma)p Fi(".)33 b(They)0
1854 y(are)g(the)h(result)f(of)h(the)g(compilation)f(of)g(OCaml)g
(source)g(\014les)g(con)n(taining)g(what)g(is)h(necessary)e(to)h(do)h
(the)g(parsing)e(or)0 1953 y(prin)n(ting.)k(These)28
b(ob)5 b(ject)27 b(\014les)h(are)e(named)i(parsing)e(and)h(prin)n(ting)
h Fa(kits)p Fi(.)0 2171 y(These)h(\014les)g(cannot)g(b)r(e)h(link)n(ed)
f(to)g(pro)r(duce)g(executables)g(b)r(ecause)g(they)h(generally)d(call)
i(functions)h(and)f(use)g(v)-5 b(ariables)0 2270 y(de\014ned)25
b(only)g(in)g(Camlp5)g(core,)f(t)n(ypically)h(b)r(elonging)f(to)h(the)g
(mo)r(dule)h(")p Fb(Pcaml)p Fi(".)33 b(The)25 b(kits)g(are)f(designed)g
(to)h(b)r(e)h(loaded)0 2370 y(b)n(y)c(the)h(Camlp5)g(commands,)g
(either)f(through)g(their)h(command)f(argumen)n(ts)f(or)h(through)g
(directiv)n(es)g(in)h(the)g(source)e(\014les.)0 2587
y(It)e(is)f(therefore)g(imp)r(ortan)n(t)g(to)g(compile)g(the)h
Fa(kits)26 b Fi(with)19 b(the)g(option)f(")p Fb(-c)p
Fi(")e(of)j(the)g(OCaml)f(compiler)f(\(i.e.)35 b(just)19
b(compilation,)0 2687 y(not)36 b(pro)r(ducing)g(an)g(executable\))g
(and)g(with)g(the)h(option)f(")p Fb(-I)42 b(+camlp5)p
Fi(")33 b(to)j(inform)g(the)h(compiler)e(to)h(\014nd)h(mo)r(dule)0
2786 y(in)n(terfaces)27 b(in)h(installed)f(Camlp5)g(library)-7
b(.)0 3004 y(In)28 b(the)g(OCaml)f(toplev)n(el,)g(it)h(is)f(p)r
(ossible)h(to)f(use)g(a)h(kit)g(b)n(y)f(simply)g(loading)g(it)h(with)g
(the)g(directiv)n(e)f(")p Fb(#load)p Fi(".)0 3326 y Fc(1.3)135
b(Extending)46 b(syn)l(tax)0 3524 y Fi(A)28 b(syn)n(tax)f(extension)g
(is)g(a)g(Camlp5)g(parsing)g(kit.)37 b(There)27 b(are)g(t)n(w)n(o)f(w)n
(a)n(ys)g(to)i(use)f(a)h(syn)n(tax)e(extension:)125 3743
y Fh(\017)41 b Fi(Either)27 b(b)n(y)g(giving)g(this)h(ob)5
b(ject)27 b(\014le)h(as)f(parameter)f(to)h(the)h(Camlp5)f(command.)37
b(F)-7 b(or)27 b(example:)295 4004 y Fb(ocamlc)41 b(-pp)h("camlp5o)e
(./myext.cmo")f(foo.ml)125 4264 y Fh(\017)i Fi(Or)26
b(b)n(y)i(adding)f(the)h(directiv)n(e)f(")p Fb(#load)p
Fi(")d(in)k(the)g(source)f(\014le:)295 4525 y Fb(#load)41
b("./myext.cmo";;)208 4786 y Fi(and)27 b(then)h(compile)g(it)g(simply)f
(lik)n(e)g(this:)295 5047 y Fb(ocamlc)41 b(-pp)h(camlp5o)f(foo.ml)0
5308 y Fi(Sev)n(eral)32 b(syn)n(tax)g(extensions)h(can)f(b)r(e)i(used)f
(for)g(a)g(single)g(\014le.)53 b(The)34 b(w)n(a)n(y)e(to)h(create)f
(one's)h(o)n(wn)f(syn)n(tax)h(extensions)f(is)0 5407
y(explained)27 b(in)h(this)g(do)r(cumen)n(t.)1908 5656
y(10)p eop end
%%Page: 11 13
TeXDict begin 11 12 bop 2647 70 a Fi(CHAPTER)27 b(1.)64
b(INTR)n(ODUCTION)p 0 103 3900 4 v 0 390 a Fc(1.4)135
b(Prett)l(y)46 b(prin)l(ting)0 572 y Fi(As)34 b(for)f(syn)n(tax)g
(extensions,)h(the)g(prett)n(y)g(prin)n(ting)f(is)g(de\014ned)h(or)f
(extended)h(through)f(Camlp5)g(prin)n(ting)g(kits.)55
b(Some)0 672 y(prett)n(y)27 b(prin)n(ting)g(kits)h(are)f(pro)n(vided)f
(b)n(y)i(Camlp5,)f(the)h(main)f(ones)g(b)r(eing:)125
854 y Fh(\017)41 b Fb(pr)p 301 854 27 4 v 30 w(o.cmo)p
Fi(:)35 b(to)27 b(prett)n(y)h(prin)n(t)f(in)h(normal)f(syn)n(tax,)125
1020 y Fh(\017)41 b Fb(pr)p 301 1020 V 30 w(r.cmo)p Fi(:)35
b(to)27 b(prett)n(y)h(prin)n(t)f(in)h(revised)f(syn)n(tax.)0
1203 y(Examples:)52 b(if)36 b(w)n(e)f(ha)n(v)n(e)g(a)g(\014le,)j
Fb(foo.ml)p Fi(,)d(written)h(in)g(normal)e(syn)n(tax)h(and)g(and)h
(another)e(one,)k Fb(bar.ml)p Fi(,)d(written)h(in)0 1303
y(revised)27 b(syn)n(tax,)f(here)i(are)e(the)i(commands)f(to)h(prett)n
(y)f(prin)n(t)g(them)i(in)e(their)h(o)n(wn)f(syn)n(tax:)87
1485 y Fb(camlp5o)41 b(pr_o.cmo)f(foo.ml)87 1585 y(camlp5r)h(pr_r.cmo)f
(bar.ml)0 1768 y Fi(And)28 b(ho)n(w)f(to)h(con)n(v)n(ert)e(them)i(in)n
(to)f(the)h(other)f(syn)n(tax:)87 1950 y Fb(camlp5o)41
b(pr_r.cmo)f(foo.ml)87 2050 y(camlp5r)h(pr_o.cmo)f(foo.ml)0
2232 y Fi(The)28 b(w)n(a)n(y)e(to)h(create)g(one's)g(o)n(wn)g(prett)n
(y)g(prin)n(ting)h(extensions)f(is)g(explained)g(in)h(this)g(do)r
(cumen)n(t.)0 2507 y Fc(1.5)135 b(Note:)62 b(the)45 b(revised)g(syn)l
(tax)0 2689 y Fi(The)35 b Fa(r)l(evise)l(d)j(syntax)45
b Fi(is)35 b(a)f(sp)r(eci\014c)i(syn)n(tax)e(whose)g(aim)i(is)f(to)g
(resolv)n(e)e(some)i(problems)f(and)h(inconsistencies)g(of)g(the)0
2789 y(normal)27 b(OCaml)g(syn)n(tax.)36 b(A)27 b(c)n(hapter)g(will)h
(explain)f(the)h(di\013erences)g(b)r(et)n(w)n(een)f(the)h(normal)f(and)
g(the)h(revised)f(syn)n(tax.)0 2988 y(All)j(examples)e(of)h(this)g(do)r
(cumen)n(tation)g(are)f(written)h(in)h(that)f(revised)f(syn)n(tax.)40
b(Ev)n(en)29 b(if)g(y)n(ou)f(don't)i(kno)n(w)e(it,)i(it)f(is)g(not)0
3087 y(di\016cult)h(to)g(understand.)42 b(The)29 b(same)g(examples)g
(can)g(b)r(e)h(written)g(in)f(normal)g(syn)n(tax.)41
b(In)30 b(case)f(of)g(problems,)g(refer)g(to)0 3187 y(the)f(c)n(hapter)
f(describing)f(it.)1908 5656 y(11)p eop end
%%Page: 12 14
TeXDict begin 12 13 bop eop end
%%Page: 13 15
TeXDict begin 13 14 bop 0 1013 a Fd(Chapter)65 b(2)0
1428 y Fg(T)-19 b(ransitional)76 b(and)h(Strict)h(mo)6
b(des)0 1860 y Fi(Since)26 b(v)n(ersion)f(5.00,)g(Camlp5)h(has)g(b)r
(een)h(able)f(to)g(b)r(e)g(installed)h(in)f(t)n(w)n(o)g(mo)r(des:)36
b(the)26 b Fa(tr)l(ansitional)36 b Fi(mo)r(de)26 b(and)h(the)f
Fa(strict)0 1959 y Fi(mo)r(de.)57 b(When)35 b(Camlp5)f(is)g(installed,)
j(it)d(w)n(orks)f(with)i(one)f(only)g(of)g(these)h(mo)r(des)f(\(the)h
(t)n(w)n(o)f(mo)r(des)g(con)n(tain)g(indeed)0 2059 y(di\013eren)n(t)g
(de\014nitions)g(of)g(some)g(in)n(terfaces)f(and)h(are)f(incompatible)h
(with)g(one)g(another\).)55 b(The)34 b(user)g(m)n(ust)g(c)n(ho)r(ose)f
(in)0 2159 y(whic)n(h)28 b(mo)r(de)f(he)h(w)n(an)n(ts)f(to)g(use)h
(Camlp5.)0 2358 y(This)d(notion)g(has)f(b)r(een)i(in)n(tro)r(duced)f
(to)g(ensure)f(bac)n(kw)n(ard)f(compatibilit)n(y)i(of)g(the)g(Camlp5)g
(syn)n(tax)f(tree,)h(together)g(with)0 2457 y(the)31
b(usage)f(of)h(a)f(new)h(quotation)f(kit)h(")p Fb(q)p
1320 2457 27 4 v 30 w(ast.cmo)p Fi(",)e(whic)n(h)i(allo)n(ws)e(to)i
(use)f(Camlp5)g(syn)n(tax)g(tree)h(quotations)f(in)h(user)0
2557 y(syn)n(tax)c(\(with)h(all)f(its)h(p)r(ossible)f(extensions\).)0
2717 y Ff(A)32 b(short)g(example)f(of)h(these)f(syn)m(tax)i(tree)f
(quotations:)208 2845 y Fi(If)c(the)g(syn)n(tax)e(of)i(the)g
(extensible)f(grammars)f(has)h(b)r(een)h(added,)f(it)h(is)g(p)r
(ossible)f(to)h(write)f(things)g(lik)n(e:)295 3033 y
Fb(<:expr<)40 b(EXTEND)i(a:)g([)h([)h(c)f(=)g(d)g(->)g($e$)f(])h(];)g
(END)g(>>;)208 3221 y Fi(represen)n(ting)35 b(the)h(syn)n(tax)g(tree)g
(of)h(this)f(statemen)n(t:)55 b(this)37 b(is)f(not)h(p)r(ossible)f
(with)h(the)g(classical)e(quotation)h(kit)208 3321 y(")p
Fb(q)p 299 3321 V 30 w(MLast.cmo)p Fi(")21 b(b)r(ecause)k(all)g
(quotations)f(m)n(ust)i(b)r(e)g(there)f(only)g(in)g(revised)g(syn)n
(tax)f(and)h(without)h(syn)n(tax)e(exten-)208 3420 y(sions.)0
3580 y(Here)j(are)g(the)h(di\013erences)f(b)r(et)n(w)n(een)h(the)g(t)n
(w)n(o)e(mo)r(des:)0 3739 y Ff(T)-8 b(ransitional)208
3908 y(Compatibilit)m(y)390 4020 y Fi(The)31 b(syn)n(tax)f(tree)g(is)g
(fully)h(compatible)g(with)g(the)g(previous)e(v)n(ersions)g(of)i
(Camlp5,)g(no)f(c)n(hanges)f(has)h(to)h(b)r(e)390 4120
y(done)d(in)f(the)h(users')f(programs.)208 4243 y Ff(Quotation)k(kit)h
(")p Fb(q)p 905 4243 V 31 w(ast.cmo)p Ff(")390 4355 y
Fi(The)c(an)n(tiquotations)e(are)h(not)g(a)n(v)-5 b(ailable:)36
b(when)28 b(used,)f(a)h(syn)n(tax)e(error)g(message)g(is)i(displa)n(y)n
(ed.)0 4524 y Ff(Strict)208 4692 y(Compatibilit)m(y)390
4804 y Fi(The)g(syn)n(tax)f(tree)g(is)g(di\013eren)n(t,)h(users')f
(programs)e(ma)n(y)i(ha)n(v)n(e)f(to)i(b)r(e)g(mo)r(di\014ed,)g(but)g
(not)g(necessarily)-7 b(.)208 4928 y Ff(Quotation)31
b(kit)h(")p Fb(q)p 905 4928 V 31 w(ast.cmo)p Ff(")390
5039 y Fi(All)c(an)n(tiquotations)f(are)f(a)n(v)-5 b(ailable.)0
5208 y(In)35 b(strict)g(mo)r(de,)i(the)e(programs)e(ha)n(v)n(e)h(more)g
(c)n(hances)g(to)h(b)r(e)g(compatible)g(with)g(the)h(previous)d(v)n
(ersions)h(if)h(they)g(use)0 5308 y(syn)n(tax)26 b(tree)i(quotations)e
(rather)g(than)i(syn)n(tax)e(tree)h(no)r(des.)37 b(A)28
b(solution)f(is)g(therefore)f(to)i(c)n(hange)e(the)i(expressions)d(and)
0 5407 y(patterns)i(using)g(no)r(des)h(in)n(to)f(expressions)f(and)h
(patterns)h(using)f(quotations)g(\(whic)n(h)g(is)h(bac)n(kw)n(ard)d
(compatible\).)1908 5656 y(13)p eop end
%%Page: 14 16
TeXDict begin 14 15 bop 0 70 a Fi(CHAPTER)27 b(2.)64
b(TRANSITIONAL)29 b(AND)f(STRICT)g(MODES)p 0 103 3900
4 v 0 390 a Fc(2.1)135 b(Whic)l(h)45 b(mo)t(de)g(is)g(installed)i(?)0
572 y Fi(T)-7 b(o)27 b(determine)h(the)g(mo)r(de)g(of)f(an)g(installed)
h(v)n(ersion)e(of)i(Camlp5,)f(t)n(yp)r(e:)87 755 y Fb(camlp5)41
b(-pmode)0 1029 y Fc(2.2)135 b(Selecting)46 b(mo)t(de)f(when)g
(compiling)h(Camlp5)0 1211 y Fi(When)29 b(compiling)f(Camlp5)g(from)g
(source,)f(the)i(mo)r(de)f(m)n(ust)h(\014rst)f(b)r(e)g(selected)h(at)f
(con\014guration)f(time.)39 b(The)29 b Fa(c)l(on\014gur)l(e)0
1311 y Fi(script)e(m)n(ust)h(b)r(e)g(run)f(with)i(one)e(of)g(these)h
(options:)87 1493 y Fb(./configure)39 b(-strict)87 1593
y(./configure)g(-transitional)0 1776 y Fi(The)28 b(default)g(is)f
("transitional",)f(i.e.)37 b(without)28 b(option,)f(the)h(sources)e
(are)h(compiled)g(in)h(transitional)f(mo)r(de.)1908 5656
y(14)p eop end
%%Page: 15 17
TeXDict begin 15 16 bop 0 1014 a Fd(Chapter)65 b(3)0
1430 y Fg(P)-6 b(arsing)76 b(and)i(Prin)-6 b(ting)76
b(to)6 b(ols)0 1863 y Fi(Camlp5)27 b(pro)n(vides)f(t)n(w)n(o)h(parsing)
f(to)r(ols:)125 2050 y Fh(\017)41 b Fi(stream)26 b(parsers)125
2220 y Fh(\017)41 b Fi(extensible)27 b(grammars)0 2407
y(The)g(\014rst)f(parsing)g(to)r(ol,)g(the)i(stream)e(parsers,)f(is)h
(the)h(elemen)n(tary)f(system.)37 b(It)27 b(is)f(pure)h(syn)n(tactic)f
(sugar,)f(i.e.)37 b(the)27 b(co)r(de)0 2506 y(is)j(directly)f(con)n(v)n
(erted)g(in)n(to)g(basic)g(OCaml)h(statemen)n(ts:)41
b(essen)n(tially)28 b(functions,)j(pattern)f(matc)n(hings,)f(try)-7
b(.)44 b(A)30 b(stream)0 2606 y(parser)h(is)h(just)h(a)f(function.)52
b(But)33 b(the)g(system)f(do)r(es)g(not)h(manage)e(asso)r(ciativit)n(y)
-7 b(,)32 b(nor)g(parsing)f(lev)n(el.)51 b(Left)33 b(recursion)0
2706 y(results)27 b(on)g(in\014nite)i(lo)r(ops,)e(just)h(lik)n(e)f
(functions)h(whose)f(\014rst)g(action)g(w)n(ould)h(b)r(e)g(a)f(call)g
(to)g(itself.)0 2907 y(The)k(second)f(parsing)f(to)r(ol,)i(the)h
(extensible)e(grammars,)f(are)h(more)g(sophisticated.)46
b(A)31 b(grammar)d(written)j(with)h(them)0 3007 y(is)25
b(more)g(readable,)f(and)i(lo)r(ok)e(lik)n(e)h(grammars)e(written)j
(with)g(to)r(ols)f(lik)n(e)g("y)n(acc".)34 b(They)25
b(tak)n(e)f(care)h(of)g(asso)r(ciativit)n(y)-7 b(,)24
b(left)0 3106 y(recursion,)32 b(and)h(lev)n(el)f(of)g(parsing.)51
b(They)32 b(are)g(dynamically)f(extensible,)j(what)f(allo)n(ws)e(the)i
(syn)n(tax)e(extensions)h(what)0 3206 y(Camlp5)27 b(pro)n(vides)f(for)h
(OCaml)g(syn)n(tax.)0 3407 y(In)h(b)r(oth)g(cases,)e(the)i(input)h
(data)e(are)f(streams.)0 3609 y(Camlp5)h(also)g(pro)n(vides:)125
3795 y Fh(\017)41 b Fi(a)27 b(prett)n(y)g(prin)n(ting)g(mo)r(dule)125
3966 y Fh(\017)41 b Fi(extensible)27 b(prin)n(ters)0
4152 y(The)h(next)f(sections)g(giv)n(e)g(an)g(o)n(v)n(erview)f(of)h
(the)h(parsing)f(and)g(prin)n(ting)g(to)r(ols.)0 4433
y Fc(3.1)135 b(Stream)46 b(parsers)0 4616 y Fi(The)34
b(stream)f(parsers)f(is)i(a)f(system)h(of)f(recursiv)n(e)f(descendan)n
(t)i(parsing.)54 b(Streams)33 b(are)g(actually)g(lazy)g(lists.)56
b(A)n(t)34 b(eac)n(h)0 4716 y(step,)28 b(the)g(head)f(of)h(the)g(list)f
(is)h(compared)e(against)h(a)g Fa(str)l(e)l(am)i(p)l(attern)p
Fi(.)37 b(There)27 b(are)g(three)g(kinds)h(of)f(streams)g(parsers:)125
4903 y Fh(\017)41 b Fi(The)28 b(imp)r(erativ)n(e)g(streams)f(parsers,)g
(where)h(the)h(elemen)n(ts)f(are)f(remo)n(v)n(ed)g(from)h(the)h(stream)
e(as)h(long)g(as)f(they)i(are)208 5002 y(parsed.)35 b(P)n(arsers)25
b(return)i(either:)301 5173 y Ff({)41 b Fi(A)28 b(v)-5
b(alue,)28 b(in)g(case)e(of)i(success,)301 5308 y Ff({)41
b Fi(The)35 b(exception)g(")p Fb(Stream.Failure)p Fi(")29
b(when)35 b(the)h(parser)d(do)r(es)i(not)g(apply)g(and)g(no)g(elemen)n
(ts)g(ha)n(v)n(e)f(b)r(een)390 5407 y(remo)n(v)n(ed)26
b(from)h(the)h(stream,)f(indicating)h(that,)g(p)r(ossibly)-7
b(,)27 b(other)g(parsers)f(ma)n(y)h(apply)-7 b(,)1908
5656 y(15)p eop end
%%Page: 16 18
TeXDict begin 16 17 bop 0 70 a Fi(CHAPTER)27 b(3.)64
b(P)-7 b(ARSING)29 b(AND)f(PRINTING)g(TOOLS)p 0 103 3900
4 v 301 390 a Ff({)41 b Fi(The)25 b(exception)g(")p Fb(Stream.Error)p
Fi(")19 b(when)25 b(the)g(parser)f(do)r(es)g(not)h(apply)-7
b(,)25 b(but)h(one)e(or)g(sev)n(eral)f(elemen)n(ts)i(ha)n(v)n(e)390
490 y(b)r(een)j(remo)n(v)n(ed)e(from)h(the)h(stream,)f(indicating)h
(that)g(nothing)f(can)g(to)h(b)r(e)g(done)f(to)h(mak)n(e)e(up)i(the)g
(error.)125 647 y Fh(\017)41 b Fi(The)23 b(functional)g(stream)f
(parsers)g(where)g(the)i(elemen)n(ts)f(are)f(not)h(remo)n(v)n(ed)f
(from)g(the)i(stream)e(during)h(the)g(parsing.)208 747
y(These)k(parsers)f(return)h(a)g(v)-5 b(alue)27 b(of)h(t)n(yp)r(e)g
("option",)e(i.e)i(either:)301 904 y Ff({)41 b Fi("Some")27
b(a)g(v)-5 b(alue)27 b(and)h(the)g(remaining)e(stream,)h(in)h(case)f
(of)g(success,)301 1028 y Ff({)41 b Fi("None",)27 b(in)h(case)e(of)i
(failure.)125 1186 y Fh(\017)41 b Fi(The)26 b(bac)n(ktrac)n(king)f
(stream)h(parsers)f(whic)n(h)h(are)g(lik)n(e)h(the)g(functional)g
(stream)f(parsers)e(but)k(with)f(a)g(bac)n(ktrac)n(king)208
1285 y(algorithm,)32 b(testing)g(all)h(p)r(ossibilities.)51
b(These)32 b(parsers)e(also)i(return)g(a)g(v)-5 b(alue)32
b(of)g(t)n(yp)r(e)h("option")e(di\013eren)n(t)h(from)208
1385 y(the)c(functional)f(stream)g(parsers,)f(i.e)i(either:)301
1542 y Ff({)41 b Fi("Some")27 b(a)g(v)-5 b(alue,)27 b(the)h(remaining)f
(stream)g(and)g(a)g(con)n(tin)n(uation,)g(in)h(case)f(of)g(success,)301
1666 y Ff({)41 b Fi("None",)27 b(in)h(case)e(of)i(failure.)0
1827 y(The)g(di\013erences)f(are)g(ab)r(out:)125 1988
y Fh(\017)41 b Fi(Syn)n(tax)26 b(errors:)35 b(in)27 b(the)h(imp)r
(erativ)n(e)e(v)n(ersion,)g(the)i(lo)r(cation)e(of)h(the)h(error)d(is)i
(clear,)g(it)g(is)g(at)g(the)h(curren)n(t)e(p)r(osition)208
2088 y(of)32 b(the)h(stream,)f(and)h(the)f(system)g(pro)n(vides)f(a)h
(sp)r(eci\014c)h(error)d(message)h(\(t)n(ypically)-7
b(,)33 b(that)g(some)f("elemen)n(t")f(w)n(as)208 2188
y("exp)r(ected"\).)40 b(On)29 b(the)g(other)f(hand,)i(in)f(the)g
(functional)g(and)g(bac)n(ktrac)n(king)e(v)n(ersion,)g(the)j(p)r
(osition)e(is)h(not)g(clear)208 2287 y(since)35 b(it)h(returns)f
(nothing)g(and)g(the)h(initial)g(stream)f(is)g(una\013ected.)61
b(The)36 b(only)f(solution)g(to)g(kno)n(w)g(where)g(the)208
2387 y(error)26 b(happ)r(ened)j(is)g(to)g(analyze)e(that)i(stream)f(to)
h(see)f(ho)n(w)g(man)n(y)g(elemen)n(ts)h(ha)n(v)n(e)f(b)r(e)h
(unfrozen.)40 b(No)28 b(clear)g(error)208 2486 y(message)e(is)h(a)n(v)
-5 b(ailable,)27 b(just)h("syn)n(tax)e(error")f(\(but)k(this)f(could)f
(b)r(e)h(impro)n(v)n(ed)e(in)i(a)f(future)h(v)n(ersion\).)125
2644 y Fh(\017)41 b Fi(P)n(o)n(w)n(er:)31 b(in)22 b(the)g(imp)r(erativ)
n(e)g(v)n(ersion,)f(when)h(a)g(rule)f(raises)g(the)h(exception)g(")p
Fb(Stream.Error)p Fi(",)17 b(the)22 b(parsing)f(cannot)208
2743 y(con)n(tin)n(ue.)35 b(In)24 b(the)g(functional)f(v)n(ersion,)g
(the)i(parsing)d(can)h(con)n(tin)n(ue)g(b)n(y)h(analyzing)e(the)i(next)
g(rule)g(with)g(the)g(initial)208 2843 y(una\013ected)31
b(stream:)44 b(this)32 b(is)g Fa(limite)l(d)i(b)l(acktr)l(ack)p
Fi(.)49 b(In)32 b(the)g(bac)n(ktrac)n(king)d(v)n(ersion,)i(more)g(p)r
(o)n(w)n(erful,)h(the)f(parsing)208 2943 y(con)n(tin)n(ues)c(b)n(y)h
(analyzing)e(the)j(next)f(case)f(of)h(the)g(previous)f(sym)n(b)r(ol)h
(of)g(the)g(rule;)g(moreo)n(v)n(er)d(it)k(is)f(p)r(ossible)f(to)h(get)
208 3042 y(the)g(list)f(of)h(all)f(p)r(ossible)g(solutions.)125
3200 y Fh(\017)41 b Fi(Neatness:)46 b(functional)32 b(streams)g(are)f
(neater,)j(just)f(lik)n(e)f(functional)g(programming)f(is)h(neater)g
(than)h(imp)r(erativ)n(e)208 3299 y(programming.)0 3460
y(The)k(imp)r(erativ)n(e)g(parsers)f(implemen)n(t)h(what)h(is)f(called)
g("predictiv)n(e)f(parsing",)i(i.e.)66 b(recursiv)n(e)36
b(descendan)n(t)g(parsing)0 3560 y(without)28 b(bac)n(ktrac)n(k.)0
3759 y(In)37 b(the)h(imp)r(erativ)n(e)e(v)n(ersion,)i(there)f(also)f
(exist)h(lexers,)h(a)f(shorter)f(syn)n(tax)g(when)h(the)g(stream)g
(elemen)n(ts)g(are)f(of)h(the)0 3859 y(sp)r(eci\014c)28
b(t)n(yp)r(e)g(')p Fb(char)p Fi('.)0 4129 y Fc(3.2)135
b(Extensible)47 b(grammars)0 4311 y Fi(Extensible)18
b(grammars)f(manipulate)i Fa(gr)l(ammar)j(entries)p Fi(.)34
b(Grammar)17 b(en)n(tries)h(are)g(abstract)g(v)-5 b(alues)18
b(in)n(ternally)g(con)n(taining)0 4411 y(m)n(utable)30
b(stream)f(parsers.)41 b(When)31 b(a)e(grammar)f(en)n(try)h(is)h
(created,)f(its)h(in)n(ternal)f(parser)f(is)i(empt)n(y)-7
b(,)31 b(i.e.)43 b(it)30 b(alw)n(a)n(ys)e(fails)0 4511
y(when)34 b(used.)56 b(A)34 b(sp)r(eci\014c)g(syn)n(tactic)f
(construction,)i(with)f(the)h(k)n(eyw)n(ord)d(")p Fb(EXTEND)p
Fi(")e(allo)n(ws)j(one)g(to)h(extend)g(grammar)0 4610
y(en)n(tries)27 b(with)h(new)g(grammar)d(rules.)0 4809
y(In)k(opp)r(osition)e(to)i(stream)e(parsers,)g(grammar)g(en)n(tries)g
(manage)h(asso)r(ciativit)n(y)-7 b(,)27 b(left)i(factorization,)e(and)i
(lev)n(els.)38 b(More-)0 4909 y(o)n(v)n(er,)32 b(these)g(grammars)e
(allo)n(w)h(optional)g(calls,)i(lists)f(and)g(lists)g(with)h
(separators.)47 b(They)32 b(are)g(not)g(ho)n(w)n(ev)n(er)e(functions)0
5009 y(and)d(hence)h(cannot)f(ha)n(v)n(e)g(parameters.)0
5208 y(Since)h(the)g(in)n(ternal)f(system)g(is)h(stream)e(parsers,)g
(extensible)i(grammars)d(use)j(recursiv)n(e)d(descendan)n(t)j(parsing.)
0 5407 y(The)g(parsers)d(of)j(the)g(OCaml)f(language)f(in)i(Camlp5)f
(are)f(written)i(with)g(extensible)g(grammars.)1908 5656
y(16)p eop end
%%Page: 17 19
TeXDict begin 17 18 bop 1963 70 a Fi(CHAPTER)27 b(3.)64
b(P)-7 b(ARSING)28 b(AND)h(PRINTING)f(TOOLS)p 0 103 3900
4 v 0 390 a Fc(3.3)135 b(Prett)l(y)46 b(mo)t(dule)0 572
y Fi(The)25 b(")p Fb(Pretty)p Fi(")d(mo)r(dule)k(is)f(an)g(original)f
(to)r(ol)h(allo)n(wing)f(con)n(trol)g(o)n(v)n(er)g(the)h(displa)n(ying)
g(of)g(lines.)36 b(The)26 b(user)e(m)n(ust)i(sp)r(ecify)0
672 y(t)n(w)n(o)h(functions)h(where:)125 854 y Fh(\017)41
b Fi(the)28 b(data)f(is)g(prin)n(ted)h(on)f(a)g(single)g(line)125
1020 y Fh(\017)41 b Fi(the)28 b(data)f(is)g(prin)n(ted)h(on)f(sev)n
(eral)f(lines)0 1203 y(The)32 b(system)f(\014rst)h(tries)g(to)f(prin)n
(t)h(on)f(a)h(single)f(line.)50 b(A)n(t)32 b(an)n(y)f(time,)j(if)e(the)
g(line)g(o)n(v)n(er\015o)n(ws,)f(i.e.)49 b(if)33 b(its)f(size)f(is)h
(greater)0 1303 y(than)c(some)f("line)h(length")f(sp)r(eci\014ed)h(in)g
(the)h(mo)r(dule)f(in)n(terface,)f(or)g(if)h(it)h(con)n(tains)d
(newlines,)i(the)h(function)f(is)g(ab)r(orted)0 1402
y(and)f(con)n(trol)g(is)g(giv)n(en)g(to)g(the)h(second)f(function,)i
(to)e(prin)n(t)h(on)f(sev)n(eral)f(lines.)0 1602 y(This)d(is)g(a)g
(basic,)g(but)h(p)r(o)n(w)n(erful,)f(system.)35 b(It)24
b(supp)r(oses)e(that)h(the)h(programmer)c(tak)n(es)j(care)e(of)j(the)f
(curren)n(t)f(inden)n(tation,)0 1701 y(and)27 b(the)h(b)r(eginning)g
(and)f(the)h(end)g(of)g(its)f(lines.)0 1900 y(The)h(mo)r(dule)g(will)g
(b)r(e)h(extended)f(in)g(the)h(future)f(to)g(hide)g(the)h(managemen)n
(t)d(of)i(indendations)g(and)g(line)g(con)n(tin)n(uations,)0
2000 y(and)h(b)n(y)g(the)h(supply)g(of)f(functions)h(com)n(binating)f
(the)g(t)n(w)n(o)g(cases)f(ab)r(o)n(v)n(e,)h(in)h(whic)n(h)f(the)h
(programmer)d(can)i(sp)r(ecify)h(the)0 2100 y(p)r(ossible)d(places)g
(where)g(newlines)h(can)f(b)r(e)h(inserted.)0 2374 y
Fc(3.4)135 b(Extensible)47 b(prin)l(ters)0 2556 y Fi(The)33
b(extensible)g(prin)n(ters)f(are)g(symmetric)g(to)h(the)h(extensible)f
(grammars.)50 b(The)33 b(extensible)g(grammars)e(tak)n(e)h(syn)n(tax)0
2656 y(rules)d(and)h(return)f(syn)n(tax)g(trees.)42 b(The)30
b(extensible)g(prin)n(ters)e(are)h(actually)g(extensible)h(functions)g
(taking)f(syn)n(tax)g(trees)0 2755 y(as)e(parameters)f(and)h(returning)
g(the)h(prett)n(y)f(prin)n(ted)h(statemen)n(ts)f(in)h(strings.)0
2955 y(The)f(extensible)f(prin)n(ters)g(can)g(ha)n(v)n(e)g(prin)n(ting)
g(lev)n(els,)g(just)i(lik)n(e)e(grammars)f(ha)n(v)n(e)g(parsing)g(lev)n
(els,)i(and)f(it)h(is)g(p)r(ossible)f(to)0 3054 y(tak)n(e)h(the)h(asso)
r(ciativit)n(y)e(in)n(to)h(accoun)n(t)g(b)n(y)g(pro)n(vided)g
(functions)h(to)f(call)g(either)h(the)g(curren)n(t)f(lev)n(el)g(or)f
(the)i(next)g(lev)n(el.)0 3253 y(The)g(prin)n(ters)e(of)i(the)g(OCaml)f
(language)f(are)g(written)i(with)g(extensible)g(prin)n(ters.)1908
5656 y(17)p eop end
%%Page: 18 20
TeXDict begin 18 19 bop eop end
%%Page: 19 21
TeXDict begin 19 20 bop 1694 2049 a Fd(P)-5 b(art)65
b(I)1288 2464 y Fg(P)-6 b(arsing)76 b(to)6 b(ols)1908
5656 y Fi(19)p eop end
%%Page: 20 22
TeXDict begin 20 21 bop eop end
%%Page: 21 23
TeXDict begin 21 22 bop 0 1015 a Fd(Chapter)65 b(4)0
1432 y Fg(Stream)77 b(parsers)0 1866 y Fi(W)-7 b(e)31
b(describ)r(e)g(here)f(the)h(syn)n(tax)f(and)h(the)g(seman)n(tics)f(of)
h(the)h(parsers)d(of)h(streams)g(of)h(Camlp5.)46 b(Streams)30
b(are)g(kinds)h(of)0 1966 y(lazy)26 b(lists.)36 b(The)27
b(parsers)e(of)h(these)h(streams)e(use)h(recursiv)n(e)f(descenden)n(t)i
(metho)r(d)g(without)g(bac)n(ktrac)n(king,)d(whic)n(h)i(is)h(the)0
2065 y(most)g(natural)g(one)g(in)h(functional)g(languages.)35
b(In)28 b(particular,)e(parsers)g(are)g(normal)h(functions.)0
2269 y(Notice)g(that)g(the)g(parsers)d(ha)n(v)n(e)i(existed)g(in)h
(OCaml)f(since)h(man)n(y)f(y)n(ears)e(\(the)k(b)r(eginning)e(of)h(the)g
(90ies\),)f(but)h(some)f(new)0 2369 y(features)20 b(ha)n(v)n(e)f(b)r
(een)h(added)g(in)h(2007)d(\(lo)r(ok)-5 b(ahead,)21 b("no)e(error")f
(optimization,)j(let..in)g(statemen)n(t)f(and)g(left)h(factorization\))
0 2468 y(in)28 b(Camlp5)f(distribution.)37 b(This)27
b(c)n(hapter)g(describ)r(es)g(them)h(also.)0 2754 y Fc(4.1)135
b(In)l(tro)t(duction)0 2940 y Fi(P)n(arsers)19 b(apply)j(to)g(v)-5
b(alues)22 b(of)g(t)n(yp)r(e)h("Stream.t")e(de\014ned)h(in)h(the)f(mo)r
(dule)h("Stream")e(of)h(the)g(standard)g(library)f(of)h(OCaml.)0
3040 y(Lik)n(e)31 b(the)h(t)n(yp)r(e)g("list",)g(the)g(t)n(yp)r(e)g
("Stream.t")f(has)g(a)g(t)n(yp)r(e)h(parameter,)f(indicating)h(the)g(t)
n(yp)r(e)g(of)f(its)h(elemen)n(ts.)49 b(They)0 3139 y(di\013er)31
b(from)g(the)h(lists)f(that)h(they)f(are)g(lazy)f(\(the)i(elemen)n(ts)f
(are)g(ev)-5 b(aluated)31 b(as)f(long)h(as)g(the)g(parser)f(need)h
(them)h(for)f(its)0 3239 y(actions\),)c(and)f(imp)r(erativ)n(e)h
(\(parsers)e(deletes)i(their)f(\014rst)h(elemen)n(ts)g(when)g(they)g
(tak)n(e)f(their)h(parsing)e(decisions\):)36 b(notice)0
3339 y(that)24 b(purely)f(functional)h(parsers)e(exist)h(in)h(Camlp5,)g
(where)f(the)h(corresp)r(onding)e(streams)h(are)f(lazy)i(and)f
(functional,)i(the)0 3438 y(analyzed)33 b(elemen)n(ts)g(remaining)g(in)
h(the)g(initial)g(stream)e(and)i(the)g(seman)n(tic)f(action)g
(returning)g(the)h(resulting)f(stream)0 3538 y(together)25
b(with)i(the)g(normal)e(result,)h(whic)n(h)g(allo)n(w)g(natural)f
(limited)i(bac)n(ktrac)n(k)d(but)j(ha)n(v)n(e)e(the)i(dra)n(wbac)n(k)d
(that)i(it)h(is)f(not)0 3637 y(easy)h(to)g(\014nd)h(the)g(p)r(osition)g
(of)f(parsing)f(errors)g(when)i(they)f(happ)r(en.)0 3841
y(P)n(arsers)d(of)i(lazy+imp)r(erativ)n(e)f(streams,)h(whic)n(h)g(are)g
(describ)r(ed)g(here,)g(use)h(a)f(metho)r(d)h(named)f("recursiv)n(e)f
(descenden)n(t":)0 3941 y(they)h(lo)r(ok)f(at)h(the)g(\014rst)f(elemen)
n(t,)i(they)f(decide)f(what)h(to)g(do)f(in)h(function)g(of)g(its)g(v)-5
b(alue,)26 b(and)g(con)n(tin)n(ue)f(the)h(parsing)f(with)0
4040 y(the)j(remaining)f(elemen)n(ts.)36 b(P)n(arsers)25
b(can)i(call)h(other)f(parsers,)e(and)j(can)f(b)r(e)h(recursiv)n(e,)e
(lik)n(e)h(normal)g(functions.)0 4244 y(Actually)-7 b(,)29
b(parsers)e(are)h(just)h(pure)g(syn)n(tactic)f(sugar.)38
b(When)30 b(writing)e(a)g(parser)g(in)g(the)i(syn)n(tax)d(of)i(the)g
(parser,)f(Camlp5)0 4343 y(transforms)35 b(them)h(in)n(to)g(normal)f
(call)g(to)h(functions,)j(use)c(of)h(patterns)g(matc)n(hings)f(and)h
(try)-7 b(..with)36 b(statemen)n(ts.)62 b(The)0 4443
y(prett)n(y)35 b(prin)n(ter)f(of)h(Camlp5,)i(b)n(y)e(default,)i(displa)
n(ys)d(this)i(expanded)f(result,)h(without)g(syn)n(tax)e(of)h(parsers.)
58 b(A)35 b(prett)n(y)0 4543 y(prin)n(ting)27 b(kit,)h(when)g(added,)f
(can)h(rebuild)f(the)h(parsers)e(in)i(their)f(initial)h(syn)n(tax)f
(and)g(displa)n(y)g(it.)0 4829 y Fc(4.2)135 b(Syn)l(tax)0
5015 y Fi(The)31 b(syn)n(tax)e(of)i(the)g(parsers,)e(when)i(loading)e
("pa)p 1643 5015 25 4 v 29 w(rp.cmo")h(\(or)g(already)f(included)i(in)g
(the)g(command)f("camlp5r"\),)f(is)0 5114 y(the)f(follo)n(wing:)523
5308 y Fb(expression)39 b(::=)k(parser)1090 5407 y(|)g
(match-with-parse)o(r)1908 5656 y Fi(21)p eop end
%%Page: 22 24
TeXDict begin 22 23 bop 0 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 697 390
a Fb(parser)41 b(::=)i("parser")d(pos-opt)h("[")h(parser-cases)d("]")
1090 490 y(|)k("parser")d(pos-opt)h(parser-case)218 589
y(match-with-parse)o(r)c(::=)43 b("match")e(expression)e("with")i
(parser)436 689 y(parser-cases)d(::=)43 b(parser-cases)38
b(parser-case)1090 789 y(|)43 b(<nothing>)479 888 y(parser-case)c(::=)k
("[:")f(stream-pattern)c(":]")j(pos-opt)g("->")h(expression)349
988 y(stream-pattern)37 b(::=)43 b(stream-patt-comp)1090
1088 y(|)g(stream-patt-comp)37 b(";")42 b(stream-patt-cont)1090
1187 y(|)h("let")e(LIDENT)g("=")i(expression)c("in")j(stream-pattern)
1090 1287 y(|)h(<nothing>)262 1386 y(stream-patt-con)o(t)37
b(::=)43 b(stream-patt-comp)o(-e)o(rr)1090 1486 y(|)g(stream-patt-comp)
o(-e)o(rr)37 b(";")42 b(stream-patt-cont)1090 1586 y(|)h("let")e
(LIDENT)g("=")i(expression)c("in")j(stream-patt-cont)87
1685 y(stream-patt-comp-)o(er)o(r)37 b(::=)43 b(stream-patt-comp)1090
1785 y(|)g(stream-patt-comp)37 b("?")42 b(expression)1090
1885 y(|)h(stream-patt-comp)37 b("!")262 1984 y(stream-patt-com)o(p)g
(::=)43 b("`")f(pattern)1090 2084 y(|)h("`")f(pattern)f("when")g
(expression)1090 2183 y(|)i("?=")f(lookaheads)1090 2283
y(|)h(pattern)e("=")h(expression)1090 2383 y(|)h(pattern)523
2482 y(lookaheads)c(::=)k(lookaheads)c("|")k(lookahead)1090
2582 y(|)g(lookahead)567 2682 y(lookahead)c(::=)k("[")f(patterns)e("]")
610 2781 y(patterns)g(::=)j(patterns)d(pattern)1090 2881
y(|)j(pattern)654 2980 y(pos-opt)d(::=)j(pattern)1090
3080 y(|)g(<nothing>)0 3359 y Fc(4.3)135 b(Streams)0
3542 y Fi(The)33 b(parsers)e(are)g(functions)i(taking)f(streams)g(as)g
(parameter.)51 b(Streams)32 b(are)f(are)h(v)-5 b(alues)32
b(of)h(t)n(yp)r(e)g(")p Fb(Stream.t)40 b(a)p Fi(")32
b(for)0 3642 y(some)27 b(t)n(yp)r(e)h(")p Fb(a)p Fi(".)35
b(It)28 b(is)g(p)r(ossible)f(to)h(build)g(streams)e(using)i(the)f
(functions)h(de\014ned)g(in)g(the)g(mo)r(dule)g(")p Fb(Stream)p
Fi(":)0 3879 y Fe(4.3.1)112 b(Stream.from)0 4033 y Fi(")p
Fb(Stream.from)39 b(f)p Fi(")19 b(returns)h(a)h(stream)e(built)j(from)e
(the)h(function)g(")p Fb(f)p Fi(".)34 b(T)-7 b(o)20 b(create)f(a)i(new)
f(stream)g(elemen)n(t,)i(the)g(function)0 4133 y(")p
Fb(f)p Fi(")31 b(is)g(called)h(with)g(the)g(curren)n(t)f(stream)g(coun)
n(t,)i(starting)e(with)h(zero.)49 b(The)32 b(user)f(function)h(")p
Fb(f)p Fi(")f(m)n(ust)h(return)f(either)0 4233 y(")p
Fb(Some)41 b(<value>)p Fi(")25 b(for)i(a)g(v)-5 b(alue)27
b(or)g(")p Fb(None)p Fi(")e(to)j(sp)r(ecify)g(the)g(end)f(of)h(the)g
(stream.)0 4469 y Fe(4.3.2)112 b(Stream.of)p 820 4469
34 4 v 42 w(list)0 4624 y Fi(Return)28 b(a)f(stream)g(built)h(from)f
(the)h(list)g(in)g(the)g(same)f(order.)0 4861 y Fe(4.3.3)112
b(Stream.of)p 820 4861 V 42 w(string)0 5016 y Fi(Return)28
b(a)f(stream)g(of)g(the)h(c)n(haracters)e(of)h(the)h(string)f
(parameter.)0 5252 y Fe(4.3.4)112 b(Stream.of)p 820 5252
V 42 w(c)m(hannel)0 5407 y Fi(Return)28 b(a)f(stream)g(of)g(the)h(c)n
(haracters)e(read)g(from)i(the)g(input)g(c)n(hannel)f(parameter.)1908
5656 y(22)p eop end
%%Page: 23 25
TeXDict begin 23 24 bop 2552 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 0 390 a
Fc(4.4)135 b(Seman)l(tics)46 b(of)f(parsers)0 591 y Fe(4.4.1)112
b(P)m(arser)0 746 y Fi(A)31 b(parser,)g(de\014ned)g(with)h(the)f(syn)n
(tax)f("parser")f(ab)r(o)n(v)n(e,)h(is)h(of)g(t)n(yp)r(e)g(")p
Fb(Stream.t)40 b(a)j(->)g(b)p Fi(")30 b(where)h("a")f(is)g(the)i(t)n
(yp)r(e)f(of)0 846 y(the)26 b(elemen)n(ts)f(of)h(the)g(streams)e(and)i
("b")e(the)i(t)n(yp)r(e)g(of)f(the)h(result.)36 b(The)26
b(parser)e(cases)g(are)h(tested)g(in)h(the)g(order)e(they)i(are)0
946 y(de\014ned)k(un)n(til)g(one)f(of)h(them)g(applies.)43
b(The)29 b(result)h(is)f(the)h(seman)n(tic)g(action)f(of)g(the)h
(parser)e(case)h(whic)n(h)h(applies.)42 b(If)30 b(no)0
1045 y(parser)c(case)h(applies,)g(the)h(exception)f(")p
Fb(Stream.Failure)p Fi(")21 b(is)28 b(raised.)0 1247
y(When)34 b(testing)g(a)g(parser)e(case,)i(if)h(the)f(\014rst)g(stream)
f(pattern)g(comp)r(onen)n(t)h(matc)n(hes,)h(all)e(remaining)g(stream)g
(pattern)0 1346 y(comp)r(onen)n(ts)c(of)g(the)g(stream)g(pattern)g(m)n
(ust)g(matc)n(h)g(also.)40 b(If)30 b(one)f(do)r(es)f(not)i(matc)n(h,)f
(the)h(parser)d(raises)h(the)h(exception)0 1446 y(")p
Fb(Stream.Error)p Fi(")f(whic)n(h)33 b(has)g(a)g(parameter)f(of)i(t)n
(yp)r(e)g(string:)48 b(b)n(y)33 b(default,)i(this)f(string)f(is)g(the)h
(empt)n(y)g(string,)g(but)h(if)0 1546 y(the)26 b(stream)g(pattern)f
(comp)r(onen)n(t)h(whic)n(h)g(do)r(es)g(not)g(matc)n(h)f(is)h(follo)n
(w)n(ed)f(b)n(y)h(a)g(question)f(mark)g(and)h(an)g(expression,)f(this)0
1645 y(expression)h(is)i(ev)-5 b(aluated)27 b(and)g(giv)n(en)g(as)g
(parameter)f(to)i(")p Fb(Stream.Error)p Fi(".)0 1847
y(In)g(short,)f(a)g(parser)f(can)h(return)g(with)h(three)g(w)n(a)n(ys:)
125 2034 y Fh(\017)41 b Fi(A)27 b(normal)g(result,)g(of)h(t)n(yp)r(e)g
(")p Fb(b)p Fi(")e(for)h(a)g(parser)f(of)i(t)n(yp)r(e)g(")p
Fb(Stream.t)39 b(a)44 b(->)e(b)p Fi(".)125 2205 y Fh(\017)f
Fi(Raising)26 b(the)i(exception)g(")p Fb(Stream.Failure)o
Fi(".)125 2376 y Fh(\017)41 b Fi(Raising)26 b(the)i(exception)g(")p
Fb(Stream.Error)p Fi(".)0 2563 y(F)-7 b(undamen)n(tally)g(,)33
b(the)g(exception)f(")p Fb(Stream.Failure)p Fi(")26 b(means)32
b("this)g(parser)e(do)r(es)i(not)h(apply)f(and)g(no)g(elemen)n(t)g(ha)n
(v)n(e)0 2663 y(b)r(een)27 b(remo)n(v)n(ed)f(from)g(the)i(initial)f
(stream".)35 b(This)27 b(is)g(a)f(normal)g(case)g(when)h(parsing:)35
b(the)28 b(parser)d(lo)r(cally)h(fails,)h(but)h(the)0
2762 y(parsing)e(can)h(con)n(tin)n(ue.)0 2964 y(Con)n(v)n(ersely)-7
b(,)23 b(the)h(exception)f(")p Fb(Stream.Error)p Fi(")18
b(means)24 b(that)g("this)g(parser)e(encoun)n(tered)h(a)h(syn)n(tax)f
(error)e(and)j(elemen)n(ts)0 3064 y(ha)n(v)n(e)k(probably)h(b)r(een)h
(remo)n(v)n(ed)e(from)i(the)g(stream".)41 b(In)30 b(this)g(case,)g
(there)f(is)h(no)f(w)n(a)n(y)f(to)i(reco)n(v)n(er)d(the)j(parsing,)f
(and)h(it)0 3163 y(de\014nitiv)n(ely)e(fails.)0 3402
y Fe(4.4.2)112 b(Left)38 b(factorization)0 3557 y Fi(In)f(parsers,)h
Fa(c)l(onse)l(cutive)44 b Fi(rules)37 b(starting)f(with)i(the)g(same)f
(comp)r(onen)n(ts)f(are)h(left)h(factorized.)65 b(It)37
b(means)g(that)h(they)0 3657 y(are)30 b(transformed)g(in)n(to)h(one)g
(only)g(rule)g(starting)f(with)i(the)g(common)e(path,)j(and)e(con)n
(tin)n(uing)f(with)i(a)f(call)g(to)g(a)g(parser)0 3756
y(separating)26 b(the)i(t)n(w)n(o)f(cases.)36 b(The)27
b(order)f(is)i(k)n(ept,)f(except)h(that)g(the)g(p)r(ossible)f(empt)n(y)
h(rule)f(is)h(inserted)f(at)g(the)h(end.)0 3958 y(F)-7
b(or)27 b(example,)g(the)h(parser:)87 4147 y Fb(parser)87
4246 y([)43 b([:)g(`If;)f(e1)h(=)g(expr;)e(`Then;)h(e2)g(=)i(expr;)d
(`Else;)g(e3)i(=)g(expr)f(:])h(->)g(f)g(e1)f(e2)h(e3)87
4346 y(|)g([:)g(`If;)f(e1)h(=)g(expr;)e(`Then;)h(e2)g(=)i(expr)d(:])i
(->)g(g)g(e1)g(e2)g(])0 4533 y Fi(is)27 b(transformed)g(in)n(to:)87
4722 y Fb(parser)174 4821 y([:)43 b(`If;)f(e1)h(=)g(expr;)e(`Then;)h
(e2)g(=)i(expr;)305 4921 y(a)f(=)392 5021 y(parser)392
5120 y([)g([:)g(`Else;)e(e3)i(=)g(expr)f(:])h(->)g(f)g(e1)g(e2)f(e3)392
5220 y(|)h([:)g(:])g(->)g(g)g(e1)g(e2)f(])i(:])e(->)h(a)0
5407 y Fi(The)28 b(v)n(ersion)e(where)h(rules)g(are)f(in)n(v)n(erted:)
1908 5656 y(23)p eop end
%%Page: 24 26
TeXDict begin 24 25 bop 0 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 87 390 a
Fb(parser)87 490 y([)43 b([:)g(`If;)f(e1)h(=)g(expr;)e(`Then;)h(e2)g(=)
i(expr)d(:])i(->)g(g)g(e1)g(e2)87 589 y(|)g([:)g(`If;)f(e1)h(=)g(expr;)
e(`Then;)h(e2)g(=)i(expr;)d(`Else;)g(e3)i(=)g(expr)f(:])h(->)g(f)g(e1)f
(e2)h(e3)g(])0 780 y Fi(is)27 b(transformed)g(in)n(to)g(the)h(same)f
(parser.)0 983 y(Notice)h(that:)125 1173 y Fh(\017)41
b Fi(Only)27 b Fa(c)l(onse)l(cutive)34 b Fi(rules)27
b(are)f(left)j(factorized.)36 b(In)28 b(the)g(follo)n(wing)e(parser:)
295 1380 y Fb(parser)295 1479 y([)43 b([:)g(`If;)f(e1)g(=)i(expr;)d
(`Then;)g(e2)i(=)g(expr;)f(`Else;)f(e3)h(=)i(expr)e(:])g(->)h(...)295
1579 y(|)g([:)g(a)g(=)g(b)g(:])g(->)g(a)295 1679 y(|)g([:)g(`If;)f(e1)g
(=)i(expr;)d(`Then;)g(e2)i(=)g(expr)f(:])h(->)g(...)f(])208
1885 y Fi(the)28 b(t)n(w)n(o)e(rules)h(starting)g(with)h(")p
Fb(If)p Fi(")e(are)h(not)g(left)i(factorized,)d(and)i(the)g(second)f(")
p Fb(If)p Fi(")f(rule)h(will)h(nev)n(er)e(w)n(ork.)125
2059 y Fh(\017)41 b Fi(The)27 b(comp)r(onen)n(ts)g(whic)n(h)h(are)e
(not)i Fa(identic)l(al)38 b Fi(are)26 b(not)i(factorized.)36
b(In)28 b(the)g(follo)n(wing)e(parser:)295 2266 y Fb(parser)295
2365 y([)43 b([:)g(`If;)f(e1)g(=)i(expr;)d(`Then;)g(e2)i(=)g(expr;)f
(`Else;)f(e3)h(=)i(expr)e(:])g(->)h(...)295 2465 y(|)g([:)g(`If;)f(e4)g
(=)i(expr;)d(`Then;)g(e2)i(=)g(expr)f(:])h(->)g(...)f(])208
2672 y Fi(only)21 b(the)i(\014rst)e(comp)r(onen)n(t,)i(")p
Fb(If)p Fi(")e(is)h(factorized,)g(the)g(second)g(one)f(b)r(eing)i
(di\013eren)n(t)f(b)r(ecause)f(of)h(di\013eren)n(t)h(patterns)208
2772 y(\(")p Fb(e1)p Fi(")j(and)h(")p Fb(e4)p Fi("\).)0
3014 y Fe(4.4.3)112 b(Matc)m(h)38 b(with)f(parser)0 3171
y Fi(The)31 b(syn)n(tax)e("matc)n(h)h(expression)f(with)j(parser")c
(allo)n(ws)h(to)i(matc)n(h)f(a)g(stream)g(against)g(a)g(parser.)44
b(It)31 b(is,)h(for)e("parser",)0 3270 y(the)e(equiv)-5
b(alen)n(t)27 b(of)h("matc)n(h)f(expression)f(with")i(for)f("fun".)36
b(The)28 b(same)f(w)n(a)n(y)f(w)n(e)h(could)h(sa)n(y:)87
3463 y Fb(match)42 b(expression)d(with)j(...)0 3653 y
Fi(could)27 b(b)r(e)h(considered)f(as)g(an)g(equiv)-5
b(alen)n(t)28 b(to:)87 3845 y Fb(\(fun)42 b(...\))g(expression)0
4035 y Fi(w)n(e)27 b(could)h(consider)e(that:)87 4227
y Fb(match)42 b(expression)d(with)j(parser)f(...)0 4417
y Fi(is)27 b(an)h(equiv)-5 b(alen)n(t)27 b(to:)87 4609
y Fb(\(parser)41 b(...\))h(expression)0 4852 y Fe(4.4.4)112
b(Error)37 b(messages)0 5009 y Fi(A)27 b(")p Fb(Stream.Error)p
Fi(")21 b(exception)27 b(is)g(raised)f(when)h(a)f(stream)g(pattern)h
(comp)r(onen)n(t)g(do)r(es)f(not)h(matc)n(h)g(and)g(that)g(it)g(is)g
(not)0 5108 y(the)32 b(\014rst)g(one)f(of)h(the)g(parser)e(case.)49
b(This)32 b(exception)f(has)g(a)h(parameter)e(of)i(t)n(yp)r(e)g
(string,)g(useful)g(to)g(sp)r(ecify)g(the)g(error)0 5208
y(message.)52 b(By)33 b(default,)i(this)e(is)g(the)g(empt)n(y)g
(string.)53 b(T)-7 b(o)33 b(sp)r(ecify)g(an)g(error)e(message,)i(add)g
(a)g(question)f(mark)g(and)h(an)0 5308 y(expression)25
b(after)h(the)g(stream)g(pattern)g(comp)r(onen)n(t.)36
b(A)26 b(t)n(ypical)g(error)e(message)h(is)h("that)g(stream)f(pattern)h
(comp)r(onen)n(t)0 5407 y(exp)r(ected".)37 b(Example)26
b(with)j(the)f(parser)e(of)h("if..then..else..")h(ab)r(o)n(v)n(e:)1908
5656 y(24)p eop end
%%Page: 25 27
TeXDict begin 25 26 bop 2552 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 87 390 a
Fb(parser)174 490 y([:)43 b(`If;)f(e1)h(=)g(expr)f(?)h("expression)c
(expected)h(after)i('if'";)305 589 y(`Then)g(?)h("'then')d(expected";)
305 689 y(e2)j(=)g(expr)f(?)h("expression)c(expected)h(after)i
('then'";)305 789 y(a)h(=)392 888 y(parser)392 988 y([)g([:)g(`Else;)e
(e3)i(=)g(expr)f(?)h("expression)c(expected")h(:])j(->)g(f)g(e1)g(e2)f
(e3)392 1088 y(|)h([:)g(:])g(->)g(g)g(e1)g(e2)f(])i(:])e(->)h(a)0
1257 y Fi(Notice)31 b(that)h(the)g(expression)d(after)i(the)h(question)
f(mark)g(is)g(ev)-5 b(aluated)31 b(only)g(in)g(case)g(of)g(syn)n(tax)f
(error.)47 b(Therefore,)31 b(it)0 1357 y(can)c(b)r(e)h(a)f(complicated)
h(call)f(to)g(a)g(complicated)h(function)g(without)g(slo)n(wing)e(do)n
(wn)h(the)h(normal)f(parsing.)0 1587 y Fe(4.4.5)112 b(Stream)38
b(pattern)g(comp)s(onen)m(t)0 1740 y Fi(In)22 b(a)f(stream)g(pattern)g
(\(starting)g(with)h(")p Fb([:)p Fi(")e(and)i(ending)f(with)h(")p
Fb(:])p Fi("\),)g(the)g(stream)e(pattern)i(comp)r(onen)n(ts)f(are)f
(separated)0 1840 y(with)29 b(the)g(semicolon)f(c)n(haracter.)38
b(There)28 b(are)f(three)i(cases)e(of)i(stream)f(pattern)g(comp)r(onen)
n(ts)g(with)h(some)f(sub-cases)g(for)0 1939 y(some)f(of)h(them,)g(and)f
(an)h(extra)e(syn)n(tax)h(can)g(b)r(e)h(used)g(with)g(a)f("let..in")g
(construction.)36 b(The)28 b(three)f(cases)g(are:)125
2109 y Fh(\017)41 b Fi(A)27 b(direct)h(test)g(of)f(one)h(or)e(sev)n
(eral)g(stream)h(elemen)n(ts)g(\(called)h Ff(terminal)f
Fi(sym)n(b)r(ol\),)g(in)h(three)g(w)n(a)n(ys:)284 2269
y(1.)41 b(The)28 b(c)n(haracter)e("bac)n(kquote")g(follo)n(w)n(ed)g(b)n
(y)i(a)f(pattern,)h(meaning:)37 b(if)29 b(the)f(stream)f(starts)g(with)
h(an)g(elemen)n(t)390 2369 y(whic)n(h)22 b(is)g(matc)n(hed)g(b)n(y)f
(this)h(pattern,)h(the)g(stream)e(pattern)h(comp)r(onen)n(t)f(matc)n
(hes,)i(and)f(the)g(stream)f(elemen)n(t)390 2469 y(is)28
b(remo)n(v)n(ed)e(from)h(the)h(stream.)284 2596 y(2.)41
b(The)26 b(c)n(haracter)e("bac)n(kquote")f(follo)n(w)n(ed)i(b)n(y)g(a)h
(pattern,)g(the)g(k)n(eyw)n(ord)e("when")h(and)g(an)h(expression)e(of)i
(t)n(yp)r(e)390 2696 y(")p Fb(bool)p Fi(",)k(meaning:)44
b(if)32 b(the)f(stream)g(starts)g(with)g(an)g(elemen)n(t)h(whic)n(h)f
(is)g(matc)n(hed)h(b)n(y)f(this)g(pattern)g(and)h(if)390
2795 y(the)d(ev)-5 b(aluation)28 b(of)g(the)h(expression)e(is)h(")p
Fb(True)p Fi(",)e(the)j(stream)e(pattern)h(comp)r(onen)n(t)g(matc)n
(hes,)g(and)h(the)f(\014rst)390 2895 y(elemen)n(t)g(of)f(the)h(stream)f
(is)h(remo)n(v)n(ed.)284 3022 y(3.)41 b(The)c(c)n(haracter)e("question)
i(mark")f(follo)n(w)n(ed)g(b)n(y)h(the)g(c)n(haracter)e("equal")h(and)h
(a)g(lo)r(ok)-5 b(ahead)36 b(expression)390 3122 y(\(see)f(further\),)h
(meaning:)50 b(if)35 b(the)g(lo)r(ok)-5 b(ahead)33 b(applies,)j(the)e
(stream)g(pattern)g(comp)r(onen)n(t)g(matc)n(hes.)57
b(The)390 3222 y(lo)r(ok)-5 b(ahead)27 b(ma)n(y)g(unfreeze)g(one)g(or)g
(sev)n(eral)f(elemen)n(ts)h(on)g(the)h(stream,)f(but)h(do)r(es)g(not)f
(remo)n(v)n(e)f(them.)125 3382 y Fh(\017)41 b Fi(A)28
b(pattern)g(follo)n(w)n(ed)f(b)n(y)g(the)i("equal")d(sign)h(and)h(an)g
(expression)e(of)i(t)n(yp)r(e)g(")p Fb(Stream.t)40 b(x)j(->)g(y)p
Fi(")27 b(for)h(some)f(t)n(yp)r(es)208 3482 y(")p Fb(x)p
Fi(")g(and)h(")p Fb(y)p Fi(".)38 b(This)28 b(expression)f(is)h(called)g
(a)g Ff(non)33 b(terminal)28 b Fi(sym)n(b)r(ol.)38 b(It)29
b(means:)38 b(call)28 b(the)h(expression)e(\(whic)n(h)208
3582 y(is)g(a)g(parser\))f(with)j(the)f(curren)n(t)e(stream.)36
b(If)28 b(this)g(sub-parser:)284 3756 y(1.)41 b(Returns)29
b(an)g(elemen)n(t,)g(the)g(pattern)g(is)g(b)r(ound)g(to)g(this)g
(result)g(and)g(the)g(next)g(stream)g(pattern)f(comp)r(onen)n(t)390
3856 y(is)g(tested.)284 3984 y(2.)41 b(Raises)27 b(the)h(exception)f(")
p Fb(Stream.Failure)p Fi(")o(,)22 b(there)28 b(are)e(t)n(w)n(o)h
(cases:)456 4117 y Ff({)41 b Fi(if)32 b(the)g(stream)f(pattern)g(comp)r
(onen)n(t)h(is)f(the)h(\014rst)f(one)g(of)h(the)f(stream)g(case,)h(the)
g(curren)n(t)e(parser)g(also)545 4216 y(fails)e(with)g(the)g(exception)
f(")p Fb(Stream.Failure)p Fi(")o(.)456 4330 y Ff({)41
b Fi(if)34 b(the)f(stream)f(pattern)g(comp)r(onen)n(t)g(is)h(not)g(the)
g(\014rst)f(one)g(of)h(the)g(stream)f(case,)h(the)g(curren)n(t)f
(parser)545 4430 y(fails)c(with)g(the)g(exception)f(")p
Fb(Stream.Error)p Fi(".)390 4563 y(In)h(this)g(second)f(case:)456
4696 y Ff({)41 b Fi(If)29 b(the)f(stream)e(pattern)i(comp)r(onen)n(t)f
(is)h(follo)n(w)n(ed)e(b)n(y)i(a)f("question)g(mark")f(and)h(an)h
(expression)e(\(whic)n(h)545 4795 y(m)n(ust)19 b(b)r(e)h(of)e(t)n(yp)r
(e)i(")p Fb(string)p Fi("\),)d(the)i(expression)f(is)g(ev)-5
b(aluated)19 b(and)g(giv)n(en)f(as)g(parameter)f(of)i(the)g(exception)
545 4895 y(")p Fb(Stream.Error)p Fi(".)456 5009 y Ff({)41
b Fi(If)19 b(the)g(expression)e(is)h(follo)n(w)n(ed)f(b)n(y)i(an)f
("exclamation)e(mark",)j(the)g(test)g(and)f(con)n(v)n(ersion)e(from)i
(")p Fb(Stream.Failure)p Fi(")545 5108 y(to)28 b(")p
Fb(Stream.Error)p Fi(")22 b(is)27 b(not)h(done,)g(and)f(the)h(parser)e
(just)i(raises)f(")p Fb(Stream.Failure)o Fi(")22 b(again.)36
b(This)27 b(is)545 5208 y(an)h(optimization)f(whic)n(h)h(m)n(ust)g(b)r
(e)g(assumed)f(b)n(y)g(the)h(programmer,)d(in)j(general)f(when)g(he)h
(kno)n(ws)f(that)545 5308 y(the)33 b(sub-parser)d(called)i(nev)n(er)f
(raises)f(")p Fb(Stream.Failure)p Fi(")c(\(for)31 b(example)h(if)h(the)
f(called)g(parser)e(ends)545 5407 y(with)d(a)f(parser)e(case)i(con)n
(taining)f(an)h(empt)n(y)g(stream)f(pattern\).)37 b(See)26
b("no)f(error)g(optionization")f(b)r(elo)n(w.)1908 5656
y(25)p eop end
%%Page: 26 28
TeXDict begin 26 27 bop 0 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 456 390
a Ff({)41 b Fi(Otherwise)27 b(the)h(exception)f(parameter)g(is)g(the)h
(empt)n(y)g(string.)125 599 y Fh(\017)41 b Fi(A)27 b(pattern,)h(whic)n
(h)g(is)f(b)r(ound)h(to)f(the)h(curren)n(t)f(stream.)0
803 y(Notice)h(that)f(patterns)h(are)e(b)r(ound)i(immediately)g(and)f
(can)h(b)r(e)g(used)f(in)h(the)g(next)g(stream)f(pattern)g(comp)r(onen)
n(t.)0 1064 y Fe(4.4.6)112 b(Let)38 b(statemen)m(t)0
1227 y Fi(Bet)n(w)n(een)22 b(stream)g(pattern)h(comp)r(onen)n(ts,)g(it)
g(is)g(p)r(ossible)f(to)h(use)f(the)h("let..in")g(construction.)34
b(This)23 b(is)f(not)h(considered)f(as)0 1326 y(a)28
b(real)g(stream)g(pattern)g(comp)r(onen)n(t,)h(in)g(the)g(fact)g(that)f
(is)h(is)f(not)h(tested)g(against)e(the)i(exception)g(")p
Fb(Stream.Failure)o Fi(")0 1426 y(it)e(ma)n(y)f(raise.)36
b(It)27 b(can)f(b)r(e)i(useful)f(for)f(in)n(termediate)h(computation.)
36 b(In)27 b(particular,)f(it)h(is)f(used)h(in)n(ternally)f(b)n(y)h
(the)g(lexers)0 1526 y(\(see)h(c)n(hapter)e(ab)r(out)i(lexers)e(as)h(c)
n(haracter)f(stream)h(parsers\).)0 1736 y(Example)i(of)g(use,)h(when)g
(an)f(expression)g(ha)n(v)n(e)f(to)h(b)r(e)h(used)g(sev)n(eral)e(times)
i(\(in)g(the)g(example,)g(")p Fb(d)42 b(a)p Fi(",)30
b(whic)n(h)f(is)h(b)r(ound)0 1835 y(to)d(the)h(v)-5 b(ariable)27
b(")p Fb(c)p Fi("\):)87 2044 y Fb(parser)174 2144 y([:)43
b(a)g(=)g(b;)305 2244 y(let)f(c)i(=)f(d)g(a)g(in)305
2343 y(e)g(=)392 2443 y(parser)392 2542 y([)g([:)g(f)g(=)h(g)f(:])f(->)
h(h)g(c)392 2642 y(|)g([:)g(:])g(->)g(c)g(])g(:])g(->)g(e)0
2903 y Fe(4.4.7)112 b(Lo)s(ok)-6 b(ahead)0 3066 y Fi(The)27
b(lo)r(ok)-5 b(ahead)26 b(feature)h(allo)n(ws)e(to)i(lo)r(ok)f(at)h
(sev)n(eral)e(terminals)i(in)g(the)h(stream)e(without)h(remo)n(ving)f
(them,)h(in)h(order)d(to)0 3165 y(tak)n(e)i(decisions)g(when)h(more)e
(than)i(one)f(terminal)h(is)f(necessary)-7 b(.)0 3375
y(F)g(or)37 b(example,)k(when)d(parsing)f(the)h(normal)f(syn)n(tax)g
(of)i(the)f(OCaml)f(language,)j(there)d(is)h(a)g(problem,)i(in)f
(recursing)0 3475 y(descenden)n(t)27 b(parsing,)g(for)g(the)h(cases)e
(where)h(to)h(treat)f(and)h(di\013eren)n(tiate)f(the)h(follo)n(wing)e
(inputs:)87 3684 y Fb(\(-x+1\))87 3784 y(\(-\))0 3987
y Fi(The)j(\014rst)f(case)g(is)h(treated)f(in)h(a)f(rule,)h(telling:)39
b("a)28 b(left)h(paren)n(thesis,)f(follo)n(w)n(ed)g(b)n(y)g(an)h
(expression,)e(and)i(a)f(righ)n(t)g(paren-)0 4087 y(thesis".)46
b(The)31 b(second)f(one)h(is)g("a)f(left)h(paren)n(thesis,)g(an)f(op)r
(erator,)g(a)h(righ)n(t)f(paren)n(thesis".)45 b(Programming)28
b(it)j(lik)n(e)g(this)0 4187 y(\(left)e(factorizing)d(the)i(\014rst)f
(paren)n(thesis\):)87 4396 y Fb(parser)174 4495 y([:)43
b(`Lparen;)305 4595 y(e)g(=)392 4695 y(parser)392 4794
y([)g([:)g(e)g(=)h(expr;)d(`Rparen)g(:])i(->)f(e)392
4894 y(|)h([:)g(`Minus;)e(`Rparen)g(:])h(->)h(minus_op)d(])k(:])e(->)h
(e)0 5098 y Fi(do)r(es)26 b(not)g(w)n(ork)f(if)i(the)g(input)g(is)f(")p
Fb(\(-\))p Fi(")e(b)r(ecause)i(the)h(rule)f(")p Fb(e)42
b(=)h(expr)p Fi(")25 b(accepts)g(the)i(min)n(us)f(sign)g(as)g
(expression)f(start,)0 5197 y(remo)n(ving)h(it)i(from)f(the)h(input)h
(stream)d(and)i(fails)f(as)g(parsing)g(error,)e(while)j(encoun)n
(tering)e(the)i(righ)n(t)f(paren)n(thesis.)0 5407 y(Con)n(v)n(ersely)-7
b(,)26 b(writing)h(it)h(this)g(w)n(a)n(y:)1908 5656 y(26)p
eop end
%%Page: 27 29
TeXDict begin 27 28 bop 2552 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 87 390 a
Fb(parser)174 490 y([:)43 b(`Lparen;)305 589 y(e)g(=)392
689 y(parser)392 789 y([)g([:)g(`Minus;)e(`Rparen)g(:])h(->)h(minus_op)
392 888 y(|)g([:)g(e)g(=)h(expr;)d(`Rparen)g(:])i(->)f(e)h(])h(:])e(->)
h(e)0 1065 y Fi(do)r(es)30 b(not)f(help,)i(b)r(ecause)f(if)g(the)g
(input)h(is)f(")p Fb(\(-x+1\))p Fi(")c(the)31 b(rule)e(ab)r(o)n(v)n(e)g
(starting)g(with)h(")p Fb(`Minus)p Fi(")d(is)i(accepted)h(and)g(the)0
1165 y(exception)22 b(")p Fb(Stream.Error)p Fi(")16 b(is)22
b(raised)f(while)h(encoun)n(tering)f(the)i(v)-5 b(ariable)21
b(")p Fb(x)p Fi(")g(since)h(a)f(righ)n(t)h(paren)n(thesis)f(is)h(exp)r
(ected.)0 1364 y(In)30 b(general,)g(this)g(kind)h(of)f(situation)g(is)g
(b)r(est)h(resolv)n(ed)d(b)n(y)i(a)g(left)h(factorization)d(of)j(the)f
(parser)f(cases)g(\(see)h(the)g(section)0 1463 y("Seman)n(tics")24
b(ab)r(o)n(v)n(e\),)i(but)g(that)g(is)g(not)g(p)r(ossible)f(in)h(this)g
(case.)36 b(The)26 b(solution)f(is)h(to)g(test)g(whether)f(the)i(c)n
(haracter)c(after)0 1563 y(the)28 b(min)n(us)g(sign)f(is)g(a)g(righ)n
(t)g(paren)n(thesis:)87 1740 y Fb(parser)174 1839 y([:)43
b(`Lparen;)305 1939 y(e)g(=)392 2039 y(parser)392 2138
y([)g([:)g(?=)g([)g(_)g(Rparen)e(];)i(`Minus;)e(`Rparen)g(:])h(->)h
(minus_op)392 2238 y(|)g([:)g(e)g(=)h(expr;)d(`Rparen)g(:])i(->)f(e)h
(])h(:])e(->)h(e)0 2414 y Fi(It)30 b(is)g(p)r(ossible)f(to)h(put)h(sev)
n(eral)d(lists)h(of)h(patterns)g(separated)e(b)n(y)i(a)f(v)n(ertical)g
(bar)g(in)h(the)g(lo)r(ok)-5 b(ahead)29 b(construction,)g(but)0
2514 y(with)e(a)f(limitation)g(\(due)h(to)f(the)h(implemen)n(tation\):)
36 b(all)27 b(lists)f(of)g(patterns)g(m)n(ust)g(ha)n(v)n(e)f(the)i
(same)f(n)n(um)n(b)r(er)g(of)g(elemen)n(ts.)0 2745 y
Fe(4.4.8)112 b(No)37 b(error)g(optimization)0 2899 y
Fi(The)21 b("no)f(error)f(optimization")h(is)h(the)g(fact)g(to)f(end)h
(a)g(stream)f(pattern)h(comp)r(onen)n(t)f(of)h(kind)g("non-terminal")e
(\("pattern")0 2998 y("equal")g("expression"\))f(b)n(y)j(the)g(c)n
(haracter)d("exclamation)h(mark".)33 b(Lik)n(e)20 b(said)g(ab)r(o)n(v)n
(e,)h(this)g(inhibits)g(the)g(transformation)0 3098 y(of)f(the)h
(exception)f(")p Fb(Stream.Failure)p Fi(")o(,)c(p)r(ossibly)k(raised)g
(b)n(y)g(the)h(called)f(parser,)g(in)n(to)g(the)h(exception)f(")p
Fb(Stream.Error)p Fi(".)0 3297 y(The)28 b(co)r(de:)87
3474 y Fb(parser)41 b([:)i(a)g(=)g(b;)g(c)g(=)g(d)h(!)f(:])g(->)f(e)0
3650 y Fi(is)27 b(equiv)-5 b(alen)n(t)28 b(to:)87 3827
y Fb(parser)41 b([:)i(a)g(=)g(b;)g(s)g(:])g(->)g(let)f(c)h(=)h(d)f(s)g
(in)g(e)0 4003 y Fi(One)35 b(in)n(terest)g(of)h(the)g(\014rst)f(syn)n
(tax)g(is)g(that)h(it)g(sho)n(ws)e(to)i(readers)e(that)h(")p
Fb(d)p Fi(")g(is)g(indeed)h(a)f(syn)n(tactic)g(sub-parser.)59
b(In)0 4103 y(the)33 b(second)g(syn)n(tax,)g(it)h(is)f(called)f(in)i
(the)f(seman)n(tic)f(action,)i(whic)n(h)f(mak)n(es)f(the)i(parser)d
(case)h(not)h(so)g(clear,)g(as)f(far)h(as)0 4203 y(readabilit)n(y)26
b(is)i(concerned.)0 4402 y(If)33 b(the)g(stream)e(pattern)i(comp)r
(onen)n(t)f(is)g(at)g(end)h(of)f(the)h(stream)f(pattern,)h(this)g(allo)
n(w)e(p)r(ossible)h(tail)h(recursion)e(b)n(y)h(the)0
4502 y(OCaml)27 b(compiler,)g(in)h(the)g(follo)n(wing)e(case:)87
4678 y Fb(parser)41 b([:)i(a)g(=)g(b;)g(c)g(=)g(d)h(!)f(:])g(->)f(c)0
4855 y Fi(since)21 b(it)h(is)f(equiv)-5 b(alen)n(t)21
b(\(with)h(the)g(fact)g(that)f(")p Fb(c)p Fi(")f(is)i(at)f(the)h(same)e
(time)i(the)g(pattern)f(of)g(the)h(last)f(case)g(and)g(the)h
(expression)0 4954 y(of)28 b(the)g(parser)e(case)g(seman)n(tic)h
(action\))h(to:)87 5131 y Fb(parser)41 b([:)i(a)g(=)g(b;)g(s)g(:])g(->)
g(d)g(s)0 5308 y Fi(The)30 b(call)g(to)g(")p Fb(d)43
b(s)p Fi(")29 b(can)h(b)r(e)g(a)g(tail)g(recursiv)n(e)f(call.)44
b(Without)31 b(the)f(use)g(of)g(the)h("exclamation)d(mark")h(in)i(the)f
(rule,)h(the)0 5407 y(equiv)-5 b(alen)n(t)27 b(co)r(de)h(is:)1908
5656 y(27)p eop end
%%Page: 28 30
TeXDict begin 28 29 bop 0 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 87 390 a
Fb(parser)41 b([:)i(a)g(=)g(b;)g(s)g(:])g(->)174 490
y(try)g(d)g(s)g(with)f([)h(Stream.Failure)38 b(->)43
b(raise)e(\(Stream.Error)d(""\))43 b(])0 690 y Fi(whic)n(h)31
b(is)h(not)f(tail)h(recursiv)n(e)d(\(due)j(to)g(the)f("try)-7
b(..with")31 b(construction)g(pushes)g(a)g(con)n(text\),)i(prev)n(en)n
(ting)d(the)i(compiler)0 790 y(to)h(optimize)g(its)h(co)r(de.)53
b(This)33 b(can)g(b)r(e)h(imp)r(ortan)n(t)f(when)g(man)n(y)g(recursiv)n
(e)e(calls)i(happ)r(en,)i(since)e(it)g(can)g(o)n(v)n(er\015o)n(w)e(the)
0 889 y(OCaml)c(stac)n(k.)0 1145 y Fe(4.4.9)112 b(P)m(osition)0
1306 y Fi(The)34 b(optional)f("pattern")g(b)r(efore)g(and)h(after)f(a)h
(stream)f(pattern)h(is)f(b)r(ound)h(to)g(the)g(curren)n(t)f(stream)g
(coun)n(t.)56 b(Indeed,)0 1406 y(streams)28 b(in)n(ternally)g(con)n
(tain)g(a)g(coun)n(t)g(of)h(their)g(elemen)n(ts.)40 b(A)n(t)29
b(the)g(b)r(eginning)f(the)h(coun)n(t)g(is)f(zero.)39
b(When)30 b(an)e(elemen)n(t)0 1505 y(is)f(remo)n(v)n(ed,)g(the)h(coun)n
(t)f(is)g(incremen)n(ted.)37 b(The)28 b(example:)87 1710
y Fb(parser)41 b([:)i(a)g(=)g(b)h(:])e(ep)h(->)g(c)0
1910 y Fi(is)27 b(equiv)-5 b(alen)n(t)28 b(to:)87 2114
y Fb(parser)41 b([:)i(a)g(=)g(b;)g(s)g(:])g(->)g(let)f(ep)h(=)g
(Stream.count)c(s)k(in)g(c)0 2315 y Fi(There)27 b(is)h(no)f(direct)g
(syn)n(tax)g(equiv)-5 b(alen)n(t)27 b(to)h(the)g(optional)f(pattern)g
(at)h(b)r(eginning)f(of)h(the)g(stream)e(pattern:)87
2519 y Fb(parser)41 b(bp)i([:)g(a)g(=)g(b)g(:])g(->)g(c)0
2719 y Fi(These)32 b(optional)g(patterns)h(allo)n(w)e(disp)r(osal)h(of)
h(the)g(stream)f(coun)n(t)g(at)g(the)h(b)r(eginning)g(and)g(at)f(the)h
(end)g(of)g(the)g(parser)0 2819 y(case,)j(allo)n(wing)e(to)h(compute)h
(lo)r(cations)e(of)h(the)h(rule)f(in)g(the)h(source.)58
b(In)36 b(particular,)g(if)g(the)f(stream)g(is)g(a)g(stream)f(of)0
2918 y(c)n(haracters,)25 b(these)j(coun)n(ts)f(are)g(the)h(source)e(lo)
r(cation)h(in)h(n)n(um)n(b)r(er)f(of)h(c)n(haracters.)0
3174 y Fe(4.4.10)113 b(Seman)m(tic)38 b(action)0 3335
y Fi(In)g(a)g(parser)e(case,)k(after)d(the)i(stream)e(pattern,)j(there)
e(is)g(an)g("arro)n(w")d(and)i(an)h(expression,)h(called)f(the)g
("seman)n(tic)0 3435 y(action".)j(If)30 b(the)f(parser)f(case)h(is)g
(matc)n(hed)g(the)h(parser)d(returns)i(with)h(the)g(ev)-5
b(aluated)29 b(expression)e(whose)i(en)n(vironmen)n(t)0
3535 y(con)n(tains)e(all)g(v)-5 b(alues)27 b(b)r(ound)h(in)g(the)g
(stream)f(pattern.)0 3832 y Fc(4.5)135 b(Remarks)0 4039
y Fe(4.5.1)112 b(Simplicit)m(y)39 b(vs)e(Asso)s(ciativit)m(y)0
4200 y Fi(This)27 b(parsing)f(tec)n(hnology)f(has)i(the)h(adv)-5
b(an)n(tage)25 b(of)i(simplicit)n(y)g(of)g(use)g(and)g(understanding,)g
(but)h(it)f(do)r(es)g(not)g(treat)g(the)0 4300 y(asso)r(ciativit)n(y)f
(of)i(op)r(erators.)34 b(F)-7 b(or)27 b(example,)h(if)g(y)n(ou)f(write)
g(a)g(parser)f(lik)n(e)h(this)h(\(to)g(compute)g(arithmetic)f
(expressions\):)87 4504 y Fb(value)42 b(rec)g(expr)g(=)174
4604 y(parser)174 4704 y([)i([:)e(e1)h(=)g(expr;)f(`'+';)f(e2)i(=)g
(expr)f(:])h(->)g(e1)f(+)i(e2)174 4803 y(|)g([:)e(`\('0'..'9')e(as)i
(c\))h(:])g(->)g(Char.code)d(c)j(-)g(Char.code)d('0')i(])0
5003 y Fi(this)28 b(w)n(ould)f(lo)r(op)g(endlessly)-7
b(,)28 b(exactly)e(as)h(if)i(y)n(ou)d(wrote)h(co)r(de)h(starting)e
(with:)87 5208 y Fb(value)42 b(rec)g(expr)g(e)h(=)174
5308 y(let)g(e1)f(=)i(expr)e(e)h(in)174 5407 y(...)1908
5656 y Fi(28)p eop end
%%Page: 29 31
TeXDict begin 29 30 bop 2552 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 0 390 a(One)28
b(solution)f(is)h(to)f(treat)h(the)g(asso)r(cia)n(vit)n(y)e("b)n(y)h
(hand":)37 b(b)n(y)27 b(reading)g(a)g(sub-expression,)f(then)j(lo)r
(oping)e(with)h(a)g(parser)0 490 y(whic)n(h)g(parses)e(the)i(op)r
(erator)e(and)h(another)g(sub-expression,)f(and)h(so)g(on.)0
689 y(An)38 b(alternativ)n(e)e(solution)h(is)g(to)g(write)g(parsing)f
("com)n(binators".)64 b(Indeed,)40 b(parsers)35 b(b)r(eing)j(normal)e
(functions,)k(it)e(is)0 789 y(p)r(ossible)25 b(to)g(mak)n(e)f(a)h
(function)h(whic)n(h)f(tak)n(es)g(a)f(parser)g(as)h(parameter)e(and)i
(returning)g(a)g(parser)e(using)i(it.)37 b(F)-7 b(or)24
b(example,)0 888 y(left)k(and)g(righ)n(t)f(asso)r(ciativit)n(y)f
(parsing)g(com)n(binators:)87 1058 y Fb(value)42 b(rec)g(left_assoc)d
(op)k(elem)f(=)174 1157 y(let)h(rec)f(op_elem)f(x)i(=)262
1257 y(parser)262 1357 y([)g([:)f(t)i(=)f(op;)f(y)h(=)g(elem;)f(r)h(=)g
(op_elem)e(\(t)i(x)g(y\))g(:])f(->)h(r)262 1456 y(|)g([:)f(:])h(->)g(x)
g(])174 1556 y(in)174 1655 y(parser)e([:)i(x)g(=)h(elem;)d(r)i(=)g
(op_elem)e(x)i(:])g(->)g(r)87 1755 y(;)87 1954 y(value)f(rec)g
(right_assoc)d(op)k(elem)f(=)174 2054 y(let)h(rec)f(op_elem)f(x)i(=)262
2154 y(parser)262 2253 y([)g([:)f(t)i(=)f(op;)f(y)h(=)g(elem;)f(r)h(=)g
(op_elem)e(y)i(:])g(->)g(t)g(x)g(r)262 2353 y(|)g([:)f(:])h(->)g(x)g(])
174 2452 y(in)174 2552 y(parser)e([:)i(x)g(=)h(elem;)d(r)i(=)g(op_elem)
e(x)i(:])g(->)g(r)87 2652 y(;)0 2821 y Fi(whic)n(h)28
b(can)f(b)r(e)h(used,)f(e.g.)37 b(lik)n(e)27 b(this:)87
2990 y Fb(value)42 b(expr)g(=)174 3090 y(List.fold_right)c(\(fun)k(op)g
(elem)g(->)h(op)g(elem\))262 3190 y([left_assoc)c(\(parser)h([:)j(`'+')
f(:])h(->)f(fun)h(x)g(y)g(->)g(x)g(+.)g(y\);)305 3289
y(left_assoc)d(\(parser)g([:)j(`'*')f(:])h(->)f(fun)h(x)g(y)g(->)g(x)g
(*.)g(y\);)305 3389 y(right_assoc)c(\(parser)i([:)i(`'^')f(:])g(->)h
(fun)f(x)i(y)f(->)f(x)i(**)e(y\)])262 3488 y(\(parser)e([:)j
(`\('0'..'9')c(as)k(c\))g(:])g(->)f(float)g(\(Char.code)d(c)44
b(-)f(Char.code)d('0'\)\))87 3588 y(;)0 3757 y Fi(and)27
b(tested,)h(e.g.)37 b(in)28 b(the)g(toplev)n(el,)f(lik)n(e)g(that:)87
3927 y Fb(expr)42 b(\(Stream.of_strin)o(g)c("2^3^2+1"\);)0
4096 y Fi(The)31 b(same)f(w)n(a)n(y)-7 b(,)30 b(it)h(is)g(p)r(ossible)f
(to)g(parse)g(non-con)n(text)g(free)g(grammars,)f(b)n(y)i(programming)d
(parsers)h(returning)h(other)0 4196 y(parsers.)0 4395
y(A)e(third)h(solution,)e(to)h(resolv)n(e)e(the)j(problem)e(of)h(asso)r
(ciativit)n(y)-7 b(,)27 b(is)h(to)f(use)h(the)h(grammars)c(of)j
(Camlp5,)g(whic)n(h)g(ha)n(v)n(e)f(the)0 4495 y(other)g(adv)-5
b(an)n(tage)26 b(that)i(they)g(are)e(extensible.)0 4725
y Fe(4.5.2)112 b(Lexing)39 b(vs)f(P)m(arsing)0 4878 y
Fi(In)28 b(general,)e(while)i(analyzing)e(a)h(language,)f(there)i(are)e
(t)n(w)n(o)h(lev)n(els:)125 5047 y Fh(\017)41 b Fi(The)23
b(lev)n(el)h(where)f(the)h(input,)h(considered)e(as)g(a)g(stream)g(of)h
(c)n(haracters,)e(is)i(read)f(to)g(mak)n(e)g(a)h(stream)f(of)g(tok)n
(ens)g(\(for)208 5147 y(example)k("w)n(ords",)e(if)j(it)g(is)g(a)f(h)n
(uman)g(language,)f(or)h(punctuation\).)37 b(This)28
b(lev)n(el)f(is)h(generally)e(called)h("lexing".)125
5308 y Fh(\017)41 b Fi(The)23 b(lev)n(el)h(where)f(the)h(input)g(is)g
(a)f(stream)g(of)h(tok)n(ens)f(where)g(grammar)f(rules)h(are)g(parsed.)
34 b(This)24 b(lev)n(el)f(is)h(generally)208 5407 y(called)j
("parsing".)1908 5656 y(29)p eop end
%%Page: 30 32
TeXDict begin 30 31 bop 0 70 a Fi(CHAPTER)27 b(4.)64
b(STREAM)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 0 390 a(The)28
b("parser")d(construction)h(describ)r(ed)i(here)f(can)g(b)r(e)h(used)g
(for)f(b)r(oth,)h(thanks)f(to)h(the)g(p)r(olymorphism)f(of)g(OCaml:)125
573 y Fh(\017)41 b Fi(The)27 b(lexing)g(lev)n(el)g(is)h(a)f("parser")e
(of)j(streams)e(of)i(c)n(haracters)d(returning)i(tok)n(ens.)125
739 y Fh(\017)41 b Fi(The)27 b(parsing)f(lev)n(el)i(is)f(a)g("parser")e
(of)j(streams)e(of)i(tok)n(ens)f(returning)g(syn)n(tax)f(trees.)0
922 y(By)g(comparison,)e(the)j(programs)c("lex")i(and)h("y)n(acc")e
(use)i(t)n(w)n(o)f(di\013eren)n(t)h(tec)n(hnologies.)35
b(With)27 b("parser"s,)c(it)k(is)e(p)r(ossible)0 1021
y(to)i(use)h(the)g(same)f(one)g(for)g(b)r(oth.)0 1254
y Fe(4.5.3)112 b(Lexer)38 b(syn)m(tax)g(vs)g(P)m(arser)f(syn)m(tax)0
1407 y Fi(F)-7 b(or)24 b("lexers",)f(i.e.)36 b(for)24
b(the)h(sp)r(eci\014c)g(case)f(of)h(parsers)d(when)j(the)g(input)h(is)e
(a)g(stream)g(of)h(c)n(haracters,)e(it)i(is)f(p)r(ossible)h(to)f(use)0
1506 y(a)i(shorter)g(syn)n(tax.)36 b(See)27 b(the)g(c)n(hapter)f(on)g
(lexers.)36 b(They)27 b(ha)n(v)n(e)f(another)f(syn)n(tax,)i(shorter)e
(and)i(adapted)f(for)h(the)g(sp)r(eci\014c)0 1606 y(t)n(yp)r(e)h(")p
Fb(char)p Fi(".)34 b(But)28 b(they)g(still)g(are)e(in)n(ternally)h
(parsers)f(of)h(streams)g(with)h(the)g(same)f(seman)n(tics.)0
1838 y Fe(4.5.4)112 b(Purely)38 b(functional)g(parsers)0
1992 y Fi(This)30 b(system)f(of)h(parsers)e(is)h(imp)r(erativ)n(e:)41
b(while)30 b(parsing,)f(the)h(stream)f(adv)-5 b(ances)29
b(and)g(the)i(already)d(parsed)h(terminals)0 2091 y(disapp)r(ear)36
b(from)g(the)h(stream)f(structure.)64 b(This)37 b(is)f(useful)h(b)r
(ecause)g(it)g(is)f(not)h(necessary)e(to)i(return)f(the)h(remaining)0
2191 y(stream)25 b(together)h(with)h(the)f(normal)f(result.)37
b(This)26 b(is)g(the)h(reason)d(there)i(is)g(this)h(")p
Fb(Stream.Error)p Fi(")20 b(exception:)36 b(when)27 b(it)0
2291 y(is)i(raised,)g(it)h(means)g(that)f(some)g(terminals)g(ha)n(v)n
(e)g(b)r(een)h(consummed)f(from)g(the)h(stream,)g(whic)n(h)f(are)g
(de\014nitiv)n(ely)g(lost,)0 2390 y(and)e(therefore)g(that)h(are)f(no)g
(more)g(p)r(ossible)g(parser)f(cases)g(to)i(try)-7 b(.)0
2589 y(An)34 b(alternativ)n(e)e(is)i(to)f(use)h(functional)g(parsers)d
(whic)n(h)j(use)f(a)g(new)h(stream)f(t)n(yp)r(e,)i(lazy)e(but)i(not)e
(destructiv)n(e.)54 b(Their)0 2689 y(adv)-5 b(an)n(tage)25
b(is)g(that)i(they)f(use)g(a)g(limited)g(bac)n(ktrac)n(k:)34
b(the)27 b(case)e(of)h("if..then..else..")g(and)g(the)g(shorter)f
("if..then..")h(w)n(ork)0 2789 y(without)f(ha)n(ving)e(to)h(left)h
(factorize)e(the)i(parser)d(cases,)i(and)g(there)g(is)g(no)g(need)h(to)
f(lo)r(ok)-5 b(ahead.)34 b(They)24 b(ha)n(v)n(e)f(no)h(equiv)-5
b(alen)n(t)0 2888 y(to)31 b(the)h(exception)e(")p Fb(Stream.Error)p
Fi(":)38 b(when)32 b(all)f(cases)f(are)g(tested,)i(and)f(ha)n(v)n(e)f
(failed,)i(the)g(parsers)d(return)i(the)g(v)-5 b(alue)0
2988 y(")p Fb(None)p Fi(".)37 b(The)29 b(dra)n(wbac)n(k)d(is)j(that,)g
(when)g(a)f(parsing)f(error)g(happ)r(ens,)i(it)g(is)f(not)h(easily)e(p)
r(ossible)i(to)f(kno)n(w)g(the)h(lo)r(cation)0 3088 y(of)j(the)g(error)
d(in)j(the)g(input,)i(as)d(the)h(initial)g(stream)f(has)g(not)g(b)r
(een)h(mo)r(di\014ed:)46 b(the)32 b(system)f(w)n(ould)h(indicate)f(a)g
(failure)0 3187 y(at)f(the)g(\014rst)f(c)n(haracter)f(of)h(the)h
(\014rst)g(line:)41 b(this)30 b(is)f(a)g(general)g(dra)n(wbac)n(k)e(of)
j(bac)n(ktrac)n(king)d(parsers.)41 b(See)30 b(the)g(solutions)0
3287 y(found)e(to)f(this)h(problem)f(in)h(the)g(c)n(hapter)f(ab)r(out)g
(purely)h(functional)f(parsers.)0 3486 y(A)32 b(second)f(alternativ)n
(e)f(is)i(to)f(use)h(the)g(bac)n(ktrac)n(king)d(parsers.)47
b(They)31 b(use)g(the)h(same)f(stream)g(t)n(yp)r(e)h(as)f(the)h
(functional)0 3586 y(parsers,)38 b(but)g(they)g(test)g(more)f(cases)f
(than)i(them.)68 b(They)37 b(ha)n(v)n(e)f(the)i(same)f(adv)-5
b(an)n(tages)36 b(and)i(dra)n(wbac)n(ks)d(than)j(the)0
3685 y(functional)28 b(parsers.)1908 5656 y(30)p eop
end
%%Page: 31 33
TeXDict begin 31 32 bop 0 1013 a Fd(Chapter)65 b(5)0
1429 y Fg(Stream)77 b(lexers)0 1861 y Fi(The)33 b(\014le)f(")p
Fb(pa)p 449 1861 27 4 v 31 w(lexer.cmo)p Fi(")c(is)33
b(a)f(Camlp5)g(syn)n(tax)g(extension)g(kit)h(for)f(parsers)f(of)h
(streams)g(of)g(the)h(t)n(yp)r(e)g('c)n(har'.)51 b(This)0
1960 y(syn)n(tax)29 b(is)h(shorter)f(and)g(more)h(readable)e(than)j
(its)f(equiv)-5 b(alen)n(t)29 b(v)n(ersion)g(written)h(with)h
(classical)d(stream)h(parsers.)43 b(Lik)n(e)0 2060 y(classical)32
b(parsers,)i(they)f(use)h(recursiv)n(e)e(descendan)n(t)h(parsing.)54
b(They)33 b(are)g(also)g(pure)g(syn)n(tax)g(sugar,)g(and)h(eac)n(h)f
(lexer)0 2159 y(written)28 b(with)g(this)g(syn)n(tax)e(can)i(b)r(e)g
(written)f(using)h(normal)e(parsers)g(syn)n(tax.)0 2259
y(\(An)21 b(old)g(v)n(ersion,)f(named)h(")p Fb(pa)p 988
2259 V 30 w(lex.cmo)p Fi(")c(w)n(as)i(pro)n(vided)h(b)r(efore)g(with)h
(a)f(di\013eren)n(t)h(syn)n(tax.)34 b(It)21 b(is)f(no)g(longer)g
(distributed,)0 2359 y(its)28 b(prop)r(osed)e(syn)n(tax)h(b)r(eing)h
(confusing.\))0 2635 y Fc(5.1)135 b(In)l(tro)t(duction)0
2817 y Fi(Classical)26 b(parsers)f(in)i(OCaml)f(apply)h(to)g(streams)f
(of)h(an)n(y)f(t)n(yp)r(e)h(of)g(v)-5 b(alues.)37 b(F)-7
b(or)26 b(the)h(sp)r(eci\014c)h(t)n(yp)r(e)f("c)n(har",)e(it)i(has)g(b)
r(een)0 2917 y(p)r(ossible)j(to)g(shorten)g(the)h(enco)r(ding)f(in)h
(sev)n(eral)e(w)n(a)n(ys,)g(in)i(particular)e(b)n(y)h(using)h(strings)e
(to)h(group)g(sev)n(eral)e(c)n(haracters)0 3017 y(together,)40
b(and)e(b)n(y)g(hidding)g(the)h(managemen)n(t)e(of)h(a)g("lexing)f
(bu\013er",)k(a)d(data)g(structure)f(recording)g(the)h(matc)n(hed)0
3116 y(c)n(haracters.)0 3316 y(Let)29 b(us)f(tak)n(e)g(an)g(example.)39
b(The)29 b(follo)n(wing)e(function)i(parses)e(a)i(left)g(brac)n(k)n(et)
e(follo)n(w)n(ed)g(b)n(y)h(a)h(less,)f(a)g(colon)g(or)f(nothing,)0
3416 y(and)g(record)g(the)h(result)f(in)h(a)f(bu\013er.)37
b(In)28 b(classical)e(parsers)g(syn)n(tax,)g(this)i(could)g(b)r(e)g
(written)f(lik)n(e)h(this:)87 3600 y Fb(fun)43 b(buf)f(->)174
3700 y(parser)174 3799 y([)i([:)e(`'[';)g(`'<')g(:])g(->)349
3899 y(Plexing.Lexbuf.)o(add)37 b('<')42 b(\(Plexing.Lexbuf.a)o(dd)37
b('[')42 b(buf\))174 3998 y(|)i([:)e(`'[';)g(`':')g(:])g(->)349
4098 y(Plexing.Lexbuf.)o(add)37 b(':')42 b(\(Plexing.Lexbuf.a)o(dd)37
b('[')42 b(buf\))174 4198 y(|)i([:)e(`'[')g(:])h(->)349
4297 y(Plexing.Lexbuf)37 b('[')43 b(buf)f(])0 4481 y
Fi(With)28 b(the)g(new)g(syn)n(tax,)f(it)h(is)f(p)r(ossible)h(to)f
(write)g(it)h(as:)87 4665 y Fb(lexer)42 b([)h("[<")f(|)h("[:")f(|)h
("[")f(])0 4849 y Fi(The)30 b(t)n(w)n(o)f(co)r(des)h(are)f(strictly)g
(equiv)-5 b(alen)n(t,)31 b(but)f(the)h(lexer)e(v)n(ersion)f(is)i
(easier)f(to)h(write)g(and)f(understand,)i(and)e(is)h(m)n(uc)n(h)0
4949 y(shorter.)0 5225 y Fc(5.2)135 b(Syn)l(tax)0 5407
y Fi(When)28 b(loading)f(the)h(syn)n(tax)e(extension)i
Fb(pa)p 1402 5407 V 30 w(lexer.cmo)p Fi(,)c(the)k(OCaml)f(syn)n(tax)g
(is)g(extended)h(as)f(follo)n(ws:)1908 5656 y(31)p eop
end
%%Page: 32 34
TeXDict begin 32 33 bop 0 70 a Fi(CHAPTER)27 b(5.)64
b(STREAM)28 b(LEXERS)p 0 103 3900 4 v 436 390 a Fb(expression)39
b(::=)k(lexer)654 490 y(lexer)e(::=)i("lexer")d("[")j(rules)e("]")654
589 y(rules)g(::=)i(rules)e(rule)1002 689 y(|)j(<nothing>)697
789 y(rule)e(::=)h(symbols)d([)k("->")d(action)h(])567
888 y(symbols)e(::=)j(symbols)d(symbol)h(err)1002 988
y(|)j(<nothing>)610 1088 y(symbol)d(::=)i("_")f(no-record-opt)1002
1187 y(|)i(CHAR)e(no-record-opt)1002 1287 y(|)i(CHAR)e("-")g(CHAR)g
(no-record-opt)1002 1386 y(|)i(STRING)d(no-record-opt)1002
1486 y(|)j(simple-expressi)o(on)1002 1586 y(|)g("?=")e("[")g
(lookaheads)d("]")1002 1685 y(|)44 b("[")e(rules)g("]")305
1785 y(no-record-opt)c(::=)43 b("/")1002 1885 y(|)h(<nothing>)131
1984 y(simple-expressio)o(n)37 b(::=)43 b(LIDENT)1002
2084 y(|)h("\(")e(<expression>)d("\)")436 2183 y(lookaheads)g(::=)k
(lookaheads)c("|")j(lookahead-sequenc)o(e)1002 2283 y(|)i
(lookahead-seque)o(nce)87 2383 y(lookahead-sequenc)o(e)37
b(::=)43 b(lookahead-symbo)o(ls)1002 2482 y(|)h(STRING)131
2582 y(lookahead-symbol)o(s)37 b(::=)43 b(lookahead-symbo)o(ls)37
b(lookahead-symbol)1002 2682 y(|)44 b(lookahead-symbo)o(l)174
2781 y(lookahead-symbol)37 b(::=)43 b(CHAR)1002 2881
y(|)h("_")741 2980 y(err)e(::=)h("?")f(simple-expressio)o(n)1002
3080 y(|)i("!")1002 3180 y(|)g(<nothing>)610 3279 y(action)d(::=)i
(expression)0 3439 y Fi(The)27 b(iden)n(ti\014ers)f(")p
Fb(STRING)p Fi(",)d(")p Fb(CHAR)p Fi(")h(and)j(")p Fb(LIDENT)p
Fi(")c(ab)r(o)n(v)n(e)i(represen)n(t)g(the)i(OCaml)f(tok)n(ens)g
(corresp)r(onding)e(to)j(string,)0 3539 y(c)n(haracter)f(and)h(lo)n(w)n
(ercase)e(iden)n(ti\014er)i(\(iden)n(ti\014er)h(starting)f(with)h(a)f
(lo)n(w)n(ercase)e(c)n(haracter\).)0 3738 y(Moreo)n(v)n(er,)g(together)
i(with)h(that)g(syn)n(tax)f(extension,)g(another)g(extension)g(is)g
(added)h(the)g(en)n(try)g Fb(expression)p Fi(,)c(t)n(ypically)0
3838 y(for)j(the)h(seman)n(tics)f(actions)g(of)g(the)h(")p
Fb(lexer)p Fi(")d(statemen)n(t)i(ab)r(o)n(v)n(e,)g(but)h(not)g(only)-7
b(.)36 b(It)28 b(is:)87 3998 y Fb(expression)40 b(::=)i("$")g("add")g
(STRING)654 4097 y(|)h("$")f("buf")654 4197 y(|)h("$")f("empty")654
4297 y(|)h("$")f("pos")0 4457 y Fi(Remark:)h(the)32 b(iden)n(ti\014ers)
f("add",)g("buf",)h("empt)n(y")f(and)g("p)r(os")f(are)h(not)g(k)n(eyw)n
(ords)e(\(they)j(are)e(not)i(reserv)n(ed)d(w)n(ords\))0
4556 y(but)f(just)h(iden)n(ti\014ers.)37 b(On)27 b(the)h(con)n(trary)-7
b(,)26 b(the)i(iden)n(ti\014er)g(")p Fb(lexer)p Fi(",)d(whic)n(h)i(in)n
(tro)r(duces)g(the)h(syn)n(tax,)f(is)h(a)f(new)h(k)n(eyw)n(ord)0
4656 y(and)f(cannot)h(b)r(e)g(used)f(as)g(v)-5 b(ariable)27
b(iden)n(ti\014er)g(an)n(y)g(more.)0 4926 y Fc(5.3)135
b(Seman)l(tics)0 5108 y Fi(A)30 b(lexer)e(de\014ned)i(in)f(the)h(syn)n
(tax)e(ab)r(o)n(v)n(e)g(is)i(a)e(shortcut)h(v)n(ersion)f(of)h(a)g
(parser)f(applied)h(to)g(the)h(sp)r(eci\014c)f(case)g(of)g(streams)0
5208 y(of)e(c)n(haracters.)34 b(It)28 b(could)f(b)r(e)g(written)h(with)
f(a)g(normal)f(parser.)35 b(The)27 b(prop)r(osed)f(syn)n(tax)h(is)g(m)n
(uc)n(h)f(shorter,)g(easier)g(to)h(use)0 5308 y(and)j(to)h(understand,)
g(and)g(silen)n(tly)f(tak)n(es)g(care)f(of)i(the)g(lexing)f(bu\013er)h
(for)f(the)h(programmer.)44 b(The)30 b(lexing)h(bu\013ers)f(are)0
5407 y(data)d(structures,)g(whic)n(h)h(are)e(passed)h(as)g(parameters)f
(to)h(called)g(lexers)g(and)h(returned)f(b)n(y)g(them.)1908
5656 y(32)p eop end
%%Page: 33 35
TeXDict begin 33 34 bop 2600 70 a Fi(CHAPTER)28 b(5.)64
b(STREAM)28 b(LEXERS)p 0 103 3900 4 v 0 490 a(Our)f(lexers)g(are)f(of)i
(the)g(t)n(yp)r(e:)87 643 y Fb(Plexing.Lexbuf.t)37 b(->)43
b(Stream.t)d(char)i(->)h(u)0 796 y Fi(where)34 b(")p
Fb(u)p Fi(")g(is)h(a)f(t)n(yp)r(e)h(whic)n(h)g(dep)r(ends)g(on)g(what)g
(the)g(lexer)f(returns.)58 b(If)36 b(there)e(is)h(no)g(seman)n(tic)f
(action)g(\(since)h(it)h(it)0 896 y(optional\),)27 b(this)h(t)n(yp)r(e)
g(is)f(automatically)g(")p Fb(Plexing.Lexbuf.)o(t)p Fi(")21
b(also.)0 1095 y(A)27 b(lexer)g(is,)g(actually)-7 b(,)26
b(a)h(function)h(with)f(t)n(w)n(o)f(implicit)i(parameters:)35
b(the)28 b(\014rst)e(one)h(is)g(the)g(lexing)g(bu\013er)g(itself,)h
(and)f(the)0 1195 y(second)32 b(one)g(the)h(stream.)50
b(When)33 b(called,)h(it)f(tries)f(to)g(matc)n(h)g(the)h(stream)f
(against)f(its)i(\014rst)f(rule.)51 b(If)33 b(it)g(fails,)h(it)e(tries)
0 1295 y(its)g(second)f(rule,)h(and)f(so)g(on,)i(up)f(to)f(its)h(last)f
(rule.)49 b(If)32 b(the)g(last)f(rule)g(fails,)i(the)f(lexer)e(fails)i
(b)n(y)f(raising)f(the)i(exception)0 1394 y(")p Fb(Stream.Failure)p
Fi(")o(.)f(All)d(of)g(this)g(is)f(the)h(usual)f(b)r(eha)n(viour)g(of)g
(stream)g(parsers.)0 1593 y(In)f(a)g(rule,)g(when)g(a)g(c)n(haracter)e
(is)i(matc)n(hed,)g(it)g(is)g(inserted)g(in)n(to)g(the)g(lexing)g
(bu\013er,)g(except)g(if)h(the)f("no)f(record")f(feature)0
1693 y(is)j(used)h(\(see)g(further\).)0 1892 y(Rules)g(whic)n(h)f(ha)n
(v)n(e)g(no)g(seman)n(tic)g(action)g(return)g(the)h(lexing)f(bu\013er)h
(itself.)0 2120 y Fe(5.3.1)112 b(Sym)m(b)s(ols)0 2273
y Fi(The)28 b(di\013eren)n(t)f(kinds)h(or)f(sym)n(b)r(ols)f(in)i(a)g
(rule)f(are:)125 2426 y Fh(\017)41 b Fi(The)27 b(tok)n(en)g
("underscore",)e(whic)n(h)j(represen)n(ts)e(an)n(y)h(c)n(haracter.)35
b(F)-7 b(ails)27 b(only)g(if)h(the)g(stream)f(is)h(empt)n(y)-7
b(.)125 2581 y Fh(\017)41 b Fi(A)27 b(c)n(haracter)f(whic)n(h)i
(represen)n(ts)e(a)h(matc)n(hing)g(of)g(this)h(c)n(haracter.)125
2735 y Fh(\017)41 b Fi(A)27 b(c)n(haracter)d(follo)n(w)n(ed)i(b)n(y)g
(the)h(min)n(us)g(sign)f(and)g(b)n(y)h(another)e(c)n(haracter)g(whic)n
(h)i(represen)n(t)e(all)h(c)n(haracters)f(in)i(the)208
2835 y(range)f(b)r(et)n(w)n(een)h(the)h(t)n(w)n(o)f(c)n(haracters)e(in)
j(question.)125 2989 y Fh(\017)41 b Fi(A)27 b(string)g(with)i(represen)
n(ts)d(a)h(matc)n(hing)g(of)g(all)h(its)g(c)n(haracters,)d(one)i(after)
g(the)h(other.)125 3143 y Fh(\017)41 b Fi(An)30 b(expression)e(corresp)
r(onding)g(to)h(a)h(call)f(to)h(another)e(lexer,)i(whic)n(h)g(tak)n(es)
e(the)j(bu\013er)e(as)h(\014rst)f(parameter)f(and)208
3243 y(returns)d(another)g(lexing)g(bu\013er)h(with)g(all)g(c)n
(haracters)d(found)j(in)h(the)f(stream)f(added)g(to)h(the)g(initial)g
(lexing)g(bu\013er.)125 3397 y Fh(\017)41 b Fi(The)27
b(sequence)g(")p Fb(?=)p Fi(")f(in)n(tro)r(ducing)h(lo)r(ok)-5
b(ahead)27 b(c)n(haracters.)125 3551 y Fh(\017)41 b Fi(A)27
b(rule,)h(recursiv)n(ely)-7 b(,)26 b(b)r(et)n(w)n(een)h(brac)n(k)n
(ets,)f(inlining)i(a)f(lexer.)0 3705 y(In)33 b(the)g(cases)e(matc)n
(hing)h(c)n(haracters)f(\(namely)h(underscore,)g(c)n(haracter,)g(c)n
(haracters)e(range)i(and)g(string\),)i(the)f(sym)n(b)r(ol)0
3804 y(can)e(b)r(e)g(optionally)f(follo)n(w)n(ed)g(b)n(y)h(the)h("no)e
(record")f(c)n(haracter)g("slash")g(sp)r(ecifying)j(that)f(the)g(found)
h(c)n(haracter\(s\))d(are)0 3904 y(not)i(added)g(in)n(to)g(the)g
(lexing)f(bu\013er.)48 b(By)30 b(default,)j(they)e(are.)46
b(This)31 b(feature)g(is)f(useful,)j(for)d(example,)i(writing)e(a)h
(lexer)0 4004 y(whic)n(h)e(parses)f(strings,)h(when)h(the)g(initial)g
(double)f(quote)g(and)g(\014nal)h(double)f(quote)g(should)g(not)h(b)r
(e)g(part)f(of)g(the)h(string)0 4103 y(itself.)0 4303
y(Moreo)n(v)n(er,)25 b(a)i(sym)n(b)r(ol)g(can)g(b)r(e)h(follo)n(w)n(ed)
f(b)n(y)g(an)h(optional)e(error)g(indicator,)h(whic)n(h)g(can)h(b)r(e:)
125 4456 y Fh(\017)41 b Fi(The)25 b(c)n(haracter)e Fb(?)36
b Fi(\(question)26 b(mark\))e(follo)n(w)n(ed)h(b)n(y)g(a)g(string)g
(expression,)f(telling)i(that,)g(if)g(there)f(is)g(a)h(syn)n(tax)e
(error)208 4555 y(at)31 b(this)g(p)r(oin)n(t)h(\(i.e.)48
b(the)31 b(sym)n(b)r(ol)g(is)g(not)g(matc)n(hed)g(although)g(the)h(b)r
(eginning)f(of)g(the)g(rule)g(w)n(as\),)h(the)f(exception)208
4655 y Fb(Stream.Error)d Fi(is)33 b(raised)g(with)h(that)f(string)g(as)
g(parameter.)52 b(Without)35 b(this)e(indicator,)h(it)g(is)f(raised)g
(with)h(the)208 4755 y(empt)n(y)27 b(string.)36 b(This)28
b(is)f(the)h(same)f(b)r(eha)n(viour)g(than)h(with)g(classical)e(stream)
h(parsers.)125 4909 y Fh(\017)41 b Fi(The)31 b(c)n(haracter)e
Fb(!)48 b Fi(\(exclamation)31 b(mark\),)g(whic)n(h)h(is)f(just)h(an)f
(indicator)f(to)i(let)f(the)h(syn)n(tax)f(expander)f(optimize)208
5009 y(the)i(co)r(de.)49 b(If)32 b(the)g(programmer)d(is)j(sure)f(that)
h(the)g(sym)n(b)r(ol)f(nev)n(er)f(fails)i(\(i.e.)50 b(nev)n(er)30
b(raises)g Fb(Stream.Failure)p Fi(\),)208 5108 y(in)e(particular)e(if)i
(this)g(sym)n(b)r(ol)g(recognizes)e(the)i(empt)n(y)g(rule,)f(he)h(can)f
(add)h(this)g(exclamation)f(mark.)36 b(If)28 b(it)g(is)g(used)208
5208 y(correctly)h(\(the)i(compiler)f(cannot)g(c)n(hec)n(k)g(it\),)j
(the)e(b)r(eha)n(viour)e(is)i(iden)n(tical)f(as)g(without)i(the)f
Fb(!)p Fi(,)g(except)g(that)g(the)208 5308 y(co)r(de)h(is)h(shorter)f
(and)h(faster,)h(and)f(can)f(sometimes)h(b)r(e)g(tail)g(recursiv)n(e.)
52 b(If)33 b(the)h(indication)f(is)g(not)g(correct,)g(the)208
5407 y(b)r(eha)n(viour)26 b(of)h(the)h(lexer)f(is)h(unde\014ned.)1908
5656 y(33)p eop end
%%Page: 34 36
TeXDict begin 34 35 bop 0 70 a Fi(CHAPTER)27 b(5.)64
b(STREAM)28 b(LEXERS)p 0 103 3900 4 v 0 390 a Fe(5.3.2)112
b(Sp)s(eci\014c)39 b(expressions)0 561 y Fi(When)i(loading)e(this)h
(syn)n(tax)f(extension,)k(the)d(en)n(try)g Fb(<expression>)p
Fi(,)f(at)h(lev)n(el)f(lab)r(elled)h("simple")f(of)h(the)h(OCaml)0
661 y(language)26 b(is)h(extended)h(with)g(the)g(follo)n(wing)f(rules:)
125 882 y Fh(\017)41 b Fb($add)34 b Fi(follo)n(w)n(ed)h(b)n(y)h(a)g
(string,)h(sp)r(eci\014ng)f(that)h(the)f(programmer)e(w)n(an)n(ts)h(to)
h(add)g(all)f(c)n(haracters)f(of)i(the)h(string)208 982
y(in)k(the)h(lexing)e(bu\013er.)78 b(It)42 b(returns)e(the)i(new)f
(lexing)g(bu\013er.)77 b(It)42 b(corresp)r(onds)d(to)i(an)g(iteration)g
(of)g(calls)f(to)208 1081 y Fb(Plexing.Lexbuf.)o(add)12
b Fi(with)19 b(all)f(c)n(haracters)e(of)i(the)h(string)f(with)h(the)g
(curren)n(t)e(lexing)h(bu\013er)h(as)f(initial)g(parameter.)125
1286 y Fh(\017)41 b Fb($buf)26 b Fi(whic)n(h)h(returns)g(the)h(lexing)f
(bu\013er)h(con)n(v)n(erted)e(in)n(to)h(string.)125 1491
y Fh(\017)41 b Fb($empty)25 b Fi(whic)n(h)i(returns)g(an)g(empt)n(y)h
(lexing)f(bu\013er.)125 1695 y Fh(\017)41 b Fb($pos)26
b Fi(whic)n(h)h(returns)g(the)h(curren)n(t)f(p)r(osition)g(of)h(the)g
(stream)e(in)i(n)n(um)n(b)r(er)g(of)f(c)n(haracters)f(\(starting)h(at)g
(zero\).)0 1979 y Fe(5.3.3)112 b(Lo)s(ok)-6 b(ahead)0
2150 y Fi(Lo)r(ok)h(ahead)25 b(is)i(useful)g(in)g(some)f(cases,)f(when)
i(factorization)e(of)i(rules)f(is)g(imp)r(ossible.)37
b(T)-7 b(o)26 b(understand)g(ho)n(w)g(it)h(is)g(useful,)0
2249 y(a)g(\014rst)h(remark)e(m)n(ust)h(b)r(e)h(done,)g(ab)r(out)f(the)
h(usual)g(b)r(eha)n(viour)e(of)h(Camlp5)g(stream)g(parsers.)0
2468 y(Stream)20 b(parsers)f(\(including)i(these)g(lexers\))f(use)h(a)f
(limited)h(parsing)f(algorithm,)h(in)g(a)f(w)n(a)n(y)f(that)i(when)g
(the)g(\014rst)g(sym)n(b)r(ol)f(of)0 2568 y(a)j(rule)g(is)g(matc)n
(hed,)h(all)f(the)g(follo)n(wing)f(sym)n(b)r(ols)h(of)g(the)g(same)g
(rule)g(m)n(ust)g(apply)-7 b(,)24 b(otherwise)e(it)i(is)f(a)g(syn)n
(tax)f(error.)34 b(There)0 2667 y(is)d(no)f(bac)n(ktrac)n(k.)44
b(In)30 b(most)h(of)g(the)g(cases,)f(left)h(factorization)e(of)i(rules)
f(resolv)n(e)f(con\015icting)h(problems.)45 b(F)-7 b(or)30
b(example,)0 2767 y(in)h(parsers)e(of)h(tok)n(ens)g(\(whic)n(h)h(is)f
(not)h(our)e(case)h(here,)h(since)f(w)n(e)h(parse)e(only)h(c)n
(haracters\),)f(when)i(one)f(writes)h(a)f(parser)0 2866
y(to)h(recognize)e(b)r(oth)j(t)n(ypical)e(grammar)g(rules)g
("if..then..else")h(and)g(the)g(shorter)f("if..then..",)i(the)g(system)
e(transforms)0 2966 y(them)25 b(in)n(to)f(a)g(single)g(rule)g(starting)
f(with)i("if..then..")g(follo)n(w)n(ed)e(b)n(y)h(a)g(call)g(to)g(a)g
(parser)f(recognizing)g("else..")g(or)g(nothing.)0 3185
y(Sometimes,)k(ho)n(w)n(ev)n(er,)f(this)h(left)h(factorization)e(is)h
(not)g(p)r(ossible.)36 b(A)28 b(lo)r(ok)-5 b(ahead)26
b(of)h(the)h(stream)e(to)h(c)n(hec)n(k)f(the)i(presence)0
3284 y(of)i(some)g(elemen)n(ts)g(\(these)h(elemen)n(ts)f(b)r(eing)g(c)n
(haracters,)f(if)h(w)n(e)g(are)f(using)h(this)h("lexer")d(syn)n(tax\))i
(migh)n(t)g(b)r(e)h(necessary)0 3384 y(to)25 b(decide)g(if)h(is)f(a)g
(go)r(o)r(d)f(idea)h(to)g(start)f(the)i(rule.)36 b(This)25
b(lo)r(ok)-5 b(ahead)24 b(feature)g(ma)n(y)h(unfreeze)g(sev)n(eral)e(c)
n(haracters)g(from)i(the)0 3483 y(input)j(stream)f(but)h(without)g
(remo)n(ving)e(them.)0 3702 y(Syn)n(tactically)-7 b(,)25
b(a)g(lo)r(ok)-5 b(ahead)24 b(starts)g(with)i Fb(?=)e
Fi(and)h(is)g(follo)n(w)n(ed)g(b)n(y)g(one)f(or)h(sev)n(eral)e(lo)r(ok)
-5 b(ahead)24 b(sequences)g(separated)g(b)n(y)0 3802
y(the)k(v)n(ertical)e(bar)h Fb(|)p Fi(,)h(the)g(whole)f(list)h(b)r
(eing)f(enclosed)g(b)n(y)h(braces.)0 4020 y(If)g(there)f(are)g(sev)n
(eral)f(lo)r(ok)-5 b(aheads,)26 b(they)i(m)n(ust)g(all)f(b)r(e)h(of)f
(the)h(same)f(size)h(\(con)n(tain)f(the)h(same)f(n)n(um)n(b)r(er)g(of)h
(c)n(haracters\).)0 4239 y(If)h(the)h(lo)r(ok)-5 b(ahead)27
b(sequence)i(is)f(just)i(a)e(string,)h(it)g(corresp)r(onds)e(to)i(all)f
(c)n(haracters)f(of)i(this)g(string)f(in)h(the)g(order)f(\(whic)n(h)0
4338 y(is)f(di\013eren)n(t)h(for)f(strings)g(outside)g(lo)r(ok)-5
b(ahead)27 b(sequences,)g(represen)n(ting)f(a)h(c)n(hoice)g(of)g(all)h
(c)n(haracters\).)0 4557 y(Examples)f(of)g(lo)r(ok)-5
b(aheads:)87 4788 y Fb(?=)43 b([)g(_)g(''')g(|)g('\\\\')f(_)h(])87
4887 y(?=)g([)g("<<")f(|)h("<:")f(])0 5108 y Fi(The)26
b(\014rst)g(line)g(ab)r(o)n(v)n(e)e(matc)n(hes)i(a)f(stream)g(whose)h
(second)f(c)n(haracter)f(is)i(a)f(quote)h(or)f(a)g(stream)g(whose)h
(\014rst)f(c)n(haracter)f(is)0 5208 y(a)h(bac)n(kslash)g(\(real)g
(example)g(in)h(the)h(lexer)e(of)h(OCaml,)f(in)h(the)h(library)d(of)i
(Camlp5,)g(named)f("plexer.ml"\).)36 b(The)26 b(second)0
5308 y(line)i(matc)n(hes)g(a)g(stream)f(starting)g(with)i(the)f(t)n(w)n
(o)g(c)n(haracters)d Fb(<)j Fi(and)g Fb(<)g Fi(or)f(starting)g(with)i
(the)g(t)n(w)n(o)e(c)n(haracters)f Fb(<)h Fi(and)h Fb(:)0
5407 y Fi(\(this)g(is)g(another)e(example)h(in)h(the)g(same)f
(\014le\).)1908 5656 y(34)p eop end
%%Page: 35 37
TeXDict begin 35 36 bop 2600 70 a Fi(CHAPTER)28 b(5.)64
b(STREAM)28 b(LEXERS)p 0 103 3900 4 v 0 390 a Fe(5.3.4)112
b(Seman)m(tic)39 b(actions)f(of)f(rules)0 543 y Fi(By)30
b(default,)h(the)f(result)g(of)g(a)g("lexer")e(is)i(the)g(curren)n(t)g
(lexing)f(bu\013er,)i(whic)n(h)f(is)g(of)g(t)n(yp)r(e)g(")p
Fb(Plexing.Lexbuf.)o(t)p Fi(".)38 b(But)0 643 y(it)29
b(is)g(p)r(ossible)g(to)g(return)f(other)h(v)-5 b(alues,)29
b(b)n(y)g(adding)f(")p Fb(->)p Fi(")f(at)i(end)h(of)f(rules)f(follo)n
(w)n(ed)g(b)n(y)h(the)g(expression)f(y)n(ou)g(w)n(an)n(t)g(to)0
743 y(return,)f(as)g(in)h(usual)f(pattern)h(matc)n(hing)f(in)h(OCaml.)0
942 y(An)i(in)n(teresting)e(result,)h(for)g(example,)g(could)g(b)r(e)h
(the)f(string)g(corresp)r(onding)e(to)i(the)h(c)n(haracters)c(of)k(the)
f(lexing)g(bu\013er.)0 1042 y(This)f(can)f(b)r(e)h(obtained)f(b)n(y)g
(returning)g(the)h(v)-5 b(alue)28 b(")p Fb($buf)p Fi(".)0
1274 y Fe(5.3.5)112 b(A)37 b(complete)h(example)0 1427
y Fi(A)28 b(complete)f(example)g(can)g(b)r(e)h(seen)f(in)h(the)g
(sources)e(of)h(Camlp5,)g(\014le)h("lib/plexer.ml".)35
b(This)27 b(is)h(the)g(lexer)e(of)i(OCaml,)0 1527 y(either)f("normal")f
(or)h("revised")f(syn)n(tax.)0 1759 y Fe(5.3.6)112 b(Compiling)0
1913 y Fi(T)-7 b(o)27 b(compile)h(a)f(\014le)h(con)n(taining)e(lexers,)
h(just)h(load)f Fb(pa)p 1727 1913 27 4 v 30 w(lexer.cmo)d
Fi(using)k(one)f(of)g(the)h(follo)n(wing)f(metho)r(ds:)125
2095 y Fh(\017)41 b Fi(Either)32 b(b)n(y)g(adding)h Fb(pa)p
959 2095 V 31 w(lexer.cmo)28 b Fi(among)k(the)h(Camlp5)f(options.)51
b(See)32 b(the)h(Camlp5)f(man)n(ual)g(page)g(or)f(do)r(cu-)208
2195 y(men)n(tation.)125 2361 y Fh(\017)41 b Fi(Or)26
b(b)n(y)i(adding)g Fb(#load)41 b("pa)p 1119 2361 V 31
w(lexer.cmo";)23 b Fi(an)n(ywhere)j(in)i(the)g(\014le,)g(b)r(efore)f
(the)h(usages)e(of)i(this)g("lexer")d(syn)n(tax.)0 2593
y Fe(5.3.7)112 b(Ho)m(w)37 b(to)g(displa)m(y)i(the)f(generated)g(co)s
(de)0 2746 y Fi(Y)-7 b(ou)28 b(can)f(see)g(the)h(generated)f(co)r(de,)g
(for)g(a)g(\014le)h("bar.ml")e(con)n(taining)h(lexers,)f(b)n(y)i(t)n
(yping)f(in)h(a)f(command)g(line:)87 2929 y Fb(camlp5r)41
b(pa_lexer.cmo)d(pr_r.cmo)j(bar.ml)0 3112 y Fi(T)-7 b(o)27
b(see)g(the)h(equiv)-5 b(alen)n(t)28 b(co)r(de)f(with)h(stream)f
(parsers,)f(use:)87 3294 y Fb(camlp5r)41 b(pa_lexer.cmo)d(pr_r.cmo)j
(pr_rp.cmo)f(bar.ml)1908 5656 y Fi(35)p eop end
%%Page: 36 38
TeXDict begin 36 37 bop eop end
%%Page: 37 39
TeXDict begin 37 38 bop 0 1015 a Fd(Chapter)65 b(6)0
1431 y Fg(F)-19 b(unctional)77 b(parsers)0 1865 y Fi(Purely)34
b(functional)h(parsers)e(are)g(an)i(alternativ)n(e)e(of)i(stream)f
(parsers)f(where)h(the)i(used)e(stream)g(t)n(yp)r(e)h(is)g(a)f(lazy)h
(non-)0 1964 y(destructiv)n(e)k(t)n(yp)r(e.)75 b(These)40
b(streams)f(are)g(lazy)g(v)-5 b(alues,)43 b(as)d(in)g(classical)f
(stream)g(parsers,)i(but)g(the)f(v)-5 b(alues)40 b(are)f(not)0
2064 y(remo)n(v)n(ed)26 b(as)h(long)g(as)g(the)h(parsing)e(adv)-5
b(ances.)0 2267 y(T)e(o)35 b(mak)n(e)g(them)i(w)n(ork,)f(the)h(parsers)
c(of)j(purely)g(functional)g(streams)e(return,)k(not)e(the)g(simple)g
(v)-5 b(alues,)37 b(but)g(a)e(v)-5 b(alue)0 2366 y(of)29
b(t)n(yp)r(e)h(option)f(:)41 b(")p Fb(None)p Fi(")27
b(meaning)i("no)f(matc)n(h")h(\(the)h(equiv)-5 b(alen)n(t)29
b(of)h(the)f(exception)h(")p Fb(Parse.Failure)p Fi(")23
b(of)29 b(normal)0 2466 y(streams\))e(and)g(")p Fb(Some)42
b(\(r,)g(s\))p Fi(")26 b(meaning)i("the)f(result)g(is)h(r)f(and)g(the)h
(remaining)f(stream)g(is)g(s".)0 2749 y Fc(6.1)135 b(Syn)l(tax)0
2934 y Fi(The)28 b(syn)n(tax)e(of)i(purely)f(functional)h(parsers,)e
(when)h(loading)g("pa)p 2125 2934 25 4 v 29 w(fstream.cmo",)f(is)i(the)
g(follo)n(wing:)436 3126 y Fb(expression)39 b(::=)k(fparser)1002
3225 y(|)h(match-with-fpar)o(ser)567 3325 y(fparser)c(::=)j("fparser")d
(pos-opt)g("[")j(parser-cases)38 b("]")1002 3424 y(|)44
b("fparser")c(pos-opt)g(parser-case)87 3524 y(match-with-fparse)o(r)d
(::=)43 b("match")d(expression)g("with")h(fparser)349
3624 y(parser-cases)d(::=)43 b(parser-cases)38 b(parser-case)1002
3723 y(|)44 b(<nothing>)392 3823 y(parser-case)39 b(::=)k("[:")f
(stream-pattern)37 b(":]")42 b(pos-opt)f("->")h(expression)1002
3923 y(|)i("[:")e(":]")g(pos-opt)e("->")i(expression)262
4022 y(stream-pattern)37 b(::=)43 b(stream-patt-com)o(p)1002
4122 y(|)h(stream-patt-com)o(p)38 b(";")k(stream-pattern)174
4221 y(stream-patt-comp)37 b(::=)43 b("`")f(pattern)1002
4321 y(|)i("`")e(pattern)f("when")g(expression)1002 4421
y(|)j(pattern)c("=")j(expression)1002 4520 y(|)h(pattern)1002
4620 y(|)g("when")d(expression)567 4720 y(pos-opt)f(::=)j(pattern)1002
4819 y(|)h(<nothing>)0 5009 y Fi(Notice)35 b(that,)i(unlik)n(e)e
(classical)e(parsers,)i(there)g(is)f(no)h(di\013erence,)i(in)e(a)f
(stream)h(pattern,)h(b)r(et)n(w)n(een)f(the)g(\014rst)g(stream)0
5108 y(pattern)e(comp)r(onen)n(t)g(and)f(the)i(other)e(ones.)52
b(In)34 b(particular,)f(there)f(is)h(no)g("question)f(mark")g(syn)n
(tax)g(and)h(expression)0 5208 y(optionnally)39 b(ending)h(those)f
(comp)r(onen)n(ts.)73 b(Moreo)n(v)n(er,)41 b(the)f("lo)r(ok)-5
b(ahead")37 b(case)i(is)h(not)g(necessary)-7 b(,)41 b(w)n(e)f(see)f
(further)0 5308 y(wh)n(y)-7 b(.)48 b(The)31 b(syn)n(taxes)g("pattern)f
(when")h(and)h("let..in")f(inside)g(stream)g(patterns)g(w)n(e)g(see)g
(in)g(classical)f(parsers)g(are)g(not)0 5407 y(implemen)n(ted.)1908
5656 y(37)p eop end
%%Page: 38 40
TeXDict begin 38 39 bop 0 70 a Fi(CHAPTER)27 b(6.)64
b(FUNCTIONAL)29 b(P)-7 b(ARSERS)p 0 103 3900 4 v 0 390
a Fc(6.2)135 b(Streams)0 574 y Fi(The)40 b(functional)g(parsers)e(are)h
(functions)i(taking)e(as)h(parameters)e(functional)i(streams,)i(whic)n
(h)e(are)f(v)-5 b(alues)40 b(of)g(t)n(yp)r(e)0 674 y(")p
Fb(Fstream.t)f(a)p Fi(")29 b(for)g(some)g(t)n(yp)r(e)g(")p
Fb(a)p Fi(".)42 b(It)29 b(is)h(p)r(ossible)f(to)g(build)h(functional)g
(streams)e(using)h(the)h(functions)g(de\014ned)g(in)0
774 y(the)e(mo)r(dule)g(")p Fb(Fstream)p Fi(":)0 1012
y Fe(6.2.1)112 b(Fstream.from)0 1168 y Fi(")p Fb(Fstream.from)38
b(f)p Fi(")f(returns)g(a)h(stream)f(built)h(from)g(the)g(function)g(")p
Fb(f)p Fi(".)66 b(T)-7 b(o)38 b(create)f(a)g(new)h(stream)f(elemen)n
(t,)k(the)0 1267 y(function)28 b(")p Fb(f)p Fi(")d(is)i(called)g(with)h
(the)f(curren)n(t)f(stream)h(coun)n(t,)g(starting)f(with)i(zero.)35
b(The)27 b(user)g(function)h(")p Fb(f)p Fi(")d(m)n(ust)j(return)0
1367 y(either)f(")p Fb(Some)42 b(<value>)p Fi(")24 b(for)j(a)g(v)-5
b(alue)28 b(or)f(")p Fb(None)p Fi(")e(to)i(sp)r(ecify)h(the)g(end)g(of)
f(the)h(stream.)0 1606 y Fe(6.2.2)112 b(Fstream.of)p
872 1606 34 4 v 42 w(list)0 1761 y Fi(Return)28 b(a)f(stream)g(built)h
(from)f(the)h(list)g(in)g(the)g(same)f(order.)0 2000
y Fe(6.2.3)112 b(Fstream.of)p 872 2000 V 42 w(string)0
2155 y Fi(Return)28 b(a)f(stream)g(of)g(the)h(c)n(haracters)e(of)h(the)
h(string)f(parameter.)0 2394 y Fe(6.2.4)112 b(Fstream.of)p
872 2394 V 42 w(c)m(hannel)0 2549 y Fi(Return)28 b(a)f(stream)g(of)g
(the)h(c)n(haracters)e(read)g(from)i(the)g(input)g(c)n(hannel)f
(parameter.)0 2830 y Fc(6.3)135 b(Seman)l(tics)46 b(of)f(parsers)0
3031 y Fe(6.3.1)112 b(Fparser)0 3186 y Fi(The)28 b(purely)f(functional)
h(parsers)d(act)j(lik)n(e)f(classical)f(parsers,)g(with)i(a)f(recursiv)
n(e)f(descen)n(t)h(algorithm,)g(except)g(that:)125 3374
y Fh(\017)41 b Fi(If)34 b(the)h(\014rst)f(stream)g(pattern)g(comp)r
(onen)n(t)h(matc)n(hes)f(the)g(b)r(eginning)h(of)f(the)h(stream,)g
(there)g(is)f(no)g(error)f(if)i(the)208 3473 y(follo)n(wing)24
b(stream)h(patterns)g(comp)r(onen)n(ts)g(do)g(not)g(matc)n(h:)36
b(the)26 b(con)n(trol)e(simply)i(passes)e(to)h(the)h(next)g(parser)e
(case)208 3573 y(with)k(the)g(initial)f(stream.)125 3744
y Fh(\017)41 b Fi(If)25 b(the)f(seman)n(tic)g(actions)g(are)g(of)g(t)n
(yp)r(e)h(")p Fb(t)p Fi(",)f(the)h(result)f(of)h(the)f(parser)f(is)i
(of)f(t)n(yp)r(e)h(")p Fb(option)41 b(\(t)h(*)i(Fstream.t\))p
Fi(",)208 3844 y(not)32 b(just)h(")p Fb(t)p Fi(")f(lik)n(e)g(in)h
(classical)e(parsers.)50 b(If)33 b(a)g(stream)f(pattern)g(matc)n(hes,)h
(the)h(seman)n(tic)e(action)g(is)g(ev)-5 b(aluated,)208
3943 y(giving)21 b(some)g(result)h(")p Fb(e)p Fi(")f(and)h(the)h
(result)f(of)g(the)g(parser)f(is)h(")p Fb(Some)41 b(\(e,)i(strm\))p
Fi(")19 b(where)j(")p Fb(strm)p Fi(")d(is)j(the)h(remaining)208
4043 y(stream.)125 4214 y Fh(\017)41 b Fi(If)28 b(no)f(parser)f(case)h
(matc)n(hes,)g(the)h(result)f(of)h(the)g(parser)e(is)h(")p
Fb(None)p Fi(".)0 4452 y Fe(6.3.2)112 b(Error)37 b(p)s(osition)0
4608 y Fi(A)30 b(di\016cult)n(y)-7 b(,)31 b(with)f(purely)f(functional)
h(parsers,)f(is)h(ho)n(w)f(to)g(\014nd)h(the)h(p)r(osition)e(of)h(the)g
(syn)n(tax)f(error,)f(when)i(the)g(input)0 4707 y(is)d(wrong.)35
b(Since)27 b(the)g(system)g(tries)f(all)g(parsers)f(cases)h(b)r(efore)g
(returning)g(")p Fb(None)p Fi(",)f(and)h(that)h(the)g(initial)g(stream)
f(is)h(not)0 4807 y(a\013ected,)34 b(it)g(is)e(not)h(p)r(ossible)g(to)f
(directly)h(\014nd)g(where)f(the)i(error)d(happ)r(ened.)52
b(This)33 b(is)g(a)f(problem)h(for)f(parsing)f(using)0
4907 y(bac)n(ktrac)n(king)25 b(\(here,)j(it)g(is)f(limited)h(bac)n
(ktrac)n(king,)e(but)i(the)g(problem)f(is)g(the)h(same\).)0
5108 y(The)f(solution)f(is)h(to)g(use)g(the)g(function)h(")p
Fb(Fstream.count)p 1896 5108 27 4 v 25 w(unfrozen)p Fi(")c(applied)i
(to)h(the)h(initial)f(stream.)36 b(Lik)n(e)26 b(its)h(name)0
5208 y(sa)n(ys,)e(it)i(returns)e(the)i(n)n(um)n(b)r(er)e(of)i(unfrozen)
e(elemen)n(ts)h(of)g(the)h(stream,)f(whic)n(h)g(is)g(exactly)f(the)i
(longest)e(matc)n(h)h(found.)37 b(If)0 5308 y(the)24
b(input)h(is)e(a)h(stream)f(of)h(c)n(haracters,)e(the)i(return)f(of)h
(this)g(function)g(is)g(exactly)f(the)h(p)r(osition)g(in)g(n)n(um)n(b)r
(er)g(of)f(c)n(haracters)0 5407 y(from)k(the)h(b)r(eginning)g(of)f(the)
h(stream.)1908 5656 y(38)p eop end
%%Page: 39 41
TeXDict begin 39 40 bop 2344 70 a Fi(CHAPTER)28 b(6.)64
b(FUNCTIONAL)28 b(P)-7 b(ARSERS)p 0 103 3900 4 v 0 490
a(Ho)n(w)n(ev)n(er,)27 b(it)i(is)f(not)h(p)r(ossible)f(to)g(kno)n(w)g
(directly)g(whic)n(h)h(rule)f(failed)h(and)f(therefore)g(it)g(is)h(not)
f(p)r(ossible,)h(as)f(in)g(classical)0 589 y(parsers,)j(to)g(sp)r
(ecify)g(and)h(get)f(clear)f(error)g(messages.)46 b(F)-7
b(uture)32 b(v)n(ersions)d(of)j(purely)f(functional)g(parsers)f(ma)n(y)
g(prop)r(ose)0 689 y(solutions)d(to)g(resolv)n(e)f(this)i(problem.)0
888 y(Notice)36 b(that,)h(if)f(using)g(the)g(")p Fb(count)p
1209 888 27 4 v 28 w(unfrozen)p Fi(")c(metho)r(d,)38
b(it)e(is)g(not)f(p)r(ossible)g(to)h(reuse)f(that)g(same)g(stream)g(to)
g(call)0 988 y(another)30 b(parser,)g(and)g(hop)r(e)h(to)g(get)f(the)h
(righ)n(t)f(p)r(osition)h(of)g(the)g(error,)f(if)h(another)f(error)e
(happ)r(ens,)k(since)f(it)g(ma)n(y)f(test)0 1088 y(less)d(terminals)g
(than)h(the)g(\014rst)f(parser.)36 b(Use)27 b(a)g(fresh)h(stream)e(in)i
(this)g(case,)f(if)h(p)r(ossible.)1908 5656 y(39)p eop
end
%%Page: 40 42
TeXDict begin 40 41 bop eop end
%%Page: 41 43
TeXDict begin 41 42 bop 0 1039 a Fd(Chapter)65 b(7)0
1480 y Fg(Bac)-6 b(ktrac)g(king)77 b(parsers)0 1938 y
Fi(Bac)n(ktrac)n(king)25 b(parsers)h(are)g(a)h(second)g(alternativ)n(e)
g(of)g(stream)g(parsers)f(and)h(functional)h(parsers.)0
2189 y(Bac)n(ktrac)n(king)21 b(parsers)h(are)h(close)h(to)g(functional)
g(parsers:)33 b(they)24 b(use)g(the)g(same)g(stream)f(t)n(yp)r(e,)i(")p
Fb(Fstream.t)p Fi(",)20 b(and)k(their)0 2289 y(syn)n(tax)j(is)g(almost)
g(iden)n(tical,)h(its)f(in)n(tro)r(ducing)g(k)n(eyw)n(ord)f(b)r(eing)i
(")p Fb(bparser)p Fi(")c(instead)j(of)h(")p Fb(fparser)p
Fi(".)0 2540 y(The)i(di\013erence)g(is)g(that)g(they)g(are)f(implemen)n
(ted)i(with)g Fa(ful)t(l)h(b)l(acktr)l(acking)39 b Fi(and)30
b(that)g(they)g(return)g(v)-5 b(alues)29 b(of)h(the)h(t)n(yp)r(e)0
2640 y(")p Fb(option)p Fi(")24 b(of)k(the)g(triplet:)37
b(1/)27 b(v)-5 b(alue,)27 b(2/)g(remaining)g(stream)f(and)i(3/)e(con)n
(tin)n(uation.)0 3052 y Fc(7.1)135 b(Syn)l(tax)0 3283
y Fi(The)33 b(syn)n(tax)g(of)g(bac)n(ktrac)n(king)e(parsers)h(is)h
(added)h(together)e(with)i(the)g(syn)n(tax)e(of)i(functional)f
(parsers,)g(when)h(the)g(kit)0 3382 y("pa)p 135 3382
25 4 v 29 w(fstream.cmo")26 b(is)i(loaded.)36 b(It)28
b(is:)436 3695 y Fb(expression)39 b(::=)k(bparser)1002
3795 y(|)h(match-with-bpar)o(ser)567 3894 y(bparser)c(::=)j("bparser")d
(pos-opt)g("[")j(parser-cases)38 b("]")1002 3994 y(|)44
b("bparser")c(pos-opt)g(parser-case)87 4094 y(match-with-bparse)o(r)d
(::=)43 b("match")d(expression)g("with")h(bparser)349
4193 y(parser-cases)d(::=)43 b(parser-cases)38 b(parser-case)1002
4293 y(|)44 b(<nothing>)392 4392 y(parser-case)39 b(::=)k("[:")f
(stream-pattern)37 b(":]")42 b(pos-opt)f("->")h(expression)1002
4492 y(|)i("[:")e(":]")g(pos-opt)e("->")i(expression)262
4592 y(stream-pattern)37 b(::=)43 b(stream-patt-com)o(p)1002
4691 y(|)h(stream-patt-com)o(p)38 b(";")k(stream-pattern)174
4791 y(stream-patt-comp)37 b(::=)43 b("`")f(pattern)1002
4891 y(|)i("`")e(pattern)f("when")g(expression)1002 4990
y(|)j(pattern)c("=")j(expression)1002 5090 y(|)h(pattern)1002
5189 y(|)g("when")d(expression)567 5289 y(pos-opt)f(::=)j(pattern)1002
5389 y(|)h(<nothing>)1908 5656 y Fi(41)p eop end
%%Page: 42 44
TeXDict begin 42 43 bop 0 70 a Fi(CHAPTER)27 b(7.)64
b(BA)n(CKTRA)n(CKING)27 b(P)-7 b(ARSERS)p 0 103 3900
4 v 0 390 a Fc(7.2)135 b(Seman)l(tics)0 610 y Fe(7.2.1)112
b(Algorithm)0 785 y Fi(The)35 b(bac)n(ktrac)n(king)d(parsers,)j(lik)n
(e)f(classical)g(parsers)e(and)j(functional)g(parsers,)g(use)f(a)h
(recursiv)n(e)e(descen)n(t)h(algorithm.)0 885 y(But:)125
1114 y Fh(\017)41 b Fi(If)32 b(a)f(stream)f(pattern)i(comp)r(onen)n(t)f
(do)r(es)g(not)h(matc)n(h)f(the)h(curren)n(t)f(p)r(osition)g(of)g(the)h
(input)h(stream,)e(the)h(con)n(trol)208 1214 y(is)f(giv)n(en)g(to)h
(the)g(next)g(case)e(of)i(the)g(stream)f(pattern)h(comp)r(onen)n(t)f(b)
r(efore)g(it.)50 b(If)32 b(it)g(is)g(the)g(\014rst)f(stream)g(pattern)
208 1313 y(comp)r(onen)n(t,)c(the)h(rule)f(\(the)h(stream)f(pattern\))h
(is)f(left)i(and)e(the)h(next)g(rule)f(is)h(tested.)0
1543 y(F)-7 b(or)27 b(example,)g(the)h(follo)n(wing)f(grammar:)131
1784 y Fb(E)43 b(->)g(X)g(Y)131 1883 y(X)g(->)g(a)g(b)g(|)g(a)131
1983 y(Y)g(->)g(b)0 2212 y Fi(w)n(orks,)26 b(with)i(the)g(bac)n(ktrac)n
(king)d(algorithm,)i(for)g(the)h(input)g(")p Fb(a)43
b(b)p Fi(".)0 2435 y(P)n(arsing)32 b(with)i(the)g(non-terminal)f(")p
Fb(E)p Fi(",)h(the)g(non-terminal)f(")p Fb(X)p Fi(")f(\014rst)i
(accepts)f(the)h(input)h(")p Fb(a)43 b(b)p Fi(")33 b(with)h(its)g
(\014rst)f(rule.)0 2534 y(Then)28 b(when)g(")p Fb(Y)p
Fi(")e(is)h(called,)h(the)g(parsing)e(fails)h(since)h(nothing)f
(remains)g(in)h(the)g(input)g(stream.)0 2757 y(In)j(the)f(rule)g(")p
Fb(X)43 b(Y)p Fi(")29 b(of)i(the)f(non-terminal)g(")p
Fb(E)p Fi(",)g(the)g(non-terminal)g(")p Fb(Y)p Fi(")f(ha)n(ving)g
(failed,)i(the)g(con)n(trol)e(is)h(giv)n(en)g(the)h(the)0
2857 y(con)n(tin)n(uation)c(of)g(the)h(non-terminal)f(")p
Fb(X)p Fi(".)36 b(This)27 b(con)n(tin)n(uation)g(is)h(its)f(second)g
(rule)h(con)n(taining)e(only)h(")p Fb(a)p Fi(".)36 b(Then)28
b(")p Fb(Y)p Fi(")e(is)0 2956 y(called)h(and)h(accepted.)0
3179 y(This)20 b(case)f(do)r(es)g(not)h(w)n(ork)e(with)i(functional)g
(parsers)e(since)i(when)f(the)i(rule)e(")p Fb(a)43 b(b)p
Fi(")19 b(of)g(the)h(non-terminal)f(")p Fb(X)p Fi(")g(is)g(accepted,)0
3279 y(it)28 b(is)g(de\014nitiv)n(e.)37 b(If)28 b(the)g(input)g(starts)
f(with)h(")p Fb(a)43 b(b)p Fi(",)26 b(there)i(is)f(no)h(w)n(a)n(y)e(to)
h(apply)h(its)f(second)g(rule.)0 3501 y(Bac)n(ktrac)n(king)e(parsers)h
(are)g(strictly)i(more)e(p)r(o)n(w)n(erful)h(than)h(functional)g
(parsers.)0 3795 y Fe(7.2.2)112 b(T)m(yp)s(e)0 3970 y
Fi(A)24 b(bac)n(ktrac)n(king)e(parser)g(whose)i(stream)f(elemen)n(ts)h
(are)f(of)h(t)n(yp)r(e)g(")p Fb(t1)p Fi(",)f(and)h(whose)g(seman)n(tic)
f(actions)g(are)g(of)h(some)g(t)n(yp)r(e)0 4070 y(")p
Fb(t2)p Fi(",)i(is)h(of)h(t)n(yp)r(e:)131 4311 y Fb(Fstream.t)40
b(t1)i(->)h(option)e(\(t)i(*)g(Fstream.t)d(t1)j(*)g(Fstream.kont)c(t1)j
(t2\))0 4540 y Fi(If)28 b(the)g(bac)n(ktrac)n(king)d(parsers)h(fails,)h
(its)h(returning)f(v)-5 b(alue)27 b(is)h(")p Fb(None)p
Fi(".)0 4763 y(If)35 b(it)g(succeeds,)i(its)e(returning)f(v)-5
b(alue)34 b(is)h(")p Fb(Some)41 b(\(x,)i(strm,)e(k\))p
Fi(")34 b(where)g(")p Fb(x)p Fi(")g(is)g(its)h(result,)i(")p
Fb(strm)p Fi(")32 b(the)j(remaining)0 4862 y(stream,)27
b(and)g(")p Fb(k)p Fi(")g(the)h(con)n(tin)n(uation.)0
5085 y(The)i(con)n(tin)n(uation)f(is)h(in)n(ternally)f(used)h(in)g(the)
h(bac)n(ktrac)n(king)c(algorithm,)j(but)g(is)g(can)g(also)f(b)r(e)h
(used)g(in)g(the)h(main)e(call)0 5185 y(to)e(compute)h(the)g(next)g
(solution,)f(using)g(the)h(function)h(")p Fb(Fstream.bconti)o(nu)o(e)p
Fi(")o(.)0 5407 y(It)f(is)f(also)g(p)r(ossible)g(to)h(directly)f(get)g
(the)h(list)g(of)g(all)f(solutions)g(b)n(y)g(calling)g(the)h(function)g
(")p Fb(Fstream.bparse)p 3542 5407 27 4 v 25 w(all)p
Fi(".)1908 5656 y(42)p eop end
%%Page: 43 45
TeXDict begin 43 44 bop 2208 70 a Fi(CHAPTER)27 b(7.)64
b(BA)n(CKTRA)n(CKING)27 b(P)-7 b(ARSERS)p 0 103 3900
4 v 0 390 a Fe(7.2.3)112 b(Syn)m(tax)39 b(errors)0 543
y Fi(Lik)n(e)33 b(for)f(functional)h(parsers,)g(in)h(case)e(of)h(syn)n
(tax)f(error,)h(the)g(error)f(p)r(osition)h(can)f(b)r(e)i(found)f(b)n
(y)g(using)g(the)h(function)0 643 y(")p Fb(Fstream.count)p
619 643 27 4 v 26 w(unfrozen)p Fi(",)23 b(the)28 b(tok)n(en)f(in)h
(error)e(b)r(eing)i(the)g(last)f(unfrozen)g(elemen)n(t)h(of)f(the)h
(stream.)0 842 y(A)f(syn)n(tax)e(error)f(is)j(not)f(really)f(an)h
(error:)35 b(for)25 b(the)i(bac)n(ktrac)n(king)d(parsers,)h(lik)n(e)h
(for)g(functional)g(parsers,)f(it)i(is)f(view)n(ed)g(as)0
942 y(a)h("non-w)n(orking")e(case)h(and)i(another)e(solution)h(is)h
(searc)n(hed.<p>)0 1042 y(In)c(the)h(bac)n(ktrac)n(king)d(algorithm,)h
(dep)r(ending)i(on)f(the)g(grammar)e(and)i(the)h(input,)h(the)e(searc)n
(h)f(of)h(the)g(next)h(solution)e(can)0 1141 y(b)r(e)i(v)n(ery)f(long.)
35 b(A)25 b(solution)f(is)h(prop)r(osed)f(for)g(that)h(in)g(the)g
(extensible)g(grammars)d(system)j(when)g(the)g(parsing)e(algorithm)0
1241 y(is)k(set)h(to)g("bac)n(ktrac)n(king".)0 1515 y
Fc(7.3)135 b(Example)0 1697 y Fi(Here)22 b(is)g(an)g(example)g(whic)n
(h)g(just)h(sho)n(ws)e(the)i(bac)n(ktrac)n(king)c(algorithm)j(but)g
(without)h(parsing,)f(an)g(empt)n(y)g(stream)g(b)r(eing)0
1797 y(giv)n(en)27 b(as)g(parameter)f(and)h(nev)n(er)g(referred.<p>)0
1896 y(It)h(creates)e(a)i(list)f(of)h(three)f(strings,)g(eac)n(h)g(of)g
(them)i(b)r(eing)e(c)n(ho)r(osen)g(b)r(et)n(w)n(een)g
Fb("A")p Fi(,)g Fb("B")f Fi(and)i Fb("C")p Fi(.)0 2096
y(The)g(co)r(de)f(is:)87 2278 y Fb(#load)42 b("pa_fstream.cmo)o(";)87
2378 y(value)g(choice)f(=)i(bparser)e([)i([:)g(:])f(->)h("A")f(|)i([:)e
(:])h(->)g("B")f(|)h([:)g(:])g(->)g("C")f(];)87 2478
y(value)g(combine)e(=)k(bparser)c([:)j(x)g(=)g(choice;)e(y)i(=)g
(choice;)e(z)i(=)g(choice)f(:])g(->)h([x;)f(y;)h(z];)0
2660 y Fi(The)28 b(function)g("com)n(bine")e(returns)h(the)h(\014rst)f
(solution:)87 2843 y Fb(#)43 b(combine)e(\(fstream)f([:)j(:]\);)87
2943 y(-)g(:)h(option)d(\(list)g(string)g(*)i(Fstream.t)d('_a)j(*)g
(Fstream.kont)38 b('_a)43 b(\(list)e(string\)\))g(=)87
3042 y(Some)h(\(["A";)f("A";)h("A"],)g(<abstr>,)e(Fstream.K)g(<fun>\))0
3225 y Fi(The)27 b(function)g("Fstream.bparse)p 1101
3225 25 4 v 28 w(all")f(returns)g(the)h(list)h(of)e(all)h(solutions,)f
(sho)n(wing)g(the)h(in)n(terest)f(of)h(the)g(bac)n(ktrac)n(king:)87
3407 y Fb(#)43 b(Fstream.bparse_al)o(l)37 b(combine)k(\(fstream)f([:)j
(:]\);)87 3507 y(-)g(:)h(list)d(\(list)h(string\))f(=)87
3607 y([["A";)g("A";)h("A"];)g(["A";)f("A";)h("B"];)g(["A";)f("A";)h
("C"];)g(["A";)f("B";)h("A"];)131 3706 y(["A";)f("B";)h("B"];)g(["A";)f
("B";)h("C"];)g(["A";)f("C";)h("A"];)g(["A";)f("C";)h("B"];)131
3806 y(["A";)f("C";)h("C"];)g(["B";)f("A";)h("A"];)g(["B";)f("A";)h
("B"];)g(["B";)f("A";)h("C"];)131 3906 y(["B";)f("B";)h("A"];)g(["B";)f
("B";)h("B"];)g(["B";)f("B";)h("C"];)g(["B";)f("C";)h("A"];)131
4005 y(["B";)f("C";)h("B"];)g(["B";)f("C";)h("C"];)g(["C";)f("A";)h
("A"];)g(["C";)f("A";)h("B"];)131 4105 y(["C";)f("A";)h("C"];)g(["C";)f
("B";)h("A"];)g(["C";)f("B";)h("B"];)g(["C";)f("B";)h("C"];)131
4204 y(["C";)f("C";)h("A"];)g(["C";)f("C";)h("B"];)g(["C";)f("C";)h
("C"]])1908 5656 y Fi(43)p eop end
%%Page: 44 46
TeXDict begin 44 45 bop eop end
%%Page: 45 47
TeXDict begin 45 46 bop 0 1013 a Fd(Chapter)65 b(8)0
1428 y Fg(Extensible)76 b(grammars)0 1860 y Fi(This)28
b(c)n(hapter)e(describ)r(es)h(the)h(syn)n(tax)f(and)g(seman)n(tics)g
(of)h(the)g(extensible)f(grammars)f(of)h(Camlp5.)0 2059
y(The)21 b(extensible)g(grammars)e(are)h(the)i(most)f(adv)-5
b(anced)20 b(parsing)g(to)r(ol)h(of)g(Camlp5.)34 b(They)21
b(apply)g(to)g(streams)f(of)h(c)n(haracters)0 2159 y(using)29
b(a)f(lexer)g(whic)n(h)h(has)g(to)f(b)r(e)i(previously)d(de\014ned)j(b)
n(y)e(the)i(programmer.)38 b(In)29 b(Camlp5,)g(the)g(syn)n(tax)f(of)h
(the)h(OCaml)0 2258 y(language)c(is)i(de\014ned)h(with)f(extensible)h
(grammars,)d(whic)n(h)i(mak)n(es)f(Camlp5)g(a)h(b)r(o)r(otstrapp)r(ed)g
(system)f(\(it)i(compiles)f(its)0 2358 y(o)n(wn)f(features)g(b)n(y)g
(itself)6 b(\).)0 2627 y Fc(8.1)135 b(Getting)46 b(started)0
2809 y Fi(The)34 b(extensible)h(grammars)d(are)i(a)g(system)g(to)g
(build)h Fa(gr)l(ammar)i(entries)k Fi(whic)n(h)34 b(can)g(b)r(e)h
(extended)g(dynamically)-7 b(.)57 b(A)0 2908 y(grammar)28
b(en)n(try)h(is)g(an)h(abstract)e(v)-5 b(alue)30 b(in)n(ternally)f(con)
n(taining)f(a)i(stream)f(parser.)41 b(The)30 b(t)n(yp)r(e)g(of)f(a)g
(grammar)f(en)n(try)h(is)0 3008 y Fb("Grammar.Entry.e)37
b(t")27 b Fi(where)g Fb("t")f Fi(is)i(the)g(t)n(yp)r(e)g(of)f(the)h(v)
-5 b(alues)27 b(returned)h(b)n(y)f(the)h(grammar)d(en)n(try)-7
b(.)0 3207 y(T)g(o)28 b(start)g(with)i(extensible)e(grammars,)f(it)i
(is)g(necessary)e(to)h(build)i(a)e Fa(gr)l(ammar)p Fi(,)i(a)e(v)-5
b(alue)28 b(of)h(t)n(yp)r(e)g(")p Fb(Grammar.g)p Fi(",)24
b(using)0 3307 y(the)k(function)g(")p Fb(Grammar.gcreate)o
Fi(":)87 3457 y Fb(value)42 b(g)h(=)g(Grammar.gcreate)37
b(lexer;)0 3607 y Fi(where)29 b(")p Fb(lexer)p Fi(")e(is)i(a)h(lexer)f
(previously)f(de\014ned.)44 b(See)29 b(the)h(section)g(explaining)f
(the)h(in)n(terface)f(with)h(lexers.)42 b(In)30 b(a)f(\014rst)0
3707 y(time,)f(it)g(is)g(p)r(ossible)f(to)g(use)h(a)f(lexer)g(of)g(the)
h(mo)r(dule)g(")p Fb(Plexer)p Fi(")d(pro)n(vided)h(b)n(y)h(Camlp5:)87
3857 y Fb(value)42 b(g)h(=)g(Grammar.gcreate)37 b(\(Plexer.gmake)i
(\(\)\);)0 4007 y Fi(Eac)n(h)31 b(grammar)g(en)n(try)h(is)h(asso)r
(ciated)e(with)i(a)g(grammar.)50 b(Only)32 b(grammar)f(en)n(tries)h(of)
g(the)h(same)f(grammar)f(can)h(call)0 4107 y(eac)n(h)f(other.)48
b(T)-7 b(o)31 b(create)g(a)g(grammar)f(en)n(try)-7 b(,)32
b(one)f(has)g(to)h(use)f(the)h(function)g(")p Fb(Grammar.Entry.cr)o
(eat)o(e)p Fi(")25 b(with)32 b(tak)n(es)0 4207 y(the)24
b(grammar)e(as)h(\014rst)h(parameter)e(and)i(a)f(name)h(as)f(second)g
(parameter.)34 b(This)24 b(name)g(is)g(used)f(in)i(case)e(of)g(syn)n
(tax)g(errors.)0 4306 y(F)-7 b(or)27 b(example:)87 4457
y Fb(value)42 b(exp)g(=)h(Grammar.Entry.cre)o(at)o(e)38
b(g)43 b("expression";)0 4607 y Fi(T)-7 b(o)33 b(apply)h(a)f(grammar)f
(en)n(try)-7 b(,)35 b(the)f(function)h(")p Fb(Grammar.Entry.p)o(ar)o
(se)o Fi(")28 b(can)33 b(b)r(e)i(used.)55 b(Its)34 b(\014rst)g
(parameter)e(is)i(the)0 4706 y(grammar)26 b(en)n(try)-7
b(,)27 b(the)h(second)f(one)g(a)g(stream)g(of)g(c)n(haracters:)87
4857 y Fb(Grammar.Entry.par)o(se)37 b(exp)42 b(\(Stream.of_string)37
b("hello"\);)0 5007 y Fi(But)25 b(if)h(y)n(ou)f(exp)r(erimen)n(t)g
(this,)h(since)f(the)g(en)n(try)g(w)n(as)f(just)i(created)e(without)i
(an)n(y)e(rules,)h(y)n(ou)f(receiv)n(e)g(an)h(error)e(message:)87
5157 y Fb(Stream.Error)39 b("entry)i([expression])e(is)j(empty")0
5308 y Fi(T)-7 b(o)22 b(add)h(grammar)d(rules)i(to)h(the)g(grammar)d
(en)n(try)-7 b(,)23 b(it)g(is)g(necessary)e(to)h Fa(extend)31
b Fi(it,)24 b(using)e(a)g(sp)r(eci\014c)h(syn)n(tactic)f(statemen)n(t:)
0 5407 y(")p Fb(EXTEND)p Fi(".)1908 5656 y(45)p eop end
%%Page: 46 48
TeXDict begin 46 47 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Fc(8.2)135
b(Syn)l(tax)46 b(of)f(the)g(EXTEND)g(statemen)l(t)0 572
y Fi(The)28 b(")p Fb(EXTEND)p Fi(")d(statemen)n(t)j(is)g(added)g(in)h
(the)f(expressions)f(of)h(the)h(OCaml)e(language)g(when)h(the)h(syn)n
(tax)e(extension)h(kit)0 672 y(")p Fb(pa)p 135 672 27
4 v 30 w(extend.cmo)p Fi(")23 b(is)28 b(loaded.)36 b(Its)27
b(syn)n(tax)g(is:)174 824 y Fb(expression)40 b(::=)i(extend)349
924 y(extend)f(::=)h("EXTEND")e(extend-body)f("END")131
1024 y(extend-body)g(::=)j(global-opt)e(entries)174 1123
y(global-opt)g(::=)i("GLOBAL")e(":")j(entry-names)c(";")741
1223 y(|)k(<nothing>)131 1322 y(entry-names)c(::=)j(entry-name)e
(entry-names)741 1422 y(|)j(entry-name)392 1522 y(entry)f(::=)g
(entry-name)e(":")i(position-opt)d("[")j(levels)f("]")87
1621 y(position-opt)e(::=)j("FIRST")741 1721 y(|)h("LAST")741
1821 y(|)g("BEFORE")d(label)741 1920 y(|)j("AFTER")e(label)741
2020 y(|)i("LIKE")e(string)741 2120 y(|)i("LEVEL")e(label)741
2219 y(|)i(<nothing>)349 2319 y(levels)e(::=)h(level)g("|")g(levels)741
2418 y(|)h(level)392 2518 y(level)f(::=)g(label-opt)e(assoc-opt)g("[")i
(rules)g("]")218 2618 y(label-opt)e(::=)i(label)741 2717
y(|)h(<nothing>)218 2817 y(assoc-opt)d(::=)i("LEFTA")741
2917 y(|)h("RIGHTA")741 3016 y(|)g("NONA")741 3116 y(|)g(<nothing>)392
3215 y(rules)f(::=)g(rule)g("|")g(rules)741 3315 y(|)h(rule)436
3415 y(rule)f(::=)g(psymbols-opt)d("->")j(expression)741
3514 y(|)h(psymbols-opt)87 3614 y(psymbols-opt)c(::=)j(psymbols)741
3714 y(|)h(<nothing>)262 3813 y(psymbols)d(::=)i(psymbol)f(";")h
(psymbols)741 3913 y(|)h(psymbol)305 4012 y(psymbol)e(::=)h(symbol)741
4112 y(|)h(pattern)e("=")h(symbol)349 4212 y(symbol)f(::=)h(keyword)741
4311 y(|)h(token)741 4411 y(|)g(token)f(string)741 4511
y(|)h(entry-name)741 4610 y(|)g(entry-name)d("LEVEL")g(label)741
4710 y(|)j("SELF")741 4809 y(|)g("NEXT")741 4909 y(|)g("LIST0")e
(symbol)741 5009 y(|)i("LIST0")e(symbol)g("SEP")g(symbol)741
5108 y(|)i("LIST1")e(symbol)741 5208 y(|)i("LIST1")e(symbol)g("SEP")g
(symbol)741 5308 y(|)i("OPT")f(symbol)741 5407 y(|)h("FLAG")e(symbol)
1908 5656 y Fi(46)p eop end
%%Page: 47 49
TeXDict begin 47 48 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 741 390 a
Fb(|)43 b("V")f(symbol)g(opt-strings)741 490 y(|)h("[")f(rules)g("]")
741 589 y(|)h("\(")f(symbol)g("\)")131 689 y(opt-strings)d(::=)j
(string)f(opt-strings)741 789 y(|)i(<nothing>)305 888
y(keyword)e(::=)h(string)392 988 y(token)g(::=)g(uident)392
1088 y(label)g(::=)g(string)174 1187 y(entry-name)e(::=)i(qualid)349
1287 y(qualid)f(::=)h(qualid)f(".")i(qualid)741 1386
y(|)g(uident)741 1486 y(|)g(lident)349 1586 y(uident)e(::=)h('A'-'Z')f
(ident)349 1685 y(lident)g(::=)h(\('a'-'z')e(|)k('_')e(|)h(utf8-byte\))
d(ident)392 1785 y(ident)i(::=)g(ident-char*)174 1885
y(ident-char)e(::=)i(\('a'-'a')e(|)k('A'-'Z')c(|)j('0'-'9')e(|)i('_')g
(|)g(''')f(|)h(utf8-byte\))218 1984 y(utf8-byte)d(::=)i
('\\128'-'\\255')0 2177 y Fi(Other)28 b(statemen)n(ts,)g(")p
Fb(GEXTEND)p Fi(",)d(")p Fb(DELETE)p 1434 2177 27 4 v
29 w(RULE)p Fi(",)h(")p Fb(GDELETE)p 2080 2177 V 28 w(RULE)p
Fi(")h(are)g(also)g(de\014ned)i(b)n(y)f(the)h(same)f(syn)n(tax)f
(exten-)0 2276 y(sion)g(kit.)37 b(See)28 b(further.)0
2480 y(In)e(the)f(description)g(ab)r(o)n(v)n(e,)f(only)h(")p
Fb(EXTEND)p Fi(")d(and)j(")p Fb(END)p Fi(")f(are)g(new)h(k)n(eyw)n
(ords)f(\(reserv)n(ed)f(w)n(ords)h(whic)n(h)i(cannot)e(b)r(e)i(used)0
2580 y(in)g(v)-5 b(ariables,)25 b(constructors)e(or)i(mo)r(dule)h
(names\).)36 b(The)26 b(other)f(strings)f(\(e.g.)36 b(")p
Fb(GLOBAL)p Fi(",)23 b(")p Fb(LEVEL)p Fi(",)g(")p Fb(LIST0)p
Fi(",)g(")p Fb(LEFTA)p Fi(",)0 2680 y(etc.\))37 b(are)27
b(not)h(reserv)n(ed.)0 2967 y Fc(8.3)135 b(Seman)l(tics)46
b(of)f(the)h(EXTEND)e(statemen)l(t)0 3153 y Fi(The)28
b(EXTEND)f(statemen)n(t)h(starts)f(with)h(the)g(")p Fb(EXTEND)p
Fi(")c(k)n(eyw)n(ord)i(and)h(ends)h(with)g(the)g(")p
Fb(END)p Fi(")d(k)n(eyw)n(ord.)0 3398 y Fe(8.3.1)112
b(GLOBAL)38 b(indicator)0 3556 y Fi(After)23 b(the)g(\014rst)f(k)n(eyw)
n(ord,)g(it)h(is)f(p)r(ossible)g(to)h(see)f(the)h(iden)n(ti\014er)f(")p
Fb(GLOBAL)p Fi(")d(follo)n(w)n(ed)i(b)n(y)i(a)f(colon,)g(a)h(list)f(of)
h(en)n(tries)f(names)0 3656 y(and)28 b(a)g(semicolon.)37
b(It)28 b(sa)n(ys)f(that)h(these)g(en)n(tries)g(corresp)r(ond)e(to)i
(visible)g(\(previously)f(de\014ned\))i(en)n(try)e(v)-5
b(ariables,)27 b(in)i(the)0 3755 y(con)n(text)e(of)h(the)g(EXTEND)f
(statemen)n(t,)h(the)g(other)f(ones)g(b)r(eing)h(lo)r(cally)f(and)g
(silen)n(tly)g(de\014ned)h(inside.)125 3948 y Fh(\017)41
b Fi(If)25 b(an)f(en)n(try)-7 b(,)25 b(whic)n(h)f(is)g(extended)h(in)g
(the)g(EXTEND)g(statemen)n(t,)g(is)f(in)h(the)g(GLOBAL)f(list,)i(but)f
(is)f(not)h(de\014ned)g(in)208 4047 y(the)h(con)n(text)g(of)h(the)f
(EXTEND)h(statemen)n(t,)f(the)h(OCaml)f(compiler)f(will)i(fail)f(with)h
(the)g(error)d("un)n(b)r(ound)j(v)-5 b(alue".)125 4223
y Fh(\017)41 b Fi(If)29 b(there)f(is)g(no)h(GLOBAL)f(indicator,)g(and)h
(an)f(en)n(try)-7 b(,)28 b(whic)n(h)h(is)f(extended)h(in)g(the)g
(EXTEND)g(statemen)n(t,)g(is)f(not)208 4323 y(de\014ned)36
b(in)g(the)g(con)n(tex)f(of)g(the)h(EXTEND)g(statemen)n(t,)i(the)e
(OCaml)f(compiler)g(will)h(also)e(fail)i(with)g(the)g(error)208
4422 y("un)n(b)r(ound)27 b(v)-5 b(alue".)0 4615 y(Example:)87
4809 y Fb(value)42 b(exp)g(=)h(Grammar.Entry.cre)o(at)o(e)38
b(g)43 b("exp";)87 4909 y(EXTEND)174 5009 y(GLOBAL:)e(exp;)174
5108 y(exp:)h([)h([)h(x)f(=)g(foo;)f(y)h(=)g(bar)g(])g(];)174
5208 y(foo:)f([)h([)h("foo")d(])i(];)174 5308 y(bar:)f([)h([)h("bar")d
(])i(];)87 5407 y(END;)1908 5656 y Fi(47)p eop end
%%Page: 48 50
TeXDict begin 48 49 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a(The)k(en)n(try)f
("exp")g(is)h(an)f(existing)h(v)-5 b(ariable)30 b(\(de\014ned)h(b)n(y)g
(v)-5 b(alue)30 b(exp)h(=)g(...\).)47 b(On)31 b(the)g(other)f(hand,)i
(the)f(en)n(tries)f("fo)r(o")0 490 y(and)d("bar")f(ha)n(v)n(e)h(not)g
(b)r(een)h(de\014ned.)38 b(Because)26 b(of)i(the)g(GLOBAL)f(indicator,)
g(the)h(system)f(de\014ne)h(them)g(lo)r(cally)-7 b(.)0
690 y(Without)27 b(the)f(GLOBAL)f(indicator,)g(the)h(three)g(en)n
(tries)f(w)n(ould)g(ha)n(v)n(e)g(b)r(een)h(considered)f(as)g(global)f
(v)-5 b(ariables,)25 b(therefore)0 790 y(the)j(OCaml)f(compiler)g(w)n
(ould)g(sa)n(y)f("un)n(b)r(ound)i(v)-5 b(ariable")26
b(under)h(the)h(\014rst)g(unde\014ned)g(en)n(try)-7 b(,)27
b("fo)r(o".)0 1024 y Fe(8.3.2)112 b(En)m(tries)37 b(list)0
1178 y Fi(Then)24 b(the)g(list)f(of)h(en)n(tries)f(extensions)f(follo)n
(w.)35 b(An)24 b(en)n(try)f(extension)g(starts)g(with)h(the)g(en)n(try)
f(name)g(follo)n(w)n(ed)g(b)n(y)g(a)g(colon.)0 1278 y(An)j(en)n(try)f
(ma)n(y)g(ha)n(v)n(e)g(sev)n(eral)f(lev)n(els)h(corresp)r(onding)f(to)h
(sev)n(eral)f(stream)h(parsers)f(whic)n(h)i(call)f(the)h(ones)f(the)h
(others)f(\(see)0 1377 y(further\).)0 1595 y Ff(Optional)31
b(p)s(osition)0 1749 y Fi(After)d(the)g(colon,)f(it)h(is)f(p)r(ossible)
h(to)f(sp)r(ecify)h(a)f(where)g(to)h(insert)f(the)h(de\014ned)g(lev)n
(els:)125 1934 y Fh(\017)41 b Fi(The)26 b(iden)n(ti\014er)h(")p
Fb(FIRST)p Fi(")d(\(resp.)36 b(")p Fb(LAST)p Fi("\))25
b(indicates)h(that)i(the)f(lev)n(el)f(m)n(ust)h(b)r(e)g(inserted)g(b)r
(efore)f(\(resp.)37 b(after\))26 b(all)208 2033 y(p)r(ossibly)h
(existing)g(lev)n(els)g(of)g(the)h(en)n(try)-7 b(.)37
b(They)27 b(b)r(ecome)h(their)f(\014rst)h(\(resp.)36
b(last\))28 b(lev)n(els.)125 2201 y Fh(\017)41 b Fi(The)31
b(iden)n(ti\014er)h(")p Fb(BEFORE)p Fi(")d(\(resp.)49
b(")p Fb(AFTER)p Fi("\))29 b(follo)n(w)n(ed)i(b)n(y)g(a)h(lev)n(el)f
(lab)r(el)h(\(a)f(string\))h(indicates)g(that)g(the)g(lev)n(els)208
2301 y(m)n(ust)d(b)r(e)h(inserted)f(b)r(efore)g(\(resp.)41
b(after\))29 b(that)h(lev)n(el,)f(if)h(it)f(exists.)42
b(If)30 b(it)f(do)r(es)g(not)g(exist,)h(the)g(extend)f(statemen)n(t)208
2400 y(fails)e(at)g(run)h(time.)125 2568 y Fh(\017)41
b Fi(The)25 b(iden)n(ti\014er)g(")p Fb(LIKE)p Fi(")e(follo)n(w)n(ed)h
(b)n(y)h(a)g(string)g(indicates)g(that)h(the)f(\014rst)h(lev)n(el)e
(de\014ned)i(in)g(the)g(extend)f(statemen)n(t)208 2668
y(m)n(ust)35 b(b)r(e)g(inserted)g(in)h(the)f(\014rst)g(already)f
(existing)h(lev)n(el)g(with)g(a)g(rule)g(con)n(taining)f(this)i(string)
e(as)h(k)n(eyw)n(ord)e(or)208 2767 y(tok)n(en)25 b(name.)36
b(F)-7 b(or)24 b(example,)i(")p Fb(LIKE)41 b("match")p
Fi(")23 b(is)i(the)h(\014rst)f(lev)n(el)g(ha)n(ving)g(")p
Fb(match)p Fi(")d(as)j(k)n(eyw)n(ord.)35 b(If)26 b(there)f(is)g(no)208
2867 y(lev)n(el)i(with)h(this)g(string,)f(the)h(extend)f(statemen)n(t)h
(fails)f(at)h(run)f(time.)125 3035 y Fh(\017)41 b Fi(The)c(iden)n
(ti\014er)g(")p Fb(LEVEL)p Fi(")d(follo)n(w)n(ed)i(b)n(y)h(a)f(lev)n
(el)h(lab)r(el)g(indicates)g(that)h(the)f(\014rst)g(lev)n(el)f
(de\014ned)i(in)f(the)h(extend)208 3134 y(statemen)n(t)26
b(m)n(ust)h(b)r(e)h(inserted)e(at)h(the)g(giv)n(en)f(lev)n(el,)h
(extending)g(and)f(mo)r(difying)h(it.)37 b(The)27 b(other)f(lev)n(els)h
(de\014ned)g(in)208 3234 y(the)f(statemen)n(t)f(are)g(inserted)g(after)
g(this)h(lev)n(el,)g(and)f(b)r(efore)h(the)f(p)r(ossible)h(lev)n(els)f
(follo)n(wing)f(this)i(lev)n(el.)36 b(If)26 b(there)f(is)208
3334 y(no)i(lev)n(el)g(with)h(this)g(lab)r(el,)g(the)g(extend)f
(statemen)n(t)h(fails)f(at)h(run)f(time.)125 3501 y Fh(\017)41
b Fi(By)36 b(default,)k(if)e(the)f(en)n(try)f(has)h(no)g(lev)n(el,)i
(the)e(lev)n(els)f(de\014ned)i(in)f(the)g(statemen)n(t)g(are)f
(inserted)h(in)g(the)h(en)n(try)-7 b(.)208 3601 y(Otherwise)31
b(the)i(\014rst)g(de\014ned)g(lev)n(el)f(is)g(inserted)h(at)f(the)h
(\014rst)f(lev)n(el)h(of)f(the)h(en)n(try)-7 b(,)34 b(extending)e(or)g
(mo)r(difying)h(it.)208 3701 y(The)d(other)h(lev)n(els)f(are)g
(inserted)g(afterw)n(ards)f(\(b)r(efore)i(the)g(p)r(ossible)g(second)f
(lev)n(el)h(whic)n(h)f(ma)n(y)h(previously)e(exist)208
3800 y(in)e(the)h(en)n(try\).)0 4018 y Ff(Lev)m(els)0
4172 y Fi(After)i(the)g(optional)f("p)r(osition",)g(the)h
Fa(level)39 b Fi(list)30 b(follo)n(w.)42 b(The)29 b(lev)n(els)g(are)g
(separated)f(b)n(y)h(v)n(ertical)g(bars,)g(the)h(whole)f(list)0
4272 y(b)r(eing)f(b)r(et)n(w)n(een)f(brac)n(k)n(ets.)0
4472 y(A)35 b(lev)n(el)g(starts)f(with)i(an)f(optional)f(lab)r(el,)j
(whic)n(h)e(corresp)r(onds)e(to)i(its)h(name.)59 b(This)35
b(lab)r(el)g(is)g(useful)g(to)g(sp)r(ecify)h(this)0 4572
y(lev)n(el)27 b(in)g(case)g(of)g(future)g(extensions,)g(using)g(the)h
Fa(p)l(osition)35 b Fi(\(see)27 b(previous)f(section\))h(or)f(for)h(p)r
(ossible)g(direct)g(calls)g(to)g(this)0 4671 y(sp)r(eci\014c)h(lev)n
(el.)0 4871 y(The)g(lev)n(el)f(con)n(tin)n(ues)g(with)h(an)f(optional)g
(asso)r(ciativit)n(y)f(indicator,)h(whic)n(h)g(can)g(b)r(e:)125
5056 y Fh(\017)41 b Fi(LEFT)-7 b(A)27 b(for)g(left)h(asso)r(ciativit)n
(y)e(\(default\),)125 5223 y Fh(\017)41 b Fi(RIGHT)-7
b(A)28 b(for)f(righ)n(t)g(asso)r(ciativit)n(y)-7 b(,)125
5391 y Fh(\017)41 b Fi(NONA)28 b(for)f(no)g(asso)r(ciativit)n(y)-7
b(.)1908 5656 y(48)p eop end
%%Page: 49 51
TeXDict begin 49 50 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Ff(Rules)0
563 y Fi(A)n(t)c(last,)h(the)g(grammar)d Fa(rule)29 b
Fi(list)23 b(app)r(ear.)35 b(The)23 b(rules)f(are)h(separated)e(b)n(y)i
(v)n(ertical)f(bars,)h(the)h(whole)e(list)i(b)r(eing)f(brac)n(k)n(ets.)
0 782 y(A)29 b(rule)f(lo)r(oks)g(lik)n(e)g(a)g(matc)n(h)h(case)f(in)g
(the)h(")p Fb(match)p Fi(")d(statemen)n(t)j(or)f(a)g(parser)f(case)h
(in)g(the)h(")p Fb(parser)p Fi(")d(statemen)n(t:)39 b(a)28
b(list)0 882 y(of)e(psym)n(b)r(ols)g(\(see)g(next)h(paragraph\))d
(separated)h(b)n(y)h(semicolons,)g(follo)n(w)n(ed)f(b)n(y)h(a)g(righ)n
(t)g(arro)n(w)e(and)i(an)g(expression,)g(the)0 982 y(seman)n(tic)31
b(action.)48 b(Actually)-7 b(,)33 b(the)f(righ)n(t)f(arro)n(w)e(and)j
(expression)e(are)g(optional:)45 b(in)31 b(this)h(case,)g(it)g(is)g
(equiv)-5 b(alen)n(t)31 b(to)g(an)0 1081 y(expression)26
b(whic)n(h)i(w)n(ould)f(b)r(e)h(the)g(unit)g(")p Fb(\(\))p
Fi(")e(constructor.)0 1301 y(A)20 b(psym)n(b)r(ol)g(is)g(either)g(a)f
(pattern,)i(follo)n(w)n(ed)e(with)i(the)f(equal)g(sign)f(and)h(a)f(sym)
n(b)r(ol,)i(or)e(b)n(y)h(a)g(sym)n(b)r(ol)f(alone.)34
b(It)20 b(corresp)r(onds)0 1401 y(to)27 b(a)h(test)g(of)f(this)h(sym)n
(b)r(ol,)f(whose)g(v)-5 b(alue)28 b(is)f(b)r(ound)h(to)g(the)f(pattern)
h(if)g(an)n(y)-7 b(.)0 1687 y Fe(8.3.3)112 b(Sym)m(b)s(ols)0
1860 y Fi(A)28 b(sym)n(b)r(ol)f(is)h(an)f(item)h(in)g(a)f(grammar)f
(rule.)36 b(It)28 b(is)g(either:)125 2084 y Fh(\017)41
b Fi(a)27 b(k)n(eyw)n(ord)e(\(a)j(string\):)36 b(the)28
b(input)h(m)n(ust)e(matc)n(h)h(this)g(k)n(eyw)n(ord,)125
2291 y Fh(\017)41 b Fi(a)36 b(tok)n(en)h(name)g(\(an)g(iden)n(ti\014er)
g(starting)f(with)i(an)f(upp)r(ercase)f(c)n(haracter\),)i(optionally)e
(follo)n(w)n(ed)g(b)n(y)h(a)g(string:)208 2390 y(the)d(input)g(m)n(ust)
g(matc)n(h)f(this)h(tok)n(en)f(\(an)n(y)g(v)-5 b(alue)34
b(if)g(no)f(string,)i(or)e(that)h(string)f(if)h(a)f(string)g(follo)n
(ws)g(the)h(tok)n(en)208 2490 y(name\),)e(the)g(list)f(of)h(the)g(a)n
(v)-5 b(ailable)30 b(tok)n(ens)g(dep)r(ending)i(on)f(the)h(asso)r
(ciated)e(lexer)h(\(the)h(list)f(of)h(tok)n(ens)e(a)n(v)-5
b(ailable)208 2589 y(with)27 b("Plexer.gmak)n(e)d(\(\)")j(is:)36
b(LIDENT,)27 b(UIDENT,)h(TILDEIDENT,)f(TILDEIDENTCOLON,)f(QUESTION-)208
2689 y(IDENT,)c(INT,)h(INT)p 880 2689 25 4 v 30 w(l,)h(INT)p
1132 2689 V 30 w(L,)e(INT)p 1411 2689 V 30 w(n,)i(FLO)n(A)-7
b(T,)22 b(CHAR,)h(STRING,)g(QUOT)-7 b(A)g(TION,)22 b(ANTIQUOT)h(and)f
(EOI;)208 2789 y(other)27 b(lexers)f(ma)n(y)h(prop)r(ose)f(other)h
(lists)h(of)g(tok)n(ens\),)125 2996 y Fh(\017)41 b Fi(an)27
b(en)n(try)g(name,)g(whic)n(h)h(corresp)r(ond)e(to)h(a)g(call)h(to)f
(this)h(en)n(try)-7 b(,)125 3203 y Fh(\017)41 b Fi(an)24
b(en)n(try)g(name)g(follo)n(w)n(ed)g(b)n(y)g(the)h(iden)n(ti\014er)g(")
p Fb(LEVEL)p Fi(")c(and)k(a)f(lev)n(el)g(lab)r(el,)h(whic)n(h)g
(corresp)r(ond)e(to)h(the)h(call)f(to)h(this)208 3303
y(en)n(try)i(at)g(that)h(lev)n(el,)125 3510 y Fh(\017)41
b Fi(the)29 b(iden)n(ti\014er)g(")p Fb(SELF)p Fi(")e(whic)n(h)i(is)h(a)
e(recursiv)n(e)g(call)h(to)g(the)h(presen)n(t)e(en)n(try)-7
b(,)30 b(according)d(to)i(the)h(asso)r(ciativit)n(y)e(\(i.e.)208
3609 y(it)35 b(ma)n(y)e(b)r(e)i(a)f(call)h(at)f(the)h(curren)n(t)f(lev)
n(el,)i(to)e(the)h(next)g(lev)n(el,)h(or)d(to)i(the)g(top)f(lev)n(el)g
(of)h(the)g(en)n(try\):)50 b(")p Fb(SELF)p Fi(")32 b(is)208
3709 y(equiv)-5 b(alen)n(t)27 b(to)g(the)h(name)g(of)f(the)h(en)n(try)f
(itself,)125 3916 y Fh(\017)41 b Fi(the)28 b(iden)n(ti\014er)f(")p
Fb(NEXT)p Fi(",)e(whic)n(h)j(is)f(a)g(call)h(to)f(the)h(next)g(lev)n
(el)f(of)g(the)h(curren)n(t)f(en)n(try)-7 b(,)125 4123
y Fh(\017)41 b Fi(a)31 b(left)h(brace,)g(follo)n(w)n(ed)f(b)n(y)g(a)h
(list)f(of)h(rules)f(separated)g(b)n(y)g(v)n(ertical)g(bars,)g(and)h(a)
f(righ)n(t)g(brace:)44 b(equiv)-5 b(alen)n(t)32 b(to)f(a)208
4223 y(call)c(to)g(an)h(en)n(try)-7 b(,)27 b(with)h(these)f(rules,)h
(inlined,)125 4430 y Fh(\017)41 b Fi(a)27 b(meta)g(sym)n(b)r(ol)g
(\(see)h(further\),)125 4637 y Fh(\017)41 b Fi(a)27 b(sym)n(b)r(ol)g(b)
r(et)n(w)n(een)g(paren)n(theses.)0 4861 y(The)h(syn)n(tactic)f
(analysis)f(follo)n(w)h(the)h(list)g(of)g(sym)n(b)r(ols.)36
b(If)28 b(it)g(fails,)g(dep)r(ending)g(on)g(the)g(\014rst)f(items)h(of)
g(the)g(rule)f(\(see)h(the)0 4960 y(section)f(ab)r(out)h(the)g(kind)g
(of)f(grammars)e(recognized\):)125 5184 y Fh(\017)41
b Fi(the)28 b(parsing)e(ma)n(y)h(fail)g(b)n(y)h(raising)e(the)i
(exception)f(")p Fb(Stream.Error)p Fi(")125 5391 y Fh(\017)41
b Fi(the)28 b(parsing)e(ma)n(y)h(con)n(tin)n(ue)g(with)h(the)g(next)g
(rule.)1908 5656 y(49)p eop end
%%Page: 50 52
TeXDict begin 50 51 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Ff(Meta)32
b(sym)m(b)s(ols)0 544 y Fi(Extra)26 b(sym)n(b)r(ols)h(exist,)h(allo)n
(wing)e(to)h(manipulate)h(lists)g(or)e(optional)h(sym)n(b)r(ols.)36
b(They)28 b(are:)125 729 y Fh(\017)41 b Fi(LIST0)27 b(follo)n(w)n(ed)f
(b)n(y)i(a)f(sym)n(b)r(ol:)36 b(this)28 b(is)g(a)f(list)h(of)f(this)h
(sym)n(b)r(ol,)f(p)r(ossibly)g(empt)n(y)-7 b(,)125 898
y Fh(\017)41 b Fi(LIST0)22 b(follo)n(w)n(ed)g(b)n(y)h(a)g(sym)n(b)r
(ol,)g(SEP)f(and)h(another)f(sym)n(b)r(ol:)34 b(this)24
b(is)f(a)f(list,)j(p)r(ossibly)d(empt)n(y)-7 b(,)24 b(of)f(the)h
(\014rst)f(sym)n(b)r(ol)208 997 y(separated)j(b)n(y)h(the)h(second)f
(one,)125 1165 y Fh(\017)41 b Fi(LIST1)27 b(follo)n(w)n(ed)f(b)n(y)i(a)
f(sym)n(b)r(ol:)36 b(this)28 b(is)g(a)f(list)h(of)f(this)h(sym)n(b)r
(ol,)f(with)h(at)g(least)f(one)g(elemen)n(t,)125 1334
y Fh(\017)41 b Fi(LIST0)27 b(follo)n(w)n(ed)f(b)n(y)i(a)f(sym)n(b)r
(ol,)g(SEP)g(and)g(another)g(sym)n(b)r(ol:)37 b(this)27
b(is)h(a)f(list,)h(with)g(at)g(least)f(one)g(elemen)n(t,)h(of)g(the)208
1433 y(\014rst)f(sym)n(b)r(ol)g(separated)f(b)n(y)i(the)g(second)f
(one,)125 1601 y Fh(\017)41 b Fi(OPT)22 b(follo)n(w)n(ed)g(b)n(y)h(a)g
(sym)n(b)r(ol:)35 b(equiv)-5 b(alen)n(t)23 b(to)g("this)g(sym)n(b)r(ol)
g(or)f(nothing")h(returning)f(a)h(v)-5 b(alue)24 b(of)f(t)n(yp)r(e)g(")
p Fb(option)p Fi(".)125 1770 y Fh(\017)41 b Fi(FLA)n(G)27
b(follo)n(w)n(ed)g(b)n(y)g(a)g(sym)n(b)r(ol:)37 b(equiv)-5
b(alen)n(t)27 b(to)h("this)f(sym)n(b)r(ol)g(or)g(nothing",)g(returning)
g(a)g(b)r(o)r(olean.)0 1988 y Ff(The)32 b(V)g(meta)g(sym)m(b)s(ol)0
2143 y Fi(The)20 b(V)h(meta)f(sym)n(b)r(ol)g(is)g(destinated)g(to)h
(allo)n(w)e(an)n(tiquotations)g(while)h(using)g(the)h(syn)n(tax)e(tree)
h(quotation)f(kit)i Fb(q)p 3546 2143 27 4 v 31 w(ast.cmo)p
Fi(.)0 2242 y(It)28 b(w)n(orks)e(only)h(in)h(strict)f(mo)r(de.)37
b(In)28 b(transitional)f(mo)r(de,)g(it)h(is)g(just)g(equiv)-5
b(alen)n(t)27 b(to)h(its)g(sym)n(b)r(ol)f(parameter.)125
2342 y Ff(An)m(tiquotation)32 b(kind)0 2443 y Fi(The)d(an)n
(tiquotation)f(kind)h(is)g(the)g(optional)f(iden)n(ti\014er)h(b)r(et)n
(w)n(een)g(the)g(starting)f(")p Fb($)p Fi(")g(\(dollar\))g(and)h(the)g
(")p Fb(:)p Fi(")f(\(colon\))g(in)h(a)0 2542 y(quotation)e(of)g(syn)n
(tax)g(tree)g(\(see)h(the)g(c)n(hapter)f(syn)n(tax)f(tree\).)0
2743 y(The)39 b(optional)e(list)i(of)f(strings)g(follo)n(wing)f(the)i
("V")f(meta)g(sym)n(b)r(ol)g(and)h(its)f(sym)n(b)r(ol)g(parameter)f
(giv)n(es)h(the)g(allo)n(w)n(ed)0 2842 y(an)n(tiquotations)26
b(kinds.)0 3043 y(By)h(default,)h(this)g(string)f(list,)h(i.e.)37
b(the)28 b(a)n(v)-5 b(ailable)26 b(an)n(tiquotation)h(kinds,)h(is:)125
3227 y Fh(\017)41 b Fb(["flag"])24 b Fi(for)j(FLA)n(G)125
3396 y Fh(\017)41 b Fb(["list"])24 b Fi(for)j(LIST0)g(and)h(LIST1)125
3564 y Fh(\017)41 b Fb(["opt"])24 b Fi(for)j(OPT)0 3749
y(F)-7 b(or)27 b(example,)g(the)h(sym)n(b)r(ol:)87 3934
y Fb(V)43 b(\(FLAG)f("rec"\))0 4119 y Fi(is)28 b(lik)n(e)g("FLA)n(G")f
(while)i(normally)e(parsing,)g(allo)n(wing)g(to)h(parse)f(the)h(k)n
(eyw)n(ord)f(")p Fb(rec)p Fi(".)36 b(While)29 b(using)f(it)g(in)h
(quotations,)0 4218 y(also)j(allo)n(ws)g(the)h(parse)f(the)i(k)n(eyw)n
(ord)d(")p Fb(rec)p Fi(")g(but,)k(moreo)n(v)n(er,)d(the)i(an)n
(tiquotation)e(")p Fb($flag:..$)p Fi(")c(where)33 b(")p
Fb(..)p Fi(")e(is)i(an)0 4318 y(expression)26 b(or)h(a)g(pattern)g(dep)
r(ending)h(on)g(the)g(p)r(osition)f(of)h(the)g(quotation.)0
4518 y(There)j(are)g(also)f(default)i(an)n(tiquotations)f(kinds)g(for)g
(the)h(tok)n(ens)f(used)h(in)f(the)h(OCaml)f(language)f(prede\014ned)i
(parsers)0 4618 y(")p Fb(pa)p 135 4618 V 30 w(r.cmo)p
Fi(")26 b(\(revised)i(syn)n(tax\))g(and)g(")p Fb(pa)p
1357 4618 V 30 w(o.cmo)p Fi(")e(\(normal)h(syn)n(tax\),)h(actually)g
(all)g(parsers)f(using)h(the)g(pro)n(vided)g(lexer)0
4718 y(")p Fb(Plexer)p Fi(")c(\(see)k(the)g(c)n(hapter)e(Library\).)36
b(They)28 b(are:)125 4903 y Fh(\017)41 b Fb(["chr"])24
b Fi(for)j(CHAR)125 5071 y Fh(\017)41 b Fb(["flo"])24
b Fi(for)j(FLO)n(A)-7 b(T)125 5239 y Fh(\017)41 b Fb(["int"])24
b Fi(for)j(INT)125 5407 y Fh(\017)41 b Fb(["int32"])24
b Fi(for)j(INT)p 912 5407 25 4 v 30 w(l)1908 5656 y(50)p
eop end
%%Page: 51 53
TeXDict begin 51 52 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 125 390 a
Fh(\017)41 b Fb(["int64"])24 b Fi(for)j(INT)p 912 390
25 4 v 30 w(L)125 554 y Fh(\017)41 b Fb(["nativeint"])22
b Fi(for)27 b(INT)p 1086 554 V 30 w(n)125 718 y Fh(\017)41
b Fb(["lid"])24 b Fi(for)j(LIDENT)125 882 y Fh(\017)41
b Fb(["str"])24 b Fi(for)j(STRING)125 1046 y Fh(\017)41
b Fb(["uid"])24 b Fi(for)j(UIDENT)0 1224 y(It)d(is)g(also)f(p)r
(ossible)g(to)h(use)g(the)g("V")g(meta)f(sym)n(b)r(ol)h(o)n(v)n(er)e
(non-terminals)h(\(grammars)f(en)n(tries\),)i(but)h(there)e(is)h(no)g
(default)0 1324 y(an)n(tiquotation)j(kind.)37 b(F)-7
b(or)27 b(example,)g(while)h(parsing)e(a)h(quotation,)g(the)h(sym)n(b)r
(ol:)87 1501 y Fb(V)43 b(foo)g("bar")e("oops")0 1679
y Fi(corresp)r(onds)16 b(to)j(either)f(a)g(call)g(to)g(the)h(grammar)d
(en)n(try)i(")p Fb(foo)p Fi(",)g(or)g(to)g(the)h(an)n(tiquotations)e(")
p Fb($bar:...$)p Fi(")d(or)j(")p Fb($oops:...$)p Fi(".)125
1778 y Ff(T)m(yp)s(e)0 1878 y Fi(The)28 b(t)n(yp)r(e)f(of)h(the)g(v)-5
b(alue)27 b(returned)h(b)n(y)f(a)g(V)h(meta)g(sym)n(b)r(ol)f(is:)125
2056 y Fh(\017)41 b Fi(in)27 b(transitional)g(mo)r(de,)h(the)g(t)n(yp)r
(e)f(of)h(its)g(sym)n(b)r(ol)f(parameter,)125 2220 y
Fh(\017)41 b Fi(in)27 b(strict)h(mo)r(de,)g(")p Fb(Ploc.vala)39
b(t)p Fi(",)27 b(where)g(")p Fb(t)p Fi(")f(is)i(its)f(sym)n(b)r(ol)h
(parameter.)0 2397 y(In)22 b(strict)f(mo)r(de,)i(if)f(the)g(sym)n(b)r
(ol)f(parameter)f(is)i(found,)h(whose)e(v)-5 b(alue)21
b(is,)i(sa)n(y)-7 b(,)21 b(")p Fb(x)p Fi(",)h(the)g(result)f(is)g(")p
Fb(Ploc.VaVal)39 b(x)p Fi(".)34 b(If)22 b(an)0 2497 y(an)n(tiquotation)
28 b(is)h(found)g(the)g(result)g(is)g(")p Fb(Ploc.VaAnt)39
b(s)p Fi(")28 b(where)g(")p Fb(s)p Fi(")g(is)g(some)h(string)f(con)n
(taining)g(the)h(an)n(tiquotation)0 2597 y(text)f(and)f(some)g(other)g
(in)n(ternal)g(information.)0 2828 y Fe(8.3.4)112 b(Rules)38
b(insertion)0 2981 y Fi(Remem)n(b)r(er)29 b(that)g(")p
Fb(EXTEND)p Fi(")c(is)k(a)f(statemen)n(t,)h(not)g(a)f(declaration:)38
b(the)29 b(rules)g(are)e(added)i(in)g(the)g(en)n(tries)f(at)h(run)g
(time.)0 3081 y(Eac)n(h)g(rule)g(is)h(in)n(ternally)f(inserted)h(in)g
(a)g(tree,)g(allo)n(wing)f(the)h(left)g(factorization)f(of)h(the)g
(rule.)44 b(F)-7 b(or)29 b(example,)h(with)h(this)0 3181
y(list)d(of)f(rules)g(\(b)r(orro)n(w)n(ed)f(from)h(the)h(Camlp5)f
(sources\):)87 3358 y Fb("method";)40 b("private";)f("virtual";)h(l)j
(=)g(label;)e(":";)h(t)h(=)h(poly_type)87 3458 y("method";)c
("virtual";)f("private";)h(l)j(=)g(label;)e(":";)h(t)h(=)h(poly_type)87
3558 y("method";)c("virtual";)f(l)44 b(=)f(label;)e(":";)h(t)h(=)g
(poly_type)87 3657 y("method";)d("private";)f(l)44 b(=)f(label;)e(":";)
h(t)h(=)g(poly_type;)d("=";)i(e)h(=)g(expr)87 3757 y("method";)d
("private";)f(l)44 b(=)f(label;)e(sb)i(=)g(fun_binding)87
3856 y("method";)d(l)j(=)g(label;)e(":";)h(t)i(=)f(poly_type;)c("=";)j
(e)h(=)g(expr)87 3956 y("method";)d(l)j(=)g(label;)e(sb)i(=)g
(fun_binding)0 4134 y Fi(the)28 b(rules)f(are)g(inserted)g(in)h(a)f
(tree)g(and)h(the)g(result)f(lo)r(oks)g(lik)n(e:)87 4311
y Fb("method")218 4411 y(|--)42 b("private")218 4511
y(|)305 b(|--)42 b("virtual")218 4610 y(|)305 b(|)f(|--)43
b(label)218 4710 y(|)305 b(|)566 b(|--)42 b(":")218 4809
y(|)305 b(|)784 b(|--)42 b(poly_type)218 4909 y(|)305
b(|--)42 b(label)218 5009 y(|)566 b(|--)42 b(":")218
5108 y(|)566 b(|)174 b(|--)42 b(poly_type)218 5208 y(|)566
b(|)523 b(|--)42 b(":=")218 5308 y(|)566 b(|)741 b(|--)42
b(expr)218 5407 y(|)566 b(|--)42 b(fun_binding)1908 5656
y Fi(51)p eop end
%%Page: 52 54
TeXDict begin 52 53 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 218 390 a
Fb(|--)42 b("virtual")218 490 y(|)305 b(|--)42 b("private")218
589 y(|)305 b(|)f(|--)43 b(label)218 689 y(|)305 b(|)566
b(|--)42 b(":")218 789 y(|)305 b(|)784 b(|--)42 b(poly_type)218
888 y(|)305 b(|--)42 b(label)218 988 y(|)566 b(|--)42
b(":")218 1088 y(|)784 b(|--)42 b(poly_type)218 1187
y(|--)g(label)479 1287 y(|--)h(":")479 1386 y(|)174 b(|--)43
b(poly_type)479 1486 y(|)523 b(|--)42 b("=")479 1586
y(|)741 b(|--)42 b(expr)479 1685 y(|--)h(fun_binding)0
1860 y Fi(This)21 b(tree)g(is)h(built)g(as)f(long)f(as)h(rules)g(are)f
(inserted.)35 b(When)22 b(used,)g(b)n(y)f(applying)g(the)h(function)g
(")p Fb(Grammar.Entry.p)o(ar)o(se)o Fi(")0 1960 y(to)32
b(the)g(curren)n(t)f(en)n(try)-7 b(,)32 b(the)h(input)f(is)g(matc)n
(hed)g(with)g(that)g(tree,)h(starting)e(from)g(the)i(tree)e(ro)r(ot,)h
(descending)g(on)f(it)i(as)0 2060 y(long)27 b(as)g(the)h(parsing)e(adv)
-5 b(ances.)0 2259 y(There)27 b(is)h(a)f(di\013eren)n(t)g(tree)h(b)n(y)
f(en)n(try)g(lev)n(el.)0 2490 y Fe(8.3.5)112 b(Seman)m(tic)39
b(action)0 2643 y Fi(The)28 b(seman)n(tic)f(action,)g(i.e.)37
b(the)28 b(expression)e(follo)n(wing)g(the)i(righ)n(t)f(arro)n(w)f(in)i
(rules,)f(con)n(tains)f(in)i(its)g(en)n(vironmen)n(t:)125
2818 y Fh(\017)41 b Fi(the)28 b(v)-5 b(ariables)26 b(b)r(ound)i(b)n(y)f
(the)h(patterns)f(of)h(the)g(sym)n(b)r(ols)f(found)h(in)f(the)h(rules,)
125 2981 y Fh(\017)41 b Fi(the)28 b(sp)r(eci\014c)f(v)-5
b(ariable)27 b(")p Fb(loc)p Fi(")e(whic)n(h)j(con)n(tain)f(the)h(lo)r
(cation)f(of)g(the)h(whole)f(rule)h(in)g(the)g(source.)0
3156 y(The)g(lo)r(cation)f(is)g(an)g(abstract)g(t)n(yp)r(e)h(de\014ned)
g(in)g(the)g(mo)r(dule)f(")p Fb(Ploc)p Fi(")e(of)j(Camlp5.)0
3355 y(It)37 b(is)g(p)r(ossible)f(to)h(c)n(hange)e(the)i(name)g(of)f
(this)h(v)-5 b(ariable)36 b(b)n(y)g(using)h(the)g(option)f(")p
Fb(-loc)p Fi(")e(of)j(Camlp5.)63 b(F)-7 b(or)36 b(example,)0
3455 y(compiling)27 b(a)g(\014le)h(lik)n(e)f(this:)87
3630 y Fb(camlp5r)41 b(-loc)h(foobar)f(file.ml)0 3805
y Fi(the)28 b(v)-5 b(ariable)27 b(name,)g(for)g(the)h(lo)r(cation)f
(will)h(b)r(e)g(")p Fb(foobar)p Fi(")c(instead)j(of)h(")p
Fb(loc)p Fi(".)0 4078 y Fc(8.4)135 b(The)45 b(DELETE)p
1131 4078 41 4 v 48 w(R)l(ULE)h(statemen)l(t)0 4260 y
Fi(The)36 b(")p Fb(DELETE)p 490 4260 27 4 v 29 w(RULE)p
Fi(")e(statemen)n(t)i(is)h(also)e(added)h(in)h(the)g(expressions)d(of)j
(the)f(OCaml)g(language)f(when)h(the)h(syn)n(tax)0 4360
y(extension)27 b(kit)h(")p Fb(pa)p 629 4360 V 30 w(extend.cmo)p
Fi(")23 b(is)28 b(loaded.)36 b(Its)27 b(syn)n(tax)g(is:)349
4535 y Fb(expression)39 b(::=)j(delete-rule)305 4634
y(delete-rule)d(::=)j("DELETE_RULE")d(delete-rule-bod)o(y)f("END")87
4734 y(delete-rule-body)f(::=)42 b(entry-name)e(":")i(symbols)479
4834 y(symbols)f(::=)h(symbol)g(symbols)915 4933 y(|)h(symbol)0
5108 y Fi(See)28 b(the)g(syn)n(tax)e(of)i(the)g(EXTEND)f(statemen)n(t)h
(for)f(the)h(meaning)f(of)h(the)g(syn)n(tax)e(en)n(tries)h(not)h
(de\014ned)g(ab)r(o)n(v)n(e.)0 5308 y(The)d(en)n(try)g(is)g(scanned)g
(for)f(a)h(rule)g(matc)n(hing)f(the)i(giving)e(sym)n(b)r(ol)h(list.)36
b(When)26 b(found,)g(the)g(rule)e(is)h(remo)n(v)n(ed.)35
b(If)26 b(no)e(rule)0 5407 y(is)j(found,)h(the)g(exception)g(")p
Fb(Not)p 1033 5407 V 29 w(found)p Fi(")e(is)h(raised.)1908
5656 y(52)p eop end
%%Page: 53 55
TeXDict begin 53 54 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Fc(8.5)135
b(Extensions)46 b(F)l(OLD0)f(and)g(F)l(OLD1)0 576 y Fi(When)26
b(loading)e(")p Fb(pa)p 663 576 27 4 v 30 w(extfold.cmo)p
Fi(")d(after)k(")p Fb(pa)p 1564 576 V 30 w(extend.cmo)p
Fi(",)c(the)26 b(en)n(try)f(")p Fb(symbol)p Fi(")d(of)k(the)f(EXTEND)h
(statemen)n(t)f(is)0 676 y(extended)j(with)g(what)g(is)f(named)h(the)f
Fa(fold)32 b(iter)l(ators)p Fi(,)c(lik)n(e)f(this:)305
870 y Fb(symbol)41 b(::=)i("FOLD0")d(simple_expr)f(simple_expr)g
(symbol)697 969 y(|)44 b("FOLD1")c(simple_expr)f(simple_expr)g(symbol)
697 1069 y(|)44 b("FOLD0")c(simple_expr)f(simple_expr)g(symbol)i("SEP")
h(symbol)697 1169 y(|)i("FOLD1")c(simple_expr)f(simple_expr)g(symbol)i
("SEP")h(symbol)87 1268 y(simple_expr)d(::=)k(expr)e(\(level)h
("simple"\))0 1460 y Fi(Lik)n(e)d(their)g(equiv)-5 b(alen)n(t)39
b(with)h(the)g(lists)f(iterators:)59 b(")p Fb(LIST0)p
Fi(",)39 b(")p Fb(LIST1)p Fi(",)g(")p Fb(LIST0SEP)p Fi(",)f(")p
Fb(LIST1SEP)p Fi(",)h(they)g(read)f(a)0 1560 y(sequence)27
b(of)g(sym)n(b)r(ols,)g(p)r(ossibly)f(with)i(the)g(separators,)d(but)i
(instead)h(of)f(building)g(the)h(list)f(of)h(these)f(sym)n(b)r(ols,)g
(apply)f(a)0 1659 y(fold)21 b(function)h(to)f(eac)n(h)g(sym)n(b)r(ol,)h
(starting)e(at)h(the)h(second)e("expr")g(\(whic)n(h)i(m)n(ust)f(b)r(e)h
(a)e(expression)g(no)r(de\))i(and)f(con)n(tin)n(uing)0
1759 y(with)28 b(the)g(\014rst)f("expr")f(\(whic)n(h)i(m)n(ust)g(b)r(e)
g(a)f(function)h(taking)f(t)n(w)n(o)g(expressions)f(and)h(returing)g(a)
g(new)h(expression\).)0 1963 y(The)g(list)f(iterators)f(can)h(b)r(e)h
(seen)f(almost)g(as)g(a)g(sp)r(eci\014c)g(case)g(of)g(these)h(fold)f
(iterators)f(where)h(the)h(initial)g("expr")e(w)n(ould)0
2062 y(b)r(e:)87 2256 y Fb(<:expr<)41 b([])i(>>)0 2448
y Fi(and)27 b(the)h(fold)g(function)g(w)n(ould)f(b)r(e:)87
2642 y Fb(fun)43 b(e1)f(e2)h(->)g(<:expr<)d([$e1$)i(::)h($e2$)f(])h(>>)
0 2834 y Fi(except)28 b(that,)g(implemen)n(ted)g(lik)n(e)f(that,)h
(they)g(w)n(ould)f(return)g(the)h(list)g(in)g(rev)n(erse)d(order.)0
3037 y(Actually)-7 b(,)25 b(a)f(program)e(using)i(them)h(can)f(b)r(e)g
(written)h(with)g(the)f(lists)h(iterators)d(with)j(the)g(seman)n(tic)e
(action)h(applying)g(the)0 3137 y(function)31 b(")p Fb(List.fold)p
771 3137 V 27 w(left)p Fi(")d(to)j(the)f(returned)g(list,)i(except)e
(that)h(with)f(the)h(fold)g(iterators,)e(this)i(op)r(eration)e(is)h
(done)0 3237 y(as)d(long)g(as)g(the)h(sym)n(b)r(ols)f(are)f(read)h(on)g
(the)h(input,)h(no)e(in)n(termediate)g(list)h(b)r(eing)g(built.)0
3440 y(Example,)f(\014le)h("sum.ml":)87 3634 y Fb(#load)42
b("pa_extend.cmo")o(;)87 3734 y(#load)g("pa_extfold.cmo)o(";)87
3834 y(#load)g("q_MLast.cmo";)87 3933 y(let)h(loc)f(=)h(Ploc.dummy)c
(in)87 4033 y(EXTEND)174 4132 y(Pcaml.expr:)262 4232
y([)k([)g("sum";)436 4332 y(e)g(=)523 4431 y(FOLD0)f(\(fun)f(e1)i(e2)g
(->)g(<:expr<)d($e2$)i(+)i($e1$)d(>>\))i(<:expr<)e(0)i(>>)610
4531 y(Pcaml.expr)d(SEP)i(";";)436 4631 y("end")f(->)i(e)g(])g(])174
4730 y(;)87 4830 y(END;)0 5022 y Fi(whic)n(h)28 b(can)f(b)r(e)h
(compiled)f(lik)n(e)g(this:)87 5215 y Fb(ocamlc)41 b(-pp)i(camlp5r)d
(-I)j(+camlp5)e(-c)i(sum.ml)0 5407 y Fi(and)27 b(tested:)1908
5656 y(53)p eop end
%%Page: 54 56
TeXDict begin 54 55 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 87 390 a
Fb(ocaml)42 b(-I)g(+camlp5)f(camlp5r.cma)e(sum.cmo)436
490 y(Objective)h(Caml)i(version)e(...)436 689 y(Camlp5)h(Parsing)g
(version)f(...)87 888 y(#)j(sum)g(3;4;5)e(end;)0 988
y(-)i(:)g(int)g(=)g(12)0 1257 y Fc(8.6)135 b(Grammar)46
b(mac)l(hinery)0 1439 y Fi(W)-7 b(e)28 b(explain)f(here)g(the)h(detail)
g(of)g(the)g(mec)n(hanism)f(of)g(the)h(parsing)e(of)i(an)f(en)n(try)-7
b(.)0 1666 y Fe(8.6.1)112 b(Start)38 b(and)g(Con)m(tin)m(ue)0
1819 y Fi(A)n(t)28 b(eac)n(h)f(en)n(try)g(lev)n(el,)g(the)h(rules)f
(are)g(separated)f(in)n(to)h(t)n(w)n(o)g(trees:)125 1972
y Fh(\017)41 b Fi(The)27 b(tree)g(of)h(the)g(rules)f
Fa(not)35 b Fi(starting)27 b(with)h(the)g(curren)n(t)f(en)n(try)g(name)
g(nor)g(b)n(y)g(")p Fb(SELF)p Fi(".)125 2125 y Fh(\017)41
b Fi(The)25 b(tree)h(of)g(the)g(rules)f(starting)g(with)h(the)g(curren)
n(t)f(en)n(try)g(name)h(or)f(b)n(y)g(the)h(iden)n(ti\014er)g(")p
Fb(SELF)p Fi(",)e(this)i(sym)n(b)r(ol)f(not)208 2225
y(b)r(eing)i(included)h(in)g(the)g(tree.)0 2377 y(They)f(determine)h(t)
n(w)n(o)f(functions:)125 2529 y Fh(\017)41 b Fi(The)27
b(function)h(named)g("start",)e(analyzing)g(the)i(\014rst)g(tree.)125
2683 y Fh(\017)41 b Fi(The)33 b(function)g(named)g("con)n(tin)n(ue",)g
(taking,)g(as)f(parameter,)h(a)g(v)-5 b(alue)32 b(previously)g(parsed,)
h(and)g(analyzing)f(the)208 2783 y(second)27 b(tree.)0
2935 y(A)32 b(call)g(to)f(an)h(en)n(try)-7 b(,)32 b(using)g(")p
Fb(Grammar.Entry.p)o(ar)o(se)o Fi(")26 b(corresp)r(ond)k(to)i(a)f(call)
h(to)f(the)i("start")d(function)i(of)g(the)g(\014rst)0
3034 y(lev)n(el)27 b(of)h(the)g(en)n(try)-7 b(.)0 3234
y(The)29 b("start")e(function)i(tries)f(its)h(asso)r(ciated)e(tree.)40
b(If)29 b(it)g(w)n(orks,)e(it)i(calls)f(the)h("con)n(tin)n(ue")f
(function)h(of)f(the)h(same)g(lev)n(el,)0 3333 y(giving)23
b(the)i(result)f(of)g("start")f(as)g(parameter.)34 b(If)25
b(this)g("con)n(tin)n(ue")d(function)j(fails,)g(this)f(parameter)f(is)h
(simply)g(returned.)0 3433 y(If)32 b(the)f("start")f(function)i(fails,)
g(the)g("start")e(function)i(of)f(the)h(next)f(lev)n(el)g(is)g(tested.)
49 b(If)31 b(there)g(is)h(no)f(more)f(lev)n(els,)i(the)0
3532 y(parsing)26 b(fails.)0 3732 y(The)33 b("con)n(tin)n(ue")f
(function)i(\014rst)f(tries)f(the)i("con)n(tin)n(ue")e(function)h(of)g
(the)h(next)f(lev)n(el.)54 b(If)33 b(it)h(fails,)g(or)e(if)i(it)g(is)f
(the)g(last)0 3831 y(lev)n(el,)28 b(it)h(tries)f(its)g(asso)r(ciated)f
(tree,)h(then)h(calls)f(itself)h(again,)e(giving)g(the)i(result)f(as)g
(parameter.)37 b(If)29 b(its)f(asso)r(ciated)f(tree)0
3931 y(fails,)g(it)i(returns)d(its)i(extra)f(parameter.)0
4158 y Fe(8.6.2)112 b(Asso)s(ciativit)m(y)0 4311 y Fi(While)32
b(testing)f(the)g(tree,)h(there)f(is)g(a)f(sp)r(ecial)h(case)f(for)h
(rules)f(ending)h(with)h(SELF)e(or)h(with)g(the)h(curren)n(t)e(en)n
(try)g(name.)0 4411 y(F)-7 b(or)22 b(this)i(last)e(sym)n(b)r(ol,)i
(there)f(is)f(a)h(call)g(to)g(the)g("start")e(function:)35
b(of)23 b(the)h(curren)n(t)e(lev)n(el)g(if)i(the)f(lev)n(el)g(is)g
(righ)n(t)f(asso)r(ciativ)n(e,)0 4511 y(or)27 b(of)g(the)h(next)g(lev)n
(el)f(otherwise.)0 4710 y(There)21 b(is)g(no)g(b)r(eha)n(viour)f
(di\013erence)i(b)r(et)n(w)n(een)f(left)h(and)f(non)h(asso)r(ciativ)n
(e,)e(b)r(ecause,)j(in)e(case)g(of)g(syn)n(tax)g(error,)g(the)g(system)
0 4809 y(attempts)29 b(to)f(reco)n(v)n(er)f(the)i(error)d(b)n(y)i
(applying)g(the)h("con)n(tin)n(ue")f(function)h(of)f(the)h(previous)f
(sym)n(b)r(ol)g(\(if)h(this)g(sym)n(b)r(ol)f(is)0 4909
y(a)f(call)g(to)h(an)f(en)n(try\).)0 5108 y(When)k(a)g(SELF)g(or)f(the)
h(curren)n(t)f(en)n(try)g(name)h(is)g(encoun)n(tered)f(in)h(the)g
(middle)h(of)f(the)g(rule)f(\(i.e.)48 b(if)31 b(it)g(is)g(not)g(the)g
(last)0 5208 y(sym)n(b)r(ol\),)c(there)h(is)f(a)h(call)f(to)g(the)h
("start")e(function)i(of)g(the)g(\014rst)f(lev)n(el)g(of)h(the)g
(curren)n(t)f(en)n(try)-7 b(.)0 5407 y(Example.)36 b(Let)28
b(us)f(consider)g(the)h(follo)n(wing)e(grammar:)1908
5656 y(54)p eop end
%%Page: 55 57
TeXDict begin 55 56 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 87 390 a
Fb(EXTEND)174 490 y(expr:)262 589 y([)43 b("minus")d(LEFTA)349
689 y([)j(x)g(=)g(SELF;)f("-";)g(y)h(=)g(SELF)f(->)h(x)g(-.)g(y)g(])262
789 y(|)g("power")d(RIGHTA)349 888 y([)j(x)g(=)g(SELF;)f("**";)f(y)i(=)
h(SELF)e(->)g(x)h(**)g(y)g(])262 988 y(|)g("simple")349
1088 y([)g("\(";)f(x)h(=)g(SELF;)f("\)")g(->)h(x)349
1187 y(|)g(x)g(=)g(INT)g(->)f(float_of_int)d(x)k(])g(])174
1287 y(;)87 1386 y(END)0 1565 y Fi(The)27 b(left)i("SELF"s)d(of)h(the)h
(t)n(w)n(o)e(lev)n(els)h("min)n(us")g(and)g("p)r(o)n(w)n(er")e(corresp)
r(ond)h(to)h(a)g(call)g(to)g(the)h(next)g(lev)n(el.)36
b(In)28 b(the)g(lev)n(el)0 1664 y("min)n(us",)c(the)h(righ)n(t)e
("SELF")g(also,)h(and)h(the)f(left)h(asso)r(ciativit)n(y)e(is)h
(treated)g(b)n(y)g(the)h(fact)f(that)h(the)g("con)n(tin)n(ue")e
(function)0 1764 y(is)h(called)f(\(starting)g(with)h(the)g(k)n(eyw)n
(ord)e("-")h(since)g(the)h(left)h("SELF")d(is)i(not)g(part)f(of)h(the)g
(tree\).)35 b(On)24 b(the)g(other)f(hand,)i(for)0 1863
y(the)k(lev)n(el)f("p)r(o)n(w)n(er",)e(the)j(righ)n(t)e("SELF")g
(corresp)r(onds)g(to)h(a)g(call)g(to)g(the)h(curren)n(t)e(lev)n(el,)h
(i.e.)40 b(the)28 b(lev)n(el)g("p)r(o)n(w)n(er")e(again.)0
1963 y(A)n(t)g(end,)h(the)f("SELF")e(b)r(et)n(w)n(een)i(paren)n(theses)
f(of)g(the)h(lev)n(el)g("simple")f(corresp)r(ond)f(to)i(a)f(call)g(to)h
(the)g(\014rst)g(lev)n(el,)f(namely)0 2063 y("min)n(us")i(in)g(this)h
(grammar.)0 2294 y Fe(8.6.3)112 b(P)m(arsing)38 b(algorithm)0
2448 y Fi(By)h(default,)k(the)d(kind)g(of)f(grammar)e(is)j(predictiv)n
(e)f(parsing)f(grammar,)i(i.e.)73 b(recursiv)n(e)37 b(descen)n(t)j
(parsing)e(without)0 2547 y(bac)n(ktrac)n(k.)71 b(But)40
b(with)g(some)f(n)n(uances,)j(due)e(to)f(the)h(impro)n(v)n(emen)n(ts)e
(\(error)g(reco)n(v)n(ery)f(and)j(tok)n(en)f(starting)f(rules\))0
2647 y(indicated)28 b(in)g(the)g(next)f(sections.)0 2846
y(Ho)n(w)n(ev)n(er,)e(it)j(is)f(p)r(ossible)g(to)h(c)n(hange)e(the)h
(parsing)f(algorithm,)h(b)n(y)g(calling)f(the)i(function)g(")p
Fb(Grammar.set)p 3422 2846 27 4 v 26 w(algorithm)p Fi(".)0
2946 y(The)g(p)r(ossible)f(v)-5 b(alues)27 b(are:)0 3124
y Fb(Grammar.Predicti)o(ve)208 3256 y Fi(in)n(ternally)f(using)h
(normal)f(parsers,)g(with)h(a)g(predictiv)n(e)g(\(recursiv)n(e)f
(descen)n(t)g(without)i(bac)n(ktrac)n(king\))d(algorithm.)0
3420 y Fb(Grammar.Backtrac)o(kin)o(g)208 3552 y Fi(in)n(ternally)h
(using)i(bac)n(ktrac)n(king)d(parsers,)h(with)i(a)f(full)h(bac)n(ktrac)
n(king)d(algorithm,)0 3716 y Fb(Grammar.DefaultA)o(lgo)o(ri)o(th)o(m)
208 3848 y Fi(the)34 b(parsing)f(algorithm)g(is)h(determined)g(b)n(y)g
(the)h(en)n(vironmen)n(t)e(v)-5 b(ariable)33 b("CAMLP5P)-7
b(ARAM".)56 b(If)34 b(this)h(en)n(vi-)208 3948 y(ronmen)n(t)g(v)-5
b(ariable)34 b(exists)h(and)h(con)n(tains)f("b",)i(the)f(parsing)e
(algorithm)g(is)i("bac)n(ktrac)n(king".)57 b(Otherwise)35
b(it)h(is)208 4047 y("predictiv)n(e".)0 4225 y(An)h(in)n(teresting)g
(function,)j(when)d(using)g(then)g(bac)n(ktrac)n(king)e(algorithm,)j
(is)f(")p Fb(Grammar.Entry.)o(par)o(se)p 3460 4225 V
25 w(all)p Fi(")e(whic)n(h)0 4325 y(returns)27 b(all)g(solutions)g(of)h
(a)f(giv)n(en)g(input.)0 4524 y(See)h(details)f(in)h(the)g(c)n(hapter)f
(Library)-7 b(,)26 b(section)h("Grammar)f(mo)r(dule".)0
4756 y Fe(8.6.4)112 b(Errors)37 b(and)h(reco)m(v)m(ery)0
4909 y Fi(In)28 b(extensible)g(grammars,)e(the)j(exceptions)f(are)f
(encapsulated)g(with)i(the)f(exception)g("Plo)r(c.Exc")e(giving)h(the)i
(lo)r(cation)0 5009 y(of)f(the)g(error)d(together)i(with)h(the)g
(exception)f(itself.)0 5208 y(If)j(the)g(parsing)e(algorithm)h(is)g(")p
Fb(Grammar.Predicti)o(ve)o Fi(",)24 b(the)30 b(system)g(in)n(ternally)f
(uses)g(stream)g(parsers.)41 b(Tw)n(o)29 b(excep-)0 5308
y(tions)34 b(ma)n(y)f(happ)r(en:)49 b("Stream.F)-7 b(ailure")32
b(or)h("Stream.Error".)52 b("Stream.F)-7 b(ailure")32
b(indicates)i(that)g(the)g(parsing)e(just)0 5407 y(could)27
b(not)h(start.)36 b("Stream.Error")24 b(indicates)k(that)f(the)h
(parsing)f(started)g(but)h(failed)g(further.)1908 5656
y(55)p eop end
%%Page: 56 58
TeXDict begin 56 57 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 490 a(With)34
b(this)g(algorithm,)f(when)g(the)h(\014rst)f(sym)n(b)r(ol)g(of)g(a)g
(rule)f(has)h(b)r(een)h(accepted,)g(all)f(the)h(sym)n(b)r(ols)e(of)h
(the)h(same)e(rule)0 589 y(m)n(ust)c(b)r(e)g(accepted,)f(otherwise)g
(the)h(exception)f("Stream.Error")d(is)j(raised.)0 789
y(If)f(the)f(parsing)f(algorithm)h(is)g(")p Fb(Grammar.Backtr)o(ack)o
(in)o(g)p Fi(")o(,)20 b(the)26 b(system)f(in)n(ternally)g(uses)g(bac)n
(ktrac)n(king)d(parsers.)35 b(If)25 b(no)0 888 y(solution)g(is)g
(found,)h(the)g(exception)f(")p Fb(Stream.Error)p Fi(")20
b(is)25 b(raised)f(and)i(the)f(lo)r(cation)g(of)g(the)h(error)e(is)h
(the)h(lo)r(cation)e(of)i(the)0 988 y(last)h(unfrozen)h(tok)n(en,)f
(i.e.)37 b(where)27 b(the)h(stream)e(adv)-5 b(anced)28
b(the)f(farthest.)0 1187 y(In)32 b(extensible)h(grammars,)e(unlik)n(e)h
(stream)g(parsers,)f(b)r(efore)h(the)h("Stream.Error")c(exception,)k
(the)g(system)f(attempts)0 1287 y(to)25 b(reco)n(v)n(er)f(the)i(error)d
(b)n(y)j(the)g(follo)n(wing)e(tric)n(k:)35 b(if)26 b(the)g(previous)f
(sym)n(b)r(ol)g(of)h(the)g(rule)f(w)n(as)g(a)g(call)g(to)g(another)g
(en)n(try)-7 b(,)26 b(the)0 1386 y(system)h(calls)g(the)h("con)n(tin)n
(ue")e(function)j(of)e(that)h(en)n(try)-7 b(,)27 b(whic)n(h)h(ma)n(y)f
(resolv)n(e)e(the)j(problem.)0 1619 y Fe(8.6.5)112 b(T)-9
b(ok)m(ens)38 b(starting)g(rules)0 1772 y Fi(Another)g(impro)n(v)n
(emen)n(t)e(\(other)h(than)h(error)e(reco)n(v)n(ery\))f(is)j(that)g
(when)g(a)f(rule)h(starts)f(with)h(sev)n(eral)e(tok)n(ens)h(and/or)0
1872 y(k)n(eyw)n(ords,)42 b(all)f(these)g(tok)n(ens)f(and)h(k)n(eyw)n
(ords)d(are)i(tested)h(in)h(one)e(time,)45 b(and)c(the)g(p)r(ossible)g
("Stream.Error")c(ma)n(y)0 1971 y(happ)r(en,)28 b(only)f(from)g(the)h
(sym)n(b)r(ol)f(follo)n(wing)g(them)h(on,)g(if)g(an)n(y)-7
b(.)0 2245 y Fc(8.7)135 b(The)45 b(Grammar)g(mo)t(dule)0
2427 y Fi(See)28 b(its)f(section)h(in)f(the)h(c)n(hapter)f("Library".)0
2702 y Fc(8.8)135 b(In)l(terface)46 b(with)g(the)f(lexer)0
2884 y Fi(T)-7 b(o)27 b(create)g(a)g(grammar,)f(the)i(function)g(")p
Fb(Grammar.gcreate)o Fi(")21 b(m)n(ust)28 b(b)r(e)g(called,)f(with)i(a)
e(lexer)g(as)g(parameter.)0 3083 y(A)i(simple)f(solution,)g(as)g(p)r
(ossible)g(lexer,)g(is)g(the)h(prede\014ned)f(lexer)g(built)h(b)n(y)f
(")p Fb(Plexer.gmake)38 b(\(\))p Fi(",)28 b(lexer)f(used)i(for)f(the)0
3182 y(OCaml)e(grammar)g(of)h(Camlp5.)36 b(In)27 b(this)g(case,)g(y)n
(ou)f(can)h(just)g(put)h(it)g(as)e(parameter)g(of)h(")p
Fb(Grammar.gcreat)o(e)p Fi(")21 b(and)27 b(it)g(is)0
3282 y(not)h(necessary)d(to)j(read)f(this)h(section.)0
3481 y(The)19 b(section)f(\014rst)g(in)n(tro)r(duces)g(the)h(notion)f
(of)g("tok)n(en)g(patterns")f(whic)n(h)i(are)e(the)i(w)n(a)n(y)f(the)g
(tok)n(ens)g(and)g(k)n(eyw)n(ords)f(sym)n(b)r(ols)0 3581
y(in)35 b(the)g(EXTEND)f(statemen)n(t)g(are)g(represen)n(ted.)56
b(Then)35 b(follo)n(w)e(the)i(description)f(of)g(the)h(t)n(yp)r(e)g(of)
f(the)h(parameter)e(of)0 3681 y(")p Fb(Grammar.gcreate)o
Fi(".)0 3913 y Fe(8.8.1)112 b(T)-9 b(ok)m(en)38 b(patterns)0
4066 y Fi(A)28 b(tok)n(en)f(pattern)g(is)h(a)f(v)-5 b(alue)28
b(of)f(the)h(t)n(yp)r(e)g(de\014ned)g(lik)n(e)f(this:)87
4247 y Fb(type)42 b(pattern)f(=)i(\(string)e(*)i(string\);)0
4429 y Fi(This)28 b(t)n(yp)r(e)f(represen)n(ts)f(v)-5
b(alues)28 b(of)f(the)h(tok)n(en)f(and)h(k)n(eyw)n(ords)d(sym)n(b)r
(ols)i(in)h(the)g(grammar)d(rules.)0 4628 y(F)-7 b(or)31
b(a)g(tok)n(en)g(sym)n(b)r(ol)g(in)h(the)g(grammar)d(rules,)j(the)g
(\014rst)g(string)f(is)g(the)h(tok)n(en)f(constructor)f(name)h
(\(starting)g(with)h(an)0 4728 y(upp)r(ercase)h(c)n(haracter\),)g(the)g
(second)g(string)g(indicates)g(whether)g(the)h(matc)n(h)f(is)g("an)n
(y")f(\(the)i(empt)n(y)f(string\))g(or)g(some)0 4827
y(sp)r(eci\014c)28 b(v)-5 b(alue)27 b(of)h(the)g(tok)n(en)f(\(an)g
(non-empt)n(y)g(string\).)0 5027 y(F)-7 b(or)27 b(a)g(k)n(eyw)n(ord)f
(sym)n(b)r(ol,)h(the)h(\014rst)f(string)g(is)h(empt)n(y)f(and)h(the)g
(second)f(string)g(is)g(the)h(k)n(eyw)n(ord)e(itself.)0
5226 y(F)-7 b(or)27 b(example,)g(giv)n(en)g(this)h(grammar)d(rule:)87
5407 y Fb("for";)41 b(i)i(=)h(LIDENT;)c("=";)i(e1)h(=)g(SELF;)f("to";)f
(e2)i(=)g(SELF)1908 5656 y Fi(56)p eop end
%%Page: 57 59
TeXDict begin 57 58 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a(the)h(di\013eren)n
(t)g(sym)n(b)r(ols)f(and)g(k)n(eyw)n(ords)e(are)i(represen)n(ted)f(b)n
(y)i(the)g(follo)n(wing)e(couples)h(of)h(strings:)125
557 y Fh(\017)41 b Fi(the)28 b(k)n(eyw)n(ord)d("for")h(is)i(represen)n
(ted)e(b)n(y)j Fb(\("",)42 b("for"\))p Fi(,)125 716 y
Fh(\017)f Fi(the)28 b(k)n(eyw)n(ord)d("=")i(b)n(y)h Fb(\("",)42
b("="\))p Fi(,)125 876 y Fh(\017)f Fi(the)28 b(k)n(eyw)n(ord)d("to")i
(b)n(y)h Fb(\("",)42 b("to"\))p Fi(\),)125 1035 y Fh(\017)f
Fi(and)27 b(the)h(tok)n(en)f(sym)n(b)r(ol)g Fb(LIDENT)e
Fi(b)n(y)k Fb(\("LIDENT",)39 b(""\))p Fi(.)0 1202 y(The)28
b(sym)n(b)r(ol)f Fb(UIDENT)41 b("Foo")25 b Fi(in)j(a)g(rule)f(w)n(ould)
g(b)r(e)h(represen)n(ted)e(b)n(y)i(the)g(tok)n(en)f(pattern:)87
1368 y Fb(\("UIDENT",)40 b("Foo"\))0 1534 y Fi(Notice)22
b(that)f(the)h(sym)n(b)r(ol)f(")p Fb(SELF)p Fi(")e(is)j(a)f(sp)r
(eci\014c)h(sym)n(b)r(ol)f(of)g(the)h(EXTEND)g(syn)n(tax:)33
b(it)21 b(do)r(es)h(not)f(corresp)r(ond)f(to)i(a)f(tok)n(en)0
1634 y(pattern)31 b(and)g(is)g(represen)n(ted)e(di\013eren)n(tly)-7
b(.)48 b(A)31 b(tok)n(en)f(constructor)g(name)h(m)n(ust)g(not)g(b)r
(elong)f(to)h(the)h(sp)r(eci\014c)f(sym)n(b)r(ols:)0
1734 y(SELF,)c(NEXT,)h(LIST0,)f(LIST1,)h(OPT)e(and)i(FLA)n(G.)0
1963 y Fe(8.8.2)112 b(The)38 b(lexer)g(record)0 2116
y Fi(The)22 b(t)n(yp)r(e)g(of)g(the)g(parameter)f(of)g(the)i(function)f
(")p Fb(Grammar.gcreate)p Fi(")15 b(is)22 b(")p Fb(lexer)p
Fi(",)e(de\014ned)i(in)g(the)h(mo)r(dule)f(")p Fb(Plexing)p
Fi(".)0 2216 y(It)28 b(is)f(a)h(record)e(t)n(yp)r(e)i(with)g(the)g
(follo)n(wing)e(\014elds:)0 2429 y Fb(tok)p 137 2429
27 4 v 30 w(func)0 2582 y Fi(It)i(is)f(the)h(lexer)f(itself.)38
b(Its)27 b(t)n(yp)r(e)h(is:)87 2749 y Fb(Stream.t)40
b(char)i(->)h(\(Stream.t)d(\(string)h(*)i(string\))e(*)i
(location_functio)o(n\))o(;)0 2915 y Fi(The)35 b(lexer)e(tak)n(es)h(a)g
(c)n(haracter)e(stream)i(as)g(parameter)e(and)j(return)f(a)g(couple)g
(of)g(con)n(taining:)50 b(a)34 b(tok)n(en)g(stream)f(\(the)0
3015 y(tok)n(ens)27 b(b)r(eing)g(represen)n(ted)g(b)n(y)g(a)g(couple)h
(of)f(strings\),)g(and)h(a)f(lo)r(cation)g(function.)0
3214 y(The)i(lo)r(cation)f(function)h(is)g(a)f(function)i(taking,)e(as)
g(parameter,)g(a)g(in)n(teger)g(corresp)r(onding)f(to)i(a)f(tok)n(en)g
(n)n(um)n(b)r(er)h(in)g(the)0 3313 y(stream)d(\(starting)g(from)h
(zero\),)f(and)h(returning)f(the)h(lo)r(cation)f(of)h(this)g(tok)n(en)f
(in)h(the)g(source.)36 b(This)26 b(is)h(imp)r(ortan)n(t)g(to)f(get)0
3413 y(go)r(o)r(d)h(lo)r(cations)g(in)g(the)h(seman)n(tic)g(actions)e
(of)i(the)g(grammar)e(rules.)0 3612 y(Notice)f(that,)h(despite)g(the)f
(lexer)g(taking)g(a)f(c)n(haracter)g(stream)g(as)h(parameter,)f(it)i
(is)f(not)g(mandatory)f(to)h(use)g(the)h(stream)0 3712
y(parsers)g(tec)n(hnology)g(to)h(write)h(the)g(lexer.)36
b(What)28 b(is)f(imp)r(ortan)n(t)h(is)f(that)h(it)g(do)r(es)f(the)h
(job.)0 3925 y Fb(tok)p 137 3925 V 30 w(using)0 4078
y Fi(Is)f(a)h(function)g(of)f(t)n(yp)r(e:)87 4245 y Fb(pattern)41
b(->)i(unit)0 4411 y Fi(The)34 b(parameter)e(of)h(this)h(function)g(is)
f(the)h(represen)n(tation)e(of)h(a)g(tok)n(en)g(sym)n(b)r(ol)g(or)g(a)g
(k)n(eyw)n(ord)e(sym)n(b)r(ol)i(in)h(grammar)0 4511 y(rules.)i(See)28
b(the)g(section)f(ab)r(out)h(tok)n(en)f(patterns.)0 4710
y(This)33 b(function)h(is)g(called)f(for)f(eac)n(h)h(tok)n(en)g(sym)n
(b)r(ol)g(and)g(eac)n(h)g(k)n(eyw)n(ord)e(encoun)n(tered)i(in)g(the)h
(grammar)e(rules)g(of)i(the)0 4809 y(EXTEND)f(statemen)n(t.)53
b(Its)33 b(goal)f(is)h(to)g(allo)n(w)f(the)h(lexer)f(to)h(c)n(hec)n(k)f
(that)i(the)f(tok)n(ens)f(and)h(k)n(eyw)n(ords)e(do)i(resp)r(ect)g(the)
0 4909 y(lexer)27 b(rules.)36 b(It)28 b(c)n(hec)n(ks)e(that)i(the)g
(tok)n(ens)e(exist)i(and)f(are)g(not)g(misp)r(elled.)37
b(It)28 b(can)f(b)r(e)h(also)f(used)g(to)g(en)n(ter)g(the)h(k)n(eyw)n
(ords)0 5009 y(in)g(the)g(lexer)f(k)n(eyw)n(ord)e(tables.)0
5208 y(Setting)j(it)g(as)f(the)h(function)g(that)g(do)r(es)f(nothing)h
(is)f(p)r(ossible,)g(but)i(the)f(c)n(hec)n(k)e(of)i(correctness)e(of)h
(tok)n(ens)g(is)g(not)h(done.)0 5407 y(In)22 b(case)f(or)g(error,)g
(the)i(function)f(m)n(ust)g(raise)f(the)h(exception)g(")p
Fb(Plexing.Error)p Fi(")16 b(with)22 b(an)g(error)e(message)g(as)h
(parameter.)1908 5656 y(57)p eop end
%%Page: 58 60
TeXDict begin 58 59 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Fb(tok)p
137 390 27 4 v 30 w(removing)0 548 y Fi(Is)g(a)h(function)g(of)f(t)n
(yp)r(e:)87 745 y Fb(pattern)41 b(->)i(unit)0 938 y Fi(It)19
b(is)f(p)r(ossibly)g(called)g(b)n(y)g(the)h(DELETE)p
1282 938 25 4 v 29 w(R)n(ULE)f(statemen)n(t)g(for)g(tok)n(ens)f(and)i
(k)n(eyw)n(ords)d(no)i(longer)f(used)i(in)f(the)h(grammar.)0
1038 y(The)28 b(grammar)f(system)h(main)n(tains)g(a)g(n)n(um)n(b)r(er)g
(of)g(usages)f(of)i(all)f(tok)n(ens)f(and)i(k)n(eyw)n(ords)d(and)i
(calls)g(this)h(function)f(only)0 1137 y(when)j(this)g(n)n(um)n(b)r(er)
f(reac)n(hes)f(zero.)46 b(This)30 b(can)h(b)r(e)g(in)n(teresting)f(for)
g(k)n(eyw)n(ords:)41 b(the)31 b(lexer)f(can)g(remo)n(v)n(e)f(them)j
(from)e(its)0 1237 y(tables.)0 1467 y Fb(tok)p 137 1467
27 4 v 30 w(match)0 1625 y Fi(Is)d(a)h(function)g(of)f(t)n(yp)r(e:)87
1822 y Fb(pattern)41 b(->)i(\(\(string)d(*)j(string\))e(->)i(unit\))0
2015 y Fi(The)24 b(function)h(tells)g(ho)n(w)e(a)h(tok)n(en)g(of)g(the)
h(input)g(stream)e(is)i(matc)n(hed)f(against)f(a)h(tok)n(en)f(pattern.)
36 b(Both)24 b(are)f(represen)n(ted)0 2115 y(b)n(y)k(a)g(couple)h(of)f
(strings.)0 2319 y(This)34 b(function)i(tak)n(es)d(a)h(tok)n(en)g
(pattern)h(as)e(parameter)g(and)i(return)f(a)g(function)h(matc)n(hing)f
(a)g(tok)n(en,)i(returning)e(the)0 2419 y(matc)n(hed)27
b(string)g(or)g(raising)f(the)i(exception)g(")p Fb(Stream.Failure)o
Fi(")21 b(if)29 b(the)e(tok)n(en)g(do)r(es)h(not)f(matc)n(h.)0
2624 y(Notice)j(that,)h(for)e(e\016ciency)-7 b(,)30 b(it)h(is)e
(necessary)f(to)i(write)g(this)g(function)g(as)f(a)h(matc)n(h)f(of)h
(tok)n(en)f(patterns)h(returning,)g(for)0 2723 y(eac)n(h)e(case,)g(the)
h(function)h(whic)n(h)e(matc)n(hes)g(the)h(tok)n(en,)g
Fa(not)36 b Fi(a)29 b(function)g(matc)n(hing)f(the)h(tok)n(en)f
(pattern)h(and)g(the)g(tok)n(en)0 2823 y(together)e(and)g(returning)g
(a)g(string)g(for)g(eac)n(h)g(case.)0 3027 y(An)h(acceptable)f
(function)h(is)g(pro)n(vided)e(in)i(the)g(mo)r(dule)g(")p
Fb(Plexing)p Fi(")c(and)j(is)h(named)f("default)p 3051
3027 25 4 v 30 w(matc)n(h".)36 b(Its)28 b(co)r(de)f(lo)r(oks)0
3127 y(lik)n(e)g(this:)87 3323 y Fb(value)42 b(default_match)c(=)174
3423 y(fun)174 3522 y([)44 b(\(p_con,)c(""\))j(->)349
3622 y(fun)f(\(con,)g(prm\))f(->)i(if)g(con)f(=)i(p_con)d(then)h(prm)g
(else)g(raise)g(Stream.Failure)174 3722 y(|)i(\(p_con,)c(p_prm\))h(->)
349 3821 y(fun)h(\(con,)g(prm\))f(->)436 3921 y(if)i(con)f(=)h(p_con)f
(\\&\\&)g(prm)g(=)h(p_prm)f(then)g(prm)g(else)g(raise)f(Stream.Failure)
d(])87 4021 y(;)0 4251 y(tok)p 137 4251 27 4 v 30 w(text)0
4409 y Fi(Is)27 b(a)h(function)g(of)f(t)n(yp)r(e:)87
4605 y Fb(pattern)41 b(->)i(string)0 4799 y Fi(Designed)27
b(for)h(error)d(messages,)h(it)i(tak)n(es)f(a)g(tok)n(en)g(pattern)g
(as)g(parameter)f(and)i(returns)f(the)h(string)f(giving)f(its)i(name.)0
5003 y(It)e(is)f(p)r(ossible)g(to)g(use)g(the)h(prede\014ned)g
(function)f(")p Fb(lexer)p 1849 5003 V 29 w(text)p Fi(")f(of)h(the)h
(Plexing)e(mo)r(dule.)37 b(This)25 b(function)h(just)g(returns)0
5103 y(the)i(name)f(of)h(the)g(tok)n(en)f(pattern)g(constructor)f(and)i
(its)g(parameter)e(if)i(an)n(y)-7 b(.)0 5308 y(F)g(or)36
b(example,)j(with)e(this)g(default)g(function,)j(the)d(tok)n(en)f(sym)n
(b)r(ol)h(IDENT)g(w)n(ould)f(b)r(e)h(written)g(as)f(IDENT)h(in)g(error)
0 5407 y(message)19 b(\(e.g.)34 b("IDENT)20 b(exp)r(ected"\).)35
b(The)20 b("text")g(function)h(ma)n(y)e(decide)i(to)f(prin)n(t)g(it)h
(di\013eren)n(tly)-7 b(,)22 b(e.g.,)f(as)f("iden)n(ti\014er".)1908
5656 y(58)p eop end
%%Page: 59 61
TeXDict begin 59 60 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a Fb(tok)p
137 390 27 4 v 30 w(comm)0 553 y Fi(Is)g(a)h(m)n(utable)f(\014eld)h(of)
g(t)n(yp)r(e:)87 760 y Fb(option)41 b(\(list)h(location\))0
963 y Fi(It)31 b(asks)e(the)h(lexer)g(\(the)h(lexer)e(function)i
(should)f(do)g(it\))h(to)f(record)f(the)h(lo)r(cations)f(of)i(the)f
(commen)n(ts)g(in)g(the)h(program.)0 1063 y(Setting)26
b(this)g(\014eld)h(to)e("None")g(indicates)h(that)g(the)g(lexer)g(m)n
(ust)g(not)f(record)g(them.)37 b(Setting)26 b(it)g(to)g("Some)f([]")h
(indicated)0 1162 y(that)i(the)g(lexer)f(m)n(ust)g(put)i(the)f(commen)n
(ts)f(lo)r(cation)g(list)h(in)f(the)h(\014eld,)g(whic)n(h)g(is)f(m)n
(utable.)0 1421 y Fe(8.8.3)112 b(Minimalist)40 b(v)m(ersion)0
1584 y Fi(If)22 b(a)f(lexer)g(ha)n(v)n(e)f(b)r(een)i(written,)h(named)f
(")p Fb(lexer)p Fi(",)e(here)h(is)g(the)h(minimalist)g(v)n(ersion)e(of)
i(the)g(v)-5 b(alue)21 b(suitable)h(as)f(parameter)0
1683 y(to)27 b(")p Fb(Grammar.gcreate)p Fi(")o(:)87 1891
y Fb({Plexing.tok_func)37 b(=)43 b(lexer;)131 1991 y(Plexing.tok_usin)o
(g)37 b(_)43 b(=)h(\(\);)e(Plexing.tok_remo)o(vin)o(g)37
b(_)43 b(=)h(\(\);)131 2090 y(Plexing.tok_matc)o(h)37
b(=)43 b(Plexing.default_m)o(atc)o(h;)131 2190 y(Plexing.tok_text)37
b(=)43 b(Plexing.lexer_te)o(xt)o(;)131 2290 y(Plexing.tok_comm)37
b(=)43 b(None})0 2591 y Fc(8.9)135 b(F)-11 b(unctorial)45
b(in)l(terface)0 2782 y Fi(The)28 b(normal)e(in)n(terface)h(for)g
(grammars)f(describ)r(ed)h(in)h(the)g(previous)e(sections)h(has)g(t)n
(w)n(o)g(dra)n(wbac)n(ks:)125 2985 y Fh(\017)41 b Fi(First,)27
b(the)h(t)n(yp)r(e)g(of)f(tok)n(ens)g(of)h(the)g(lexers)e(m)n(ust)i(b)r
(e)g(")p Fb(\(string)40 b(*)j(string\))p Fi(")125 3171
y Fh(\017)e Fi(Second,)25 b(since)f(the)h(en)n(try)f(t)n(yp)r(e)h(has)f
(no)h(parameter)e(to)h(sp)r(ecify)h(the)g(grammar)e(it)i(is)g(b)r(ound)
g(to,)g(there)f(is)h(no)f(static)208 3270 y(c)n(hec)n(k)i(that)i(en)n
(tries)f(are)g(compatible,)g(i.e.)37 b(b)r(elong)27 b(to)h(the)g(same)f
(grammar.)35 b(The)27 b(c)n(hec)n(k)g(is)g(done)h(at)f(run)h(time.)0
3473 y(The)33 b(functorial)g(in)n(terface)g(resolv)n(e)f(these)h(t)n(w)
n(o)f(problems.)54 b(The)33 b(functor)g(tak)n(es)g(a)g(mo)r(dule)g(as)g
(parameter)f(where)h(the)0 3572 y(tok)n(en)25 b(t)n(yp)r(e)h(has)g(to)g
(b)r(e)g(de\014ned,)g(together)f(with)i(the)f(lexer)f(returning)g
(streams)g(of)h(tok)n(ens)f(of)h(this)g(t)n(yp)r(e.)37
b(The)26 b(resulting)0 3672 y(mo)r(dule)i(de\014ne)g(en)n(tries)f
(compatible)g(the)h(ones)f(to)g(the)h(other,)f(and)h(this)g(is)f(con)n
(trolled)g(b)n(y)g(the)h(OCaml)f(t)n(yp)r(e)h(c)n(hec)n(k)n(er.)0
3881 y(The)i(syn)n(tax)e(extension)h(m)n(ust)h(b)r(e)g(done)f(with)h
(the)g(statemen)n(t)g(GEXTEND,)g(instead)f(of)h(EXTEND,)f(and)h
(deletion)f(b)n(y)0 3981 y(GDELETE)p 416 3981 25 4 v
29 w(R)n(ULE)e(instead)g(of)h(DELETE)p 1429 3981 V 29
w(R)n(ULE.)0 4240 y Fe(8.9.1)112 b(The)38 b(lexer)g(t)m(yp)s(e)0
4403 y Fi(In)22 b(the)f(section)g(ab)r(out)g(the)h(in)n(terface)f(with)
h(the)f(lexer,)h(w)n(e)f(presen)n(ted)g(the)h(")p Fb(Plexing.lexer)p
Fi(")15 b(t)n(yp)r(e)21 b(as)g(a)g(record)f(without)0
4502 y(t)n(yp)r(e)28 b(parameter.)35 b(Actually)-7 b(,)28
b(this)g(t)n(yp)r(e)g(is)f(de\014ned)h(as:)87 4710 y
Fb(type)42 b(lexer)g('te)g(=)174 4809 y({)i(tok_func)c(:)j(lexer_func)c
('te;)262 4909 y(tok_using)g(:)44 b(pattern)c(->)j(unit;)262
5009 y(tok_removing)38 b(:)43 b(pattern)e(->)i(unit;)262
5108 y(tok_match)c(:)44 b(pattern)c(->)j('te)f(->)h(string;)262
5208 y(tok_text)d(:)j(pattern)e(->)h(string;)262 5308
y(tok_comm)e(:)j(mutable)e(option)g(\(list)g(location\))f(})87
5407 y(;)1908 5656 y Fi(59)p eop end
%%Page: 60 62
TeXDict begin 60 61 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a(where)39
b(the)h(t)n(yp)r(e)f(parameter)f(is)h(the)h(t)n(yp)r(e)g(of)f(the)h
(tok)n(en,)h(whic)n(h)f(can)f(b)r(e)h(an)n(y)e(t)n(yp)r(e,)43
b(di\013eren)n(t)c(from)g(")p Fb(\(string)h(*)0 490 y(string\))p
Fi(",)i(pro)n(viding)d(the)j(lexer)f(function)h(\()p
Fb(tok)p 1677 490 27 4 v 30 w(func)p Fi(\))e(returns)h(a)g(stream)f(of)
i(this)f(tok)n(en)g(t)n(yp)r(e)g(and)h(the)f(matc)n(h)0
589 y(function)34 b(\()p Fb(tok)p 500 589 V 30 w(match)p
Fi(\))e(indicates)h(ho)n(w)g(to)h(matc)n(h)f(v)-5 b(alues)33
b(of)g(this)h(tok)n(en)f(t)n(yp)r(e)h(against)e(the)i(tok)n(en)f
(patterns)g(\(whic)n(h)0 689 y(remain)27 b(de\014ned)h(as)f(")p
Fb(\(string)40 b(*)j(string\))p Fi("\).)0 896 y(Here)27
b(is)h(an)f(example)g(of)h(an)f(user)g(tok)n(en)g(t)n(yp)r(e)h(and)f
(the)h(asso)r(ciated)f(matc)n(h)g(function:)87 1096 y
Fb(type)42 b(mytoken)f(=)174 1196 y([)j(Ident)d(of)i(string)174
1296 y(|)h(Int)e(of)h(int)174 1395 y(|)h(Comma)d(|)i(Equal)174
1495 y(|)h(Keyw)d(of)i(string)85 b(])87 1594 y(;)87 1794
y(value)42 b(mymatch)e(=)174 1893 y(fun)174 1993 y([)k(\("IDENT",)39
b(""\))k(->)349 2093 y(fun)f([)h(Ident)f(s)h(->)g(s)g(|)g(_)g(->)g
(raise)e(Stream.Failure)d(])174 2192 y(|)44 b(\("INT",)c(""\))j(->)349
2292 y(fun)f([)h(Int)g(i)g(->)f(string_of_int)d(i)k(|)g(_)g(->)g(raise)
e(Stream.Failure)d(])174 2391 y(|)44 b(\("",)d(","\))h(->)349
2491 y(fun)g([)h(Comma)f(->)g("")h(|)g(_)h(->)e(raise)g(Stream.Failure)
c(])174 2591 y(|)44 b(\("",)d("="\))h(->)349 2690 y(fun)g([)h(Equal)f
(->)g("")h(|)g(_)h(->)e(raise)g(Stream.Failure)c(])174
2790 y(|)44 b(\("",)d(s\))i(->)349 2890 y(fun)349 2989
y([)g(Keyw)f(k)h(->)g(if)f(k)i(=)f(s)g(then)f("")h(else)f(raise)f
(Stream.Failure)349 3089 y(|)i(_)g(->)g(raise)e(Stream.Failure)d(])174
3188 y(|)44 b(_)f(->)f(raise)g(\(Plexing.Error)c("bad)k(token)f(in)i
(match)e(function"\))f(])87 3288 y(;)0 3540 y Fe(8.9.2)112
b(The)38 b(functor)g(parameter)0 3700 y Fi(The)28 b(t)n(yp)r(e)f(of)h
(the)g(functor)f(parameter)g(is)g(de\014ned)h(as:)87
3900 y Fb(module)41 b(type)h(GLexerType)e(=)174 4000
y(sig)262 4100 y(type)h(te)i(=)g('x;)262 4199 y(value)e(lexer)h(:)h
(Plexing.lexer)38 b(te;)174 4299 y(end;)0 4496 y Fi(The)30
b(tok)n(en)g(t)n(yp)r(e)h(m)n(ust)g(b)r(e)f(sp)r(eci\014ed)h(\(t)n(yp)r
(e)g(")p Fb(te)p Fi("\))e(and)h(the)h(lexer)f(also,)g(with)h(the)g(in)n
(terface)e(for)h(lexers,)h(of)f(the)h(lexer)0 4596 y(t)n(yp)r(e)i
(de\014ned)g(ab)r(o)n(v)n(e,)g(the)g(record)f(\014elds)h(b)r(eing)g
(describ)r(ed)f(in)i(the)f(section)f("in)n(terface)g(with)h(the)h
(lexer",)f(but)g(with)g(a)0 4695 y(general)26 b(tok)n(en)h(t)n(yp)r(e.)
0 4947 y Fe(8.9.3)112 b(The)38 b(resulting)g(grammar)h(mo)s(dule)0
5107 y Fi(Once)29 b(a)h(mo)r(dule)g(of)g(t)n(yp)r(e)g(")p
Fb(GLexerType)p Fi(")24 b(has)30 b(b)r(een)g(built)g(\(previous)f
(section\),)i(it)f(is)g(p)r(ossible)f(to)h(create)f(a)g(grammar)0
5206 y(mo)r(dule)f(b)n(y)f(applying)g(the)h(functor)g(")p
Fb(Grammar.GMake)p Fi(")o(.)j(F)-7 b(or)27 b(example:)87
5407 y Fb(module)41 b(MyGram)g(=)j(Grammar.GMake)38 b(MyLexer;)1908
5656 y Fi(60)p eop end
%%Page: 61 63
TeXDict begin 61 62 bop 2246 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 0 390 a(Notice)32
b(that)h(the)f(function)h(")p Fb(Entry.parse)p Fi(")27
b(of)32 b(this)g(resulting)g(mo)r(dule)g(do)r(es)g(not)g(tak)n(e)g(a)g
(c)n(haracter)e(stream)h(as)h(pa-)0 490 y(rameter,)c(but)h(a)g(v)-5
b(alue)29 b(of)f(t)n(yp)r(e)h(")p Fb(parsable)p Fi(".)37
b(This)28 b(function)i(is)e(equiv)-5 b(alen)n(t)29 b(to)g(the)g
(function)g(")p Fb(parse)p 3390 490 27 4 v 29 w(parsable)p
Fi(")c(of)0 589 y(the)30 b(non)f(functorial)g(in)n(terface.)41
b(In)30 b(short,)f(the)h(parsing)e(of)h(some)g(c)n(haracter)e(stream)i
(")p Fb(cs)p Fi(")f(b)n(y)h(some)g(en)n(try)f(")p Fb(e)p
Fi(")g(of)i(the)0 689 y(example)d(grammar)f(ab)r(o)n(v)n(e,)g(m)n(ust)i
(b)r(e)g(done)f(b)n(y:)87 870 y Fb(MyGram.Entry.pars)o(e)37
b(e)43 b(\(MyGram.parsable)37 b(cs\))0 1051 y Fi(instead)27
b(of:)87 1233 y Fb(MyGram.Entry.pars)o(e)37 b(e)43 b(cs)0
1465 y Fe(8.9.4)112 b(GEXTEND)36 b(and)j(GDELETE)p 1716
1465 34 4 v 39 w(R)m(ULE)0 1618 y Fi(The)31 b(")p Fb(GEXTEND)p
Fi(")c(and)k(")p Fb(GDELETE)p 1113 1618 27 4 v 28 w(RULE)p
Fi(")e(statemen)n(ts)i(are)f(also)g(added)h(in)g(the)h(expressions)d
(of)i(the)g(OCaml)g(language)0 1718 y(when)g(the)g(syn)n(tax)e
(extension)i(kit)f(")p Fb(pa)p 1269 1718 V 31 w(extend.cmo)p
Fi(")c(is)k(loaded.)45 b(They)31 b(m)n(ust)g(b)r(e)g(used)f(for)g
(grammars)f(de\014ned)i(with)0 1817 y(the)d(functorial)f(in)n(terface.)
36 b(Their)28 b(syn)n(tax)e(is:)479 1998 y Fb(expression)40
b(::=)i(gextend)1046 2098 y(|)h(gdelete-rule)392 2198
y(gdelete-rule)c(::=)j("GDELETE_RULE")c(gdelete-rule-bod)o(y)g("END")
610 2297 y(gextend)j(::=)h("GEXTEND")e(gextend-body)f("END")392
2397 y(gextend-body)g(::=)j(grammar-module-na)o(me)37
b(extend-body)174 2497 y(gdelete-rule-body)g(::=)42 b
(grammar-module-na)o(me)37 b(delete-rule-body)87 2596
y(grammar-module-na)o(me)g(::=)42 b(qualid)0 2777 y Fi(See)28
b(the)g(syn)n(tax)e(of)i(the)g(EXTEND)f(statemen)n(t)h(for)f(the)h
(meaning)f(of)h(the)g(syn)n(tax)e(en)n(tries)h(not)h(de\014ned)g(ab)r
(o)n(v)n(e.)0 3052 y Fc(8.10)136 b(An)44 b(example:)61
b(arithmetic)47 b(calculator)0 3233 y Fi(Here)27 b(is)h(a)f(small)g
(calculator)f(of)i(expressions.)35 b(They)27 b(are)g(giv)n(en)g(as)g
(parameters)f(of)h(the)h(command.)0 3433 y(File)g("calc.ml":)87
3614 y Fb(#load)42 b("pa_extend.cmo")o(;)87 3813 y(value)g(g)h(=)g
(Grammar.gcreate)37 b(\(Plexer.gmake)i(\(\)\);)87 3913
y(value)j(e)h(=)g(Grammar.Entry.cr)o(eat)o(e)37 b(g)44
b("expression";)87 4112 y(EXTEND)174 4212 y(e:)262 4311
y([)f([)g(x)g(=)g(e;)g("+";)f(y)h(=)g(e)g(->)g(x)g(+)h(y)349
4411 y(|)f(x)g(=)g(e;)g("-";)f(y)h(=)g(e)g(->)g(x)g(-)h(y)f(])262
4511 y(|)g([)g(x)g(=)g(e;)g("*";)f(y)h(=)g(e)g(->)g(x)g(*)h(y)349
4610 y(|)f(x)g(=)g(e;)g("/";)f(y)h(=)g(e)g(->)g(x)g(/)h(y)f(])262
4710 y(|)g([)g(x)g(=)g(INT)g(->)f(int_of_string)d(x)349
4809 y(|)k("\(";)f(x)h(=)g(e;)g("\)")f(->)h(x)g(])g(])174
4909 y(;)87 5009 y(END;)87 5208 y(open)f(Printf;)87 5407
y(for)h(i)g(=)g(1)g(to)g(Array.length)38 b(Sys.argv)j(-)i(1)g(do)g({)
1908 5656 y Fi(61)p eop end
%%Page: 62 64
TeXDict begin 62 63 bop 0 70 a Fi(CHAPTER)27 b(8.)64
b(EXTENSIBLE)27 b(GRAMMARS)p 0 103 3900 4 v 174 390 a
Fb(let)43 b(r)g(=)g(Grammar.Entry.pa)o(rse)37 b(e)43
b(\(Stream.of_strin)o(g)37 b(Sys.argv.\(i\)\))i(in)174
490 y(printf)i("\\\045s)h(=)i(\\\045d\\n")d(Sys.argv.\(i\))d(r;)174
589 y(flush)k(stdout;)87 689 y(};)0 872 y Fi(The)28 b(link)f(needs)h
(the)g(library)e("gramlib.cma")f(pro)n(vided)i(with)h(Camlp5:)87
1054 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(-I)j(+camlp5)e(gramlib.cma)e
(test/calc.ml)f(-o)43 b(calc)0 1237 y Fi(Examples:)87
1420 y Fb($)g(./calc)e('239*4649')87 1519 y(239*4649)f(=)k(1111111)87
1619 y($)f(./calc)e('\(47+2\)/3')87 1719 y(\(47+2\)/3)f(=)k(16)1908
5656 y Fi(62)p eop end
%%Page: 63 65
TeXDict begin 63 64 bop 1655 2049 a Fd(P)-5 b(art)65
b(I)5 b(I)1248 2464 y Fg(Prin)-6 b(ting)77 b(to)6 b(ols)1908
5656 y Fi(63)p eop end
%%Page: 64 66
TeXDict begin 64 65 bop eop end
%%Page: 65 67
TeXDict begin 65 66 bop 0 1014 a Fd(Chapter)65 b(9)0
1431 y Fg(Extensible)76 b(prin)-6 b(ters)0 1865 y Fi(This)28
b(c)n(hapter)e(describ)r(es)h(the)h(syn)n(tax)f(and)g(seman)n(tics)g
(of)h(the)g(extensible)f(prin)n(ters)g(of)h(Camlp5.)0
2067 y(Similar)k(to)h(the)g(extensible)g(grammars,)f(the)h(extensible)g
(prin)n(ters)e(allo)n(w)h(to)h(de\014ne)g(and)f(extend)h(prin)n(ters)f
(of)h(data)f(or)0 2167 y(programs.)j(A)28 b(sp)r(eci\014c)f(statemen)n
(t)h(")p Fb(EXTEND)p 1473 2167 27 4 v 28 w(PRINTER)p
Fi(")d(allo)n(w)h(to)h(de\014ne)h(these)g(extensions.)0
2450 y Fc(9.1)135 b(Getting)46 b(started)0 2635 y Fi(A)26
b(prin)n(ter)e(is)h(a)g(v)-5 b(alue)25 b(of)h(t)n(yp)r(e)f(")p
Fb(Eprinter.t)39 b(a)p Fi(")25 b(where)f(")p Fb(a)p Fi(")g(is)h(the)h
(t)n(yp)r(e)g(of)f(the)h(item)f(to)g(b)r(e)h(prin)n(ted.)36
b(When)26 b(applied,)0 2734 y(a)h(prin)n(ter)g(returns)g(a)g(string,)g
(represen)n(ting)f(the)i(prin)n(ted)g(item.)0 2937 y(T)-7
b(o)22 b(create)f(a)h(prin)n(ter,)h(one)f(m)n(ust)g(use)g(the)h
(function)g(")p Fb(Eprinter.make)p Fi(")16 b(with,)24
b(as)d(parameter,)h(the)h(name)f(of)g(the)h(prin)n(ter,)0
3036 y(\(used)28 b(in)g(error)d(messages\).)36 b(A)28
b(prin)n(ter)f(is)g(created)g(empt)n(y)-7 b(,)28 b(i.e.)37
b(it)28 b(fails)f(if)h(it)g(is)g(applied.)0 3239 y(As)d(with)g(grammar)
d(en)n(tries,)j(prin)n(ters)e(ma)n(y)h(ha)n(v)n(e)g(sev)n(eral)e(lev)n
(els.)36 b(When)25 b(the)g(function)g(")p Fb(Eprinter.apply)o
Fi(")19 b(is)24 b(applied)0 3339 y(to)i(a)h(prin)n(ter,)f(the)h
(\014rst)f(lev)n(el)g(is)h(called.)36 b(The)27 b(function)g(")p
Fb(Eprinter.apply)p 2473 3339 V 25 w(level)p Fi(")d(allo)n(ws)h(to)i
(call)f(a)g(prin)n(ter)g(at)h(some)0 3438 y(sp)r(eci\014c)34
b(lev)n(el)f(p)r(ossibly)h(di\013eren)n(t)f(from)h(the)g(\014rst)g
(one.)55 b(When)34 b(a)f(lev)n(el)h(do)r(es)f(not)h(matc)n(h)g(an)n(y)f
(v)-5 b(alue)33 b(of)h(the)g(prin)n(ted)0 3538 y(item,)28
b(the)g(next)g(lev)n(el)f(is)h(tested.)37 b(If)28 b(there)f(is)h(no)f
(more)g(lev)n(els,)g(the)h(prin)n(ter)f(fails.)0 3740
y(In)d(seman)n(tic)g(actions)g(of)g(prin)n(ters,)g(functions)g(are)f
(pro)n(vided)h(to)g(recursiv)n(ely)e(call)i(the)g(curren)n(t)g(lev)n
(el)f(and)i(the)f(next)h(lev)n(el.)0 3840 y(Moreo)n(v)n(er,)k(a)h
Fa(printing)j(c)l(ontext)k Fi(v)-5 b(ariable)30 b(is)g(also)g(giv)n
(en,)g(giving)g(the)h(curren)n(t)f(inden)n(tation,)h(what)g(should)f(b)
r(e)h(prin)n(ted)0 3940 y(b)r(efore)25 b(in)h(the)g(same)f(line)h(and)f
(what)h(should)f(b)r(e)h(prin)n(ted)g(after)f(in)h(the)g(same)f(line)h
(\(it)g(is)f(not)h(mandatory)e(to)i(use)f(them\).)0 4142
y(The)40 b(extension)g(of)g(prin)n(ters)f(can)h(b)r(e)g(done)g(with)h
(the)f(")p Fb(EXTEND)p 2159 4142 V 29 w(PRINTER)p Fi(")c(statemen)n(t)k
(added)g(b)n(y)g(the)h Fa(p)l(arsing)h(kit)0 4242 y Fi(")p
Fb(pa)p 135 4242 V 30 w(extprint.cmo)p Fi(".)0 4525 y
Fc(9.2)135 b(Syn)l(tax)46 b(of)f(the)g(EXTEND)p 1731
4525 41 4 v 48 w(PRINTER)h(statemen)l(t)349 4710 y Fb(expression)39
b(::=)j(extend-statement)87 4809 y(extend-statement)37
b(::=)42 b("EXTEND_PRINTER")37 b(extend-body)i("END")305
4909 y(extend-body)g(::=)j(extend-printers)131 5009 y(extend-printers)
37 b(::=)42 b(extend-printer)c(extend-printers)915 5108
y(|)43 b(<nothing>)174 5208 y(extend-printer)38 b(::=)k(printer-name)d
(":")j(position-opt)d("[")j(levels)g("]")262 5308 y(position-opt)c(::=)
k("FIRST")915 5407 y(|)h("LAST")1908 5656 y Fi(65)p eop
end
%%Page: 66 68
TeXDict begin 66 67 bop 0 70 a Fi(CHAPTER)27 b(9.)64
b(EXTENSIBLE)27 b(PRINTERS)p 0 103 3900 4 v 915 390 a
Fb(|)43 b("BEFORE")e(label)915 490 y(|)i("AFTER")e(label)915
589 y(|)i("LEVEL")e(label)915 689 y(|)i(<nothing>)523
789 y(levels)e(::=)h(level)g("|")g(levels)915 888 y(|)h(level)567
988 y(level)e(::=)h(label-opt)e("[")j(rules)e("]")392
1088 y(label-opt)f(::=)i(label)915 1187 y(|)h(<nothing>)567
1287 y(rules)e(::=)h(rule)g("|")h(rules)915 1386 y(|)g(rule)610
1486 y(rule)f(::=)g(pattern)f("->")h(expression)915 1586
y(|)h(pattern)e("when")g(expression)f("->")i(expression)262
1685 y(printer-name)c(::=)k(qualid)523 1785 y(qualid)f(::=)h(qualid)g
(".")g(qualid)915 1885 y(|)h(uident)915 1984 y(|)g(lident)523
2084 y(uident)e(::=)h('A'-'Z')f(ident)523 2183 y(lident)g(::=)h
(\('a'-'z')f(|)i('_')f(|)h(utf8-byte\))d(ident)567 2283
y(ident)h(::=)h(ident-char*)349 2383 y(ident-char)d(::=)j(\('a'-'a')f
(|)i('A'-'Z')e(|)i('0'-'9')d(|)k('_')e(|)h(''')g(|)g(utf8-byte\))392
2482 y(utf8-byte)d(::=)i('\\128'-'\\255')0 2795 y Fc(9.3)135
b(Seman)l(tics)46 b(of)f(EXTEND)p 1679 2795 41 4 v 49
w(PRINTER)0 3007 y Fe(9.3.1)112 b(Prin)m(ters)37 b(de\014nition)i(list)
0 3174 y Fi(All)22 b(prin)n(ters)f(are)g(extended)h(according)e(to)i
(their)g(corresp)r(onding)e(de\014nitions)i(whic)n(h)g(start)f(with)h
(an)g(optional)f("p)r(osition")0 3273 y(and)27 b(follo)n(w)g(with)h
(the)g("lev)n(els")e(de\014nition.)0 3527 y Ff(Optional)31
b(p)s(osition)0 3694 y Fi(After)d(the)g(colon,)f(it)h(is)f(p)r(ossible)
h(to)f(sp)r(ecify)h(where)f(to)h(insert)f(the)h(de\014ned)g(lev)n(els:)
125 3905 y Fh(\017)41 b Fi(The)26 b(iden)n(ti\014er)h(")p
Fb(FIRST)p Fi(")d(\(resp.)36 b(")p Fb(LAST)p Fi("\))25
b(indicates)h(that)i(the)f(lev)n(el)f(m)n(ust)h(b)r(e)g(inserted)g(b)r
(efore)f(\(resp.)37 b(after\))26 b(all)208 4005 y(p)r(ossibly)h
(existing)g(lev)n(els)g(of)g(the)h(en)n(try)-7 b(.)37
b(They)27 b(b)r(ecome)h(their)f(\014rst)h(\(resp.)36
b(last\))28 b(lev)n(els.)125 4200 y Fh(\017)41 b Fi(The)31
b(iden)n(ti\014er)h(")p Fb(BEFORE)p Fi(")d(\(resp.)49
b(")p Fb(AFTER)p Fi("\))29 b(follo)n(w)n(ed)i(b)n(y)g(a)h(lev)n(el)f
(lab)r(el)h(\(a)f(string\))h(indicates)g(that)g(the)g(lev)n(els)208
4299 y(m)n(ust)d(b)r(e)h(inserted)f(b)r(efore)g(\(resp.)41
b(after\))29 b(that)h(lev)n(el,)f(if)h(it)f(exists.)42
b(If)30 b(it)f(do)r(es)g(not)g(exist,)h(the)g(extend)f(statemen)n(t)208
4399 y(fails)e(at)g(run)h(time.)125 4594 y Fh(\017)41
b Fi(The)24 b(iden)n(ti\014er)h(")p Fb(LEVEL)p Fi(")d(follo)n(w)n(ed)i
(b)n(y)g(a)h(lab)r(el)g(indicates)f(that)h(the)h(\014rst)e(lev)n(el)h
(de\014ned)g(in)g(the)g(extend)g(statemen)n(t)208 4693
y(m)n(ust)40 b(b)r(e)h(inserted)f(at)g(the)g(giv)n(en)g(lev)n(el,)j
(extending)d(and)g(mo)r(difying)h(it.)75 b(The)40 b(other)g(lev)n(els)g
(de\014ned)g(in)h(the)208 4793 y(statemen)n(t)27 b(are)f(inserted)h
(after)g(this)h(lev)n(el,)f(and)g(b)r(efore)g(the)h(p)r(ossible)f(lev)n
(els)f(follo)n(wing)g(this)i(lev)n(el.)36 b(If)28 b(there)f(is)g(no)208
4893 y(lev)n(el)g(with)h(this)g(lab)r(el,)f(the)h(extend)g(statemen)n
(t)g(fails)f(at)h(run)f(time.)125 5088 y Fh(\017)41 b
Fi(By)36 b(default,)k(if)e(the)f(en)n(try)f(has)h(no)g(lev)n(el,)i(the)
e(lev)n(els)f(de\014ned)i(in)f(the)g(statemen)n(t)g(are)f(inserted)h
(in)g(the)h(en)n(try)-7 b(.)208 5187 y(Otherwise)31 b(the)i(\014rst)g
(de\014ned)g(lev)n(el)f(is)g(inserted)h(at)f(the)h(\014rst)f(lev)n(el)h
(of)f(the)h(en)n(try)-7 b(,)34 b(extending)e(or)g(mo)r(difying)h(it.)
208 5287 y(The)d(other)h(lev)n(els)f(are)g(inserted)g(afterw)n(ards)f
(\(b)r(efore)i(the)g(p)r(ossible)g(second)f(lev)n(el)h(whic)n(h)f(ma)n
(y)h(previously)e(exist)208 5386 y(in)e(the)h(en)n(try\).)1908
5656 y(66)p eop end
%%Page: 67 69
TeXDict begin 67 68 bop 2323 70 a Fi(CHAPTER)27 b(9.)64
b(EXTENSIBLE)26 b(PRINTERS)p 0 103 3900 4 v 0 390 a Ff(Lev)m(els)0
543 y Fi(After)k(the)g(optional)f("p)r(osition",)g(the)h
Fa(level)39 b Fi(list)30 b(follo)n(w.)42 b(The)29 b(lev)n(els)g(are)g
(separated)f(b)n(y)h(v)n(ertical)g(bars,)g(the)h(whole)f(list)0
643 y(b)r(eing)f(b)r(et)n(w)n(een)f(brac)n(k)n(ets.)0
842 y(A)35 b(lev)n(el)g(starts)f(with)i(an)f(optional)f(lab)r(el,)j
(whic)n(h)e(corresp)r(onds)e(to)i(its)h(name.)59 b(This)35
b(lab)r(el)g(is)g(useful)g(to)g(sp)r(ecify)h(this)0 942
y(lev)n(el)27 b(in)g(case)g(of)g(future)g(extensions,)g(using)g(the)h
Fa(p)l(osition)35 b Fi(\(see)27 b(previous)f(section\))h(or)f(for)h(p)r
(ossible)g(direct)g(calls)g(to)g(this)0 1042 y(sp)r(eci\014c)h(lev)n
(el.)0 1257 y Ff(Rules)0 1410 y Fi(A)g(lev)n(el)f(is)h(a)f(list)h(of)f
Fa(rules)35 b Fi(separated)26 b(b)n(y)h(v)n(ertical)g(bars,)f(the)i
(whole)f(list)h(b)r(eing)g(b)r(et)n(w)n(een)f(brac)n(k)n(ets.)0
1609 y(A)i(rule)f(is)g(an)g(usual)g(pattern)h(asso)r(ciation)d(\(in)j
(a)f(function)h(or)f(in)g(the)h("matc)n(h")e(statemen)n(t\),)i(i.e.)40
b(a)28 b(pattern,)g(an)g(arro)n(w)0 1709 y(and)f(an)h(expression.)35
b(The)28 b(expression)e(is)h(the)h(seman)n(tic)f(action)h(whic)n(h)f(m)
n(ust)h(b)r(e)g(of)f(t)n(yp)r(e)h(")p Fb(string)p Fi(".)0
1941 y Fe(9.3.2)112 b(Rules)38 b(insertion)0 2094 y Fi(The)28
b(rules)f(are)f(sorted)h(b)n(y)g(their)h(patterns,)f(according)f(to)h
(the)h(rules)f(of)h(the)g(extensible)g(functions.)0 2326
y Fe(9.3.3)112 b(Seman)m(tic)39 b(action)0 2479 y Fi(The)30
b(seman)n(tic)g(action,)h(i.e.)44 b(the)31 b(expression)e(follo)n(wing)
g(the)i(righ)n(t)e(arro)n(w)f(in)j(rules,)f(con)n(tains)f(in)i(its)f
(en)n(vironmen)n(t)g(the)0 2579 y(v)-5 b(ariables)26
b(b)r(ound)i(b)n(y)g(the)g(pattern)f(and)g(three)h(more)f(v)-5
b(ariables:)125 2759 y Fh(\017)41 b Fi(The)31 b(v)-5
b(ariable)31 b(")p Fb(curr)p Fi(")d(whic)n(h)k(is)f(a)g(function)h
(whic)n(h)g(can)f(b)r(e)h(called)f(to)g(recursiv)n(ely)f(in)n(v)n(ok)n
(e)g(the)i(prin)n(ter)e(at)i(the)208 2858 y(curren)n(t)26
b(lev)n(el,)125 3023 y Fh(\017)41 b Fi(The)27 b(v)-5
b(ariable)27 b(")p Fb(next)p Fi(")e(whic)n(h)i(is)h(a)f(function)h
(whic)n(h)g(can)f(b)r(e)h(called)f(to)h(in)n(v)n(ok)n(e)e(the)i(prin)n
(ter)e(at)i(the)g(next)g(lev)n(el,)125 3188 y Fh(\017)41
b Fi(The)35 b(v)-5 b(ariable)34 b(")p Fb(pc)p Fi(")g(whic)n(h)h(con)n
(tains)g(the)h(prin)n(ting)f(con)n(text)g(of)g(t)n(yp)r(e)h(")p
Fb(Pprintf.pr)p 3052 3188 27 4 v 27 w(context)p Fi(")c(\(see)j(c)n
(hapter)208 3288 y(Pprin)n(tf)6 b(\).)0 3468 y(The)28
b(v)-5 b(ariables)26 b(")p Fb(curr)p Fi(")f(and)i(")p
Fb(next)p Fi(")e(are)i(of)h(t)n(yp)r(e:)87 3648 y Fb(pr_context)40
b(->)i(t)i(->)e(string)0 3827 y Fi(where)27 b(")p Fb(t)p
Fi(")f(is)i(the)g(t)n(yp)r(e)g(of)f(the)h(prin)n(ter)f(\(i.e.)37
b(the)28 b(t)n(yp)r(e)g(of)g(its)f(patterns\).)0 4027
y(The)k(v)-5 b(ariable)30 b(")p Fb(curr)p Fi(",)f(")p
Fb(next)p Fi(")f(and)i(")p Fb(pc)p Fi(")g(ha)n(v)n(e)f(prede\014ned)i
(names)f(and)h(can)f(hide)h(the)g(p)r(ossible)g(iden)n(ti\014ers)f(ha)n
(ving)0 4126 y(the)e(same)f(names)g(in)h(the)g(pattern)f(or)g(in)h(the)
g(en)n(vironmen)n(t)f(of)g(the)h(")p Fb(EXTEND)p 2508
4126 V 28 w(PRINTER)p Fi(")d(statemen)n(t.)0 4400 y Fc(9.4)135
b(The)45 b(Eprin)l(ter)h(mo)t(dule)0 4582 y Fi(See)28
b(its)f(section)h(in)f(the)h(c)n(hapter)f("Library".)0
4856 y Fc(9.5)135 b(Examples)0 5055 y Fe(9.5.1)112 b(P)m(arser)38
b(and)g(Prin)m(ter)f(of)g(expressions)0 5208 y Fi(This)23
b(example)g(illustrates)g(the)g(symmetry)g(b)r(et)n(w)n(een)g(parsers)f
(and)h(prin)n(ters.)34 b(A)24 b(simple)f(t)n(yp)r(e)h(of)f(expressions)
f(is)h(de\014ned.)0 5308 y(A)28 b(parser)e(con)n(v)n(erts)g(a)h(string)
g(to)g(a)h(v)-5 b(alue)27 b(of)h(this)f(t)n(yp)r(e,)h(and)g(a)f(prin)n
(ter)g(con)n(v)n(erts)f(a)h(v)-5 b(alue)27 b(of)h(this)g(t)n(yp)r(e)g
(to)f(a)g(string.)1908 5656 y(67)p eop end
%%Page: 68 70
TeXDict begin 68 69 bop 0 70 a Fi(CHAPTER)27 b(9.)64
b(EXTENSIBLE)27 b(PRINTERS)p 0 103 3900 4 v 0 390 a(In)k(the)f(prin)n
(ter,)h(there)f(is)g(no)h(use)f(of)g(the)h(")p Fb(pc)p
Fi(")e(parameter)g(and)h(no)g(use)g(of)h(the)f(")p Fb(Pretty)p
Fi(")d(mo)r(dule.)46 b(The)31 b(strings)e(are)0 490 y(prin)n(ted)f(on)f
(a)g(single)g(line.)0 689 y(Here)g(is)h(the)g(source)e(\(\014le)i(")p
Fb(foo.ml)p Fi("\):)87 856 y Fb(#load)42 b("pa_extend.cmo")o(;)87
956 y(#load)g("pa_extprint.cm)o(o";)87 1155 y(open)g(Printf;)87
1354 y(type)g(expr)g(=)174 1454 y([)i(Op)e(of)h(string)e(and)h(expr)g
(and)h(expr)174 1554 y(|)h(Int)e(of)h(int)174 1653 y(|)h(Var)e(of)h
(string)e(])87 1753 y(;)87 1952 y(value)h(g)h(=)g(Grammar.gcreate)37
b(\(Plexer.gmake)i(\(\)\);)87 2052 y(value)j(pa_e)g(=)h
(Grammar.Entry.cr)o(ea)o(te)37 b(g)43 b("expr";)87 2151
y(value)f(pr_e)g(=)h(Eprinter.make)38 b("expr";)87 2351
y(EXTEND)174 2450 y(pa_e:)262 2550 y([)43 b([)g(x)g(=)g(SELF;)f("+";)g
(y)h(=)g(SELF)f(->)h(Op)f("+")h(x)g(y)349 2650 y(|)g(x)g(=)g(SELF;)f
("-";)g(y)h(=)g(SELF)f(->)h(Op)f("-")h(x)g(y)g(])262
2749 y(|)g([)g(x)g(=)g(SELF;)f("*";)g(y)h(=)g(SELF)f(->)h(Op)f("*")h(x)
g(y)349 2849 y(|)g(x)g(=)g(SELF;)f("/";)g(y)h(=)g(SELF)f(->)h(Op)f("/")
h(x)g(y)g(])262 2949 y(|)g([)g(x)g(=)g(INT)g(->)f(Int)h
(\(int_of_string)37 b(x\))349 3048 y(|)43 b(x)g(=)g(LIDENT)e(->)i(Var)f
(x)349 3148 y(|)h("\(";)f(x)h(=)g(SELF;)f("\)")g(->)h(x)g(])g(])174
3247 y(;)87 3347 y(END;)87 3546 y(EXTEND_PRINTER)174
3646 y(pr_e:)262 3746 y([)g([)g(Op)g("+")f(x)h(y)g(->)g(sprintf)e
("\\\045s)h(+)h(\\\045s")f(\(curr)f(pc)i(x\))g(\(next)e(pc)i(y\))349
3845 y(|)g(Op)g("-")f(x)h(y)g(->)g(sprintf)e("\\\045s)h(-)h(\\\045s")f
(\(curr)f(pc)i(x\))g(\(next)e(pc)i(y\))g(])262 3945 y(|)g([)g(Op)g("*")
f(x)h(y)g(->)g(sprintf)e("\\\045s)h(*)h(\\\045s")f(\(curr)f(pc)i(x\))g
(\(next)e(pc)i(y\))349 4044 y(|)g(Op)g("/")f(x)h(y)g(->)g(sprintf)e
("\\\045s)h(/)h(\\\045s")f(\(curr)f(pc)i(x\))g(\(next)e(pc)i(y\))g(])
262 4144 y(|)g([)g(Int)f(x)h(->)g(string_of_int)38 b(x)349
4244 y(|)43 b(Var)f(x)h(->)g(x)349 4343 y(|)g(x)g(->)g(sprintf)d
("\(\\\045s\)")h(\(Eprinter.apply)d(pr_e)j(pc)i(x\))g(])g(])174
4443 y(;)87 4543 y(END;)87 4742 y(value)f(parse)f(s)i(=)h
(Grammar.Entry.p)o(ars)o(e)37 b(pa_e)42 b(\(Stream.of_string)37
b(s\);)87 4841 y(value)42 b(print)f(e)i(=)h(Eprinter.apply)37
b(pr_e)42 b(Eprinter.empty_pc)37 b(e;)87 5041 y(if)43
b(Sys.interactive.)o(va)o(l)38 b(then)k(\(\))87 5140
y(else)g(print_endline)c(\(print)j(\(parse)h(Sys.argv.\(1\)\)\);)0
5308 y Fi(Remark)25 b(on)g(the)h(use)f(of)g("curr")f(and)h("next")g
(while)g(prin)n(ting)g(op)r(erators:)34 b(due)26 b(to)f(left)h(asso)r
(ciativit)n(y)-7 b(,)25 b(the)h(\014rst)f(op)r(erand)0
5407 y(uses)i("curr")f(and)h(the)h(second)f(op)r(erand)f(uses)h
("next".)36 b(F)-7 b(or)27 b(righ)n(t)g(asso)r(ciativit)n(y)f(op)r
(erators,)f(they)j(should)f(b)r(e)h(in)n(v)n(erted.)1908
5656 y(68)p eop end
%%Page: 69 71
TeXDict begin 69 70 bop 2323 70 a Fi(CHAPTER)27 b(9.)64
b(EXTENSIBLE)26 b(PRINTERS)p 0 103 3900 4 v 0 390 a(F)-7
b(or)27 b(no)g(asso)r(ciativit)n(y)-7 b(,)26 b(b)r(oth)i(should)g(use)f
("next".)0 589 y(The)h(last)f(line)h(of)g(the)g(\014le)f(allo)n(ws)g
(use)g(in)h(either)g(the)g(OCaml)f(toplev)n(el)g(or)f(as)h(standalone)g
(program,)f(taking)h(the)h(string)0 689 y(to)f(b)r(e)h(prin)n(ted)g(as)
f(parameter.)35 b(It)28 b(can)f(b)r(e)h(compiled)g(this)g(w)n(a)n(y:)87
872 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(-I)j(+camlp5)e(gramlib.cma)e
(foo.ml)0 1054 y Fi(Examples)27 b(of)g(use)h(\(notice)f(the)h(redundan)
n(t)f(paren)n(theses)g(automatically)f(remo)n(v)n(ed)g(b)n(y)i(the)f
(prin)n(ting)h(algorithm\):)87 1237 y Fb($)43 b(./a.out)e("\(3)h(*)i
(x\))e(+)h(\(2)g(/)g(y\)")87 1337 y(3)g(*)h(x)f(+)g(2)g(/)g(y)87
1436 y($)g(./a.out)e("\(x+y\)*\(x-y\)")87 1536 y(\(x)i(+)g(y\))g(*)g
(\(x)g(-)g(y\))87 1636 y($)g(./a.out)e("x)i(+)g(y)g(-)g(z")87
1735 y(x)g(+)h(y)f(-)g(z)87 1835 y($)g(./a.out)e("\(x)h(+)i(y\))e(-)h
(z")87 1934 y(x)g(+)h(y)f(-)g(z)87 2034 y($)g(./a.out)e("x)i(+)g(\(y)g
(-)g(z\)")87 2134 y(x)g(+)h(\(y)e(-)h(z\))0 2366 y Fe(9.5.2)112
b(Prin)m(ting)37 b(OCaml)i(programs)0 2519 y Fi(Complete)19
b(examples)g(of)g(usage)f(of)h(extensible)h(prin)n(ters)e(are)g(the)i
(prin)n(ters)e(in)i(syn)n(taxes)e(and)h(extended)g(syn)n(taxes)f(pro)n
(vided)0 2619 y(b)n(y)27 b(Camlp5)g(in)h(the)g(prett)n(y)f(prin)n(ting)
h Fa(kits)7 b Fi(:)125 2802 y Fh(\017)41 b Fb(pr)p 301
2802 27 4 v 30 w(r.cmo)p Fi(:)35 b(prett)n(y)27 b(prin)n(t)h(in)g
(revised)e(syn)n(tax)125 2968 y Fh(\017)41 b Fb(pr)p
301 2968 V 30 w(o.cmo)p Fi(:)35 b(prett)n(y)27 b(prin)n(t)h(in)g
(normal)e(syn)n(tax)125 3134 y Fh(\017)41 b Fb(pr)p 301
3134 V 30 w(rp.cmo)p Fi(:)35 b(also)26 b(prett)n(y)h(prin)n(t)h(the)g
(parsers)e(in)h(revised)g(syn)n(tax)125 3300 y Fh(\017)41
b Fb(pr)p 301 3300 V 30 w(op.cmo)p Fi(:)35 b(also)26
b(prett)n(y)h(prin)n(t)h(the)g(parsers)e(in)h(normal)g(syn)n(tax)0
3482 y(See)h(the)g(c)n(hapter)e(en)n(titled)i("Prin)n(ting)e
(programs".)1908 5656 y(69)p eop end
%%Page: 70 72
TeXDict begin 70 71 bop eop end
%%Page: 71 73
TeXDict begin 71 72 bop 0 1022 a Fd(Chapter)65 b(10)0
1446 y Fg(Pprin)-6 b(tf)0 1886 y Fi(This)25 b(c)n(hapter)g(describ)r
(es)g("pprin)n(tf",)g(a)g(statemen)n(t)g(to)g(prett)n(y)g(prin)n(t)h
(data.)35 b(It)26 b(lo)r(oks)e(lik)n(e)h(the)h("sprin)n(tf")e(function)
i(of)g(the)0 1986 y(OCaml)h(library)-7 b(,)26 b(and)i(b)r(orro)n(ws)d
(some)i(ideas)g(of)h(the)g(F)-7 b(ormat)27 b(OCaml)g(library)-7
b(.)0 2308 y Fc(10.1)136 b(Syn)l(tax)45 b(of)g(the)g(pprin)l(tf)g
(statemen)l(t)0 2506 y Fi(The)28 b("pprin)n(tf")f(statemen)n(t)g(is)h
(added)f(b)n(y)g(the)h Fa(p)l(arsing)j(kit)36 b Fi(")p
Fb(pa)p 2054 2506 27 4 v 30 w(pprintf.cmo)p Fi(".</pp>)0
2614 y(Notice)g(that,)j(in)e(opp)r(osition)f(to)g("prin)n(tf",)i
("fprin)n(tf",)g("sprin)n(tf",)f(and)f(all)h(its)f(v)-5
b(arian)n(ts,)37 b(whic)n(h)g(are)e(functions,)k(this)0
2714 y("pprin)n(tf")26 b(is)h(a)f Fa(statement)p Fi(,)g(not)h(a)f
(function:)37 b("pprin)n(tf")26 b(is)h(a)f(k)n(eyw)n(ord)f(and)h(the)i
(expander)d(analyzes)h(its)h(string)f(format)0 2814 y(parameter)g(to)i
(generate)e(sp)r(eci\014c)i(statemen)n(ts.)36 b(In)28
b(particular,)e(it)i(cannot)g(b)r(e)g(used)f(alone)g(and)g(has)g(no)h
(t)n(yp)r(e)f(b)n(y)h(itself.)349 3041 y Fb(expression)39
b(::=)j(pprintf-statement)44 3140 y(pprintf-stateme)o(nt)37
b(::=)42 b("pprintf")e(qualid)h(format)h(expressions)523
3240 y(qualid)f(::=)h(qualid)g(".")g(qualid)915 3340
y(|)h(uident)915 3439 y(|)g(lident)523 3539 y(format)e(::=)h(string)305
3638 y(expressions)d(::=)j(expression)e(expressions)915
3738 y(|)j(<nothing>)0 4060 y Fc(10.2)136 b(Seman)l(tics)45
b(of)h(pprin)l(tf)0 4258 y Fi(The)36 b("pprin)n(tf")f(statemen)n(t)g
(con)n(v)n(erts)f(the)i(format)f(string)g(in)n(to)g(a)g(string)g(lik)n
(e)g(the)h("sprin)n(tf")f(of)g(the)h(OCaml)f(library)0
4358 y("Prin)n(tf")18 b(do)r(es)h(\(see)g(the)h(OCaml)f(man)n(ual)f
(for)h(details\).)34 b(The)20 b(string)e(format)h(can)g(accept)g(new)h
(con)n(v)n(ersion)d(sp)r(eci\014cations,)0 4457 y("\045p")h(and)h
("\045q",)h(and)e(some)g(prett)n(y)h(prin)n(ting)f(annotations,)i
(starting)e(with)h("@")e(lik)n(e)i(in)g(the)g(OCaml)f(library)g("F)-7
b(ormat".)0 4674 y(The)34 b("pprin)n(tf")f(statemen)n(t)h(tak)n(es)f
(as)h(\014rst)f(parameter,)h(a)g(v)-5 b(alue)34 b(of)g(t)n(yp)r(e)g
("pr)p 2585 4674 25 4 v 29 w(con)n(text")f(de\014ned)h(b)r(elo)n(w.)56
b(Its)34 b(second)0 4774 y(parameter)39 b(is)h(the)g(extended)g(format)
g(string.)74 b(It)40 b(can)g(tak)n(e)f(other)h(parameters,)h(dep)r
(ending)f(on)g(the)h(format,)h(lik)n(e)0 4874 y("sprin)n(tf".)0
5091 y(The)28 b(result)f(of)h("pprin)n(tf")f(is)g(alw)n(a)n(ys)f(a)h
(string.)36 b(There)27 b(is)h(no)f(v)n(ersions)f(applying)h(to)g
(\014les)h(or)e(bu\013ers.)0 5308 y(The)39 b(strings)f(built)i(b)n(y)f
("pprin)n(tf")f(are)g(concatened)g(b)n(y)h(the)g(function)h("Prett)n(y)
-7 b(.sprin)n(tf")37 b(\(see)i(the)g(c)n(hapter)g(en)n(titled)0
5407 y("Prett)n(y)26 b(Prin)n(t"\))h(whic)n(h)g(con)n(trols)f(the)i
(line)g(length)g(and)f(prev)n(en)n(ts)g(o)n(v)n(er\015o)n(wing.)1908
5656 y(71)p eop end
%%Page: 72 74
TeXDict begin 72 73 bop 0 70 a Fi(CHAPTER)27 b(10.)64
b(PPRINTF)p 0 103 3900 4 v 0 390 a Fe(10.2.1)113 b(Prin)m(ting)37
b(con)m(text)0 544 y Fi(The)28 b("pprin)n(tf")f(statemen)n(t)g(tak)n
(es,)g(as)g(\014rst)g(parameter,)f(a)i Fa(printing)i(c)l(ontext)p
Fi(.)36 b(It)28 b(is)f(a)g(v)-5 b(alue)28 b(of)f(the)h(follo)n(wing)f
(t)n(yp)r(e:)87 727 y Fb(type)42 b(pr_context)e(=)174
827 y({)k(ind)e(:)h(int;)262 927 y(bef)f(:)h(string;)262
1026 y(aft)f(:)h(string;)262 1126 y(dang)e(:)j(string)d(};)0
1309 y Fi(The)28 b(\014elds)f(are:)125 1493 y Fh(\017)41
b Fi(")p Fb(ind)p Fi(")25 b(:)37 b(the)28 b(curren)n(t)f(indendation)
125 1660 y Fh(\017)41 b Fi(")p Fb(bef)p Fi(")25 b(:)37
b(what)28 b(should)f(b)r(e)h(prin)n(ted)f(b)r(efore,)h(in)g(the)g(same)
f(line)125 1826 y Fh(\017)41 b Fi(")p Fb(aft)p Fi(")25
b(:)37 b(what)28 b(should)f(b)r(e)h(prin)n(ted)f(after,)h(in)g(the)g
(same)f(line)125 1993 y Fh(\017)41 b Fi(")p Fb(dang)p
Fi(")25 b(:)37 b(the)28 b(dangling)e(tok)n(en)h(to)h(kno)n(w)e(whether)
i(paren)n(theses)e(are)h(necessary)0 2177 y(Basically)-7
b(,)29 b(the)h("pprin)n(tf")f(statemen)n(t)g(concats)g(the)h("b)r(ef")f
(string,)h(the)g(formatted)f(string)g(and)g(the)h("aft")f(string.)42
b(The)0 2276 y(example:)87 2460 y Fb(pprintf)f(pc)i("hello)e(world")0
2643 y Fi(is)27 b(equiv)-5 b(alen)n(t)28 b(to)f(\(and)h(indeed)g
(generates\):)87 2827 y Fb(Pretty.sprintf)38 b("\\\045shello)i
(world\\\045s")g(pc.bef)h(pc.aft)0 3010 y Fi(But)33 b(if)g(the)h
(format)e(string)g(con)n(tains)g(con)n(v)n(ersion)e(sp)r
(eci\014cations)i("\045p")h(or)e("\045q",)j(the)f("b)r(ef")g(and)f
("aft")g(strings)g(are)0 3110 y(actually)27 b(transmitted)h(to)f(the)h
(corresp)r(onding)e(functions:)87 3293 y Fb(pprintf)41
b(pc)i("hello)e(\\\045p)h(world")f(f)i(x)0 3477 y Fi(is)27
b(equiv)-5 b(alen)n(t)28 b(to:)87 3660 y Fb(f)43 b({\(pc\))f(with)218
3760 y(bef)g(=)h(Pretty.sprintf)38 b("\\\045shello)i(")j(pc.bef;)218
3860 y(aft)f(=)h(Pretty.sprintf)38 b(")43 b(world\\\045s")d(pc.aft})174
3959 y(x)0 4143 y Fi(Th)n(us,)31 b(the)f(decision)g(of)g(including)h
(the)f("b)r(ef")g(and)g(the)h("aft")f(strings)f(are)g(dela)n(y)n(ed)g
(to)h(the)h(called)f(function,)i(allo)n(wing)0 4242 y(this)c(function)g
(to)g(p)r(ossibly)f(concatenate)f("b)r(ef")i(and)f("aft")g(to)g(its)h
(o)n(wn)f(strings.)0 4442 y(A)c(t)n(ypical)g(case)f(is,)i(while)f(prin)
n(ting)f(programs,)g(when)h(an)g(expression)e(needs)i(to)g(b)r(e)g
(prin)n(ted)g(b)r(et)n(w)n(een)g(paren)n(theses.)34 b(The)0
4542 y(co)r(de)27 b(whic)n(h)h(do)r(es)f(that)h(lo)r(oks)f(lik)n(e:)87
4725 y Fb(pprintf)41 b(pc)i("\(\\\045p\)")d(expr)i(e)0
4909 y Fi(The)24 b(righ)n(t)g(paren)n(thesis)f(of)h(this)h(string)f
(format)g(is)g(included)h(in)f(the)h("aft")f(string)f(transmitted)i(to)
f(the)h(function)g("expr".)0 5008 y(In)g(a)g(situation)g(when)g(sev)n
(eral)f(righ)n(t)g(paren)n(theses)g(are)g(concatened)g(this)i(w)n(a)n
(y)-7 b(,)24 b(the)i(fact)f(that)g(all)g(these)g(paren)n(theses)f(are)0
5108 y(group)r(ed)29 b(together)g(allo)n(ws)g(the)h(function)h(whic)n
(h)f(ev)n(en)n(tually)f(prin)n(t)h(them)h(to)f(decide)g(to)g(break)f
(the)h(line)g(or)f(not,)i(these)0 5208 y(paren)n(theses)26
b(b)r(eing)i(tak)n(en)f(in)n(to)g(accoun)n(t)g(in)h(the)g(line)g
(length.)0 5407 y(F)-7 b(or)27 b(example,)g(if)h(the)g(co)r(de)g(con)n
(tains)e(a)i(prin)n(t)f(of)h(an)f(program)e(con)n(taining)i(an)g
(application)g(whose)g(source)g(is:)1908 5656 y(72)p
eop end
%%Page: 73 75
TeXDict begin 73 74 bop 2903 70 a Fi(CHAPTER)27 b(10.)63
b(PPRINTF)p 0 103 3900 4 v 87 390 a Fb(myfunction)40
b(myarg)0 561 y Fi(and)27 b(if)i(the)f("aft")e(con)n(tains)h
("\)\)\)\)\)\)",)h(the)g(decision)g(of)f(prin)n(ting)g(in)h(one)f(line)
h(as:)87 732 y Fb(myfunction)40 b(myarg\)\)\)\)\)\))0
902 y Fi(or)27 b(in)h(t)n(w)n(o)e(lines)i(as:)87 1073
y Fb(myfunction)174 1173 y(myarg\)\)\)\)\)\))0 1343 y
Fi(is)f(exact,)h(the)g(righ)n(t)e(paren)n(theses)h(b)r(eing)g(added)h
(to)f("m)n(y)n(arg")e(to)i(determine)h(whether)g(the)g(line)f(o)n(v)n
(er\015o)n(ws)e(or)i(not.)0 1574 y Fe(10.2.2)113 b(Extended)37
b(format)0 1727 y Fi(The)24 b(extended)g(format)g(used)g(b)n(y)f
("pprin)n(tf")h(ma)n(y)f(con)n(tain)g(an)n(y)h(strings)f(and)g(con)n(v)
n(ersion)f(sp)r(eci\014cations)h(allo)n(w)n(ed)g(b)n(y)h(the)0
1827 y("sprin)n(tf")j(function)h(\(see)f(mo)r(dule)h("Prin)n(tf")e(of)i
(the)g(OCaml)f(library\),)g(plus:)125 1997 y Fh(\017)41
b Fi(the)28 b(con)n(v)n(ersion)d(sp)r(eci\014cations:)36
b(")p Fb(\045p)p Fi(")26 b(and)h(")p Fb(q)p Fi(",)125
2159 y Fh(\017)41 b Fi(the)28 b(prett)n(y)f(prin)n(ting)g(annotations)f
(in)n(tro)r(duced)i(b)n(y)-7 b(,)27 b(")p Fb(@)p Fi(")g(and)g(follo)n
(w)n(ed)g(b)n(y:)301 2320 y Ff({)41 b Fi(the)28 b(c)n(haracter)e(")p
Fb(;)p Fi(")g(\(semicolon\),)h(optionally)g(follo)n(w)n(ed)g(b)n(y)g(")
p Fb(<)p Fi(",)f(t)n(w)n(o)h(n)n(um)n(b)r(ers)g(and)h(")p
Fb(>)p Fi(",)301 2448 y Ff({)41 b Fi(the)28 b(c)n(haracter)e(")43
b(")27 b(\(space\),)301 2576 y Ff({)41 b Fi(the)28 b(c)n(haracter)e(")p
Fb([)p Fi(",)g(optionally)h(follo)n(w)n(ed)f(b)n(y)i(the)g(c)n
(haracter)d(")p Fb(<)p Fi(")h(and)i(either:)462 2704
y Fh(\003)41 b Fi(the)28 b(c)n(haracter)e(")p Fb(a)p
Fi(")462 2818 y Fh(\003)41 b Fi(the)28 b(c)n(haracter)e(")p
Fb(b)p Fi(")462 2932 y Fh(\003)41 b Fi(a)28 b(n)n(um)n(b)r(er)390
3060 y(and)g(the)g(c)n(haracter)d(")p Fb(>)p Fi(",)h(then)j(follo)n(w)n
(ed)d(b)n(y)h(format)h(string,)f(and)g(ended)h(with)g(")p
Fb(@])p Fi(")0 3231 y(The)22 b(format)f(string)g(is)g(applied)h(lik)n
(e)f(in)h(the)g("sprin)n(tf")e(function.)36 b(Sp)r(eci\014c)22
b(actions)f(are)f(done)i(for)f(the)h(extended)g(features.)0
3330 y(The)30 b(result)g(is)g(a)g(string)f(lik)n(e)h(for)g(the)g
("sprin)n(tf")f(function.)45 b(The)31 b("string)e(b)r(efore")g(and)h
("string)f(after")g(de\014ned)i(b)n(y)f(the)0 3430 y(\014elds)f("b)r
(ef")f(and)g("aft")g(of)g(the)h(prin)n(ting)f(con)n(text)h(are)e(tak)n
(en)h(in)n(to)g(accoun)n(t)g(and)g(it)h(is)g(not)f(necessary)f(to)h
(add)h(them)g(in)0 3530 y(the)f(format.)0 3729 y(Example:)87
3900 y Fb(pprintf)41 b(pc)i("hello,)d(world")0 4070 y
Fi(generates:)87 4241 y Fb(Pretty.sprintf)e("\\\045shello,)h
(world\\\045s")h(pc.bef)h(pc.aft;)0 4412 y Fi(An)28 b(empt)n(y)g
(format:)87 4582 y Fb(pprintf)41 b(pc)i("";)0 4753 y
Fi(just)28 b(prin)n(ts)f(the)h("b)r(efore")f(and)g("after")f(strings:)
87 4924 y Fb(Pretty.sprintf)38 b("\\\045s\\\045s")i(pc.bef)h(pc.aft;)0
5154 y Fe(10.2.3)113 b(Line)38 b(length)0 5308 y Fi(The)26
b(function)h("pprin)n(tf")f(uses)g(the)h(Camlp5)e("Prett)n(y")g(mo)r
(dule.)36 b(The)27 b(line)f(length)h(can)f(b)r(e)g(set)h(b)n(y)f(c)n
(hanging)f(the)h(v)-5 b(alue)0 5407 y(of)28 b(the)g(reference)e("Prett)
n(y)-7 b(.line)p 1011 5407 25 4 v 29 w(length".)1908
5656 y(73)p eop end
%%Page: 74 76
TeXDict begin 74 75 bop 0 70 a Fi(CHAPTER)27 b(10.)64
b(PPRINTF)p 0 103 3900 4 v 0 390 a Fe(10.2.4)113 b(The)37
b(con)m(v)m(ersion)h(sp)s(eci\014cations)h("p")e(and)i("q")0
545 y Fi(The)27 b("\045p")f(con)n(v)n(ersion)f(sp)r(eci\014cation)h(w)n
(orks)g(lik)n(e)g(the)i("\045a")d(of)i(the)g(prin)n(tf)h(statemen)n(t.)
36 b(It)28 b(tak)n(es)d(t)n(w)n(o)i(argumen)n(ts)e(and)0
645 y(applies)h(the)h(\014rst)f(one)g(to)h(the)g(prin)n(ting)f(con)n
(text)g(and)g(to)h(the)g(second)f(argumen)n(t.)35 b(The)27
b(\014rst)f(argumen)n(t)f(m)n(ust)i(therefore)0 744 y(ha)n(v)n(e)f(t)n
(yp)r(e)i(")p Fb(pr)p 513 744 27 4 v 30 w(context)41
b(->)i(t)g(->)g(unit)p Fi(")25 b(\(for)j(some)f(t)n(yp)r(e)g(")p
Fb(t)p Fi("\))g(and)g(the)h(second)f(one)h("t".)0 945
y(Notice)g(that)f(this)h(function)g(can)g(b)r(e)g(called)f(t)n(wice:)37
b(one)27 b(to)g(test)h(whether)g(the)f(resulting)g(string)g(holds)h(in)
f(the)h(line,)g(and)0 1045 y(another)d(one)h(to)f(p)r(ossibly)h(recall)
f(this)h(function)h(to)f(prin)n(t)g(it)g(in)g(sev)n(eral)e(lines.)37
b(In)26 b(the)g(t)n(w)n(o)f(cases,)h(the)g(prin)n(ting)f(con)n(text)0
1144 y(giv)n(en)i(as)g(parameter)f(is)h(di\013eren)n(t.)0
1345 y(It)h(uses)f(the)h(functions)g(de\014ned)g(in)g(the)g("Prett)n
(y")e(mo)r(dule.)0 1446 y(Example:)36 b(the)28 b(follo)n(wing)f
(statemen)n(t:)87 1632 y Fb(pprintf)41 b(pc)i("hello,)d(\\\045p,)i
(world")f(f)j(x)0 1818 y Fi(is)27 b(equiv)-5 b(alen)n(t)28
b(to:)87 2005 y Fb(f)43 b({\(pc\))f(with)218 2105 y(bef)g(=)h
(Pretty.sprintf)38 b("\\\045shello,)i(")j(pc.bef;)218
2204 y(aft)f(=)h(Pretty.sprintf)38 b(",)43 b(world\\\045s")d(pc.aft})
174 2304 y(x)0 2490 y Fi(The)22 b("\045q")f(con)n(v)n(ersion)f(sp)r
(eci\014cation)h(is)h(lik)n(e)g("\045p")f(except)h(that)h(it)f(tak)n
(es)f(a)h(third)g(argumen)n(t)f(whic)n(h)h(is)f(the)i(v)-5
b(alue)22 b(of)g(the)0 2589 y("dang")g(\014eld,)j(useful)g(when)f(the)g
(syn)n(tax)f(has)g("dangling")f(problems)h(requiring)g(paren)n(theses.)
34 b(See)24 b(c)n(hapter)f(Extensions)0 2689 y(of)28
b(prin)n(ting)f(for)g(more)g(explanations)f(ab)r(out)i(dangling)e
(problems.)0 2890 y(The)i(same)f(example)g(with)h("\045q":)87
3077 y Fb(pprintf)41 b(pc)i("hello,)d(\\\045q,)i(world")f(f)j(x)f
("abc")0 3262 y Fi(is)27 b(equiv)-5 b(alen)n(t)28 b(to:)87
3449 y Fb(f)43 b({\(pc\))f(with)218 3549 y(bef)g(=)h(Pretty.sprintf)38
b("\\\045shello,)i(")j(pc.bef;)218 3648 y(aft)f(=)h(Pretty.sprintf)38
b(",)43 b(world\\\045s")d(pc.aft;)218 3748 y(dang)i(=)h("abc"})174
3848 y(x)0 4084 y Fe(10.2.5)113 b(The)37 b(prett)m(y)g(prin)m(ting)h
(annotations)0 4239 y Ff(Breaks)0 4394 y Fi(The)28 b(prett)n(y)f(prin)n
(ting)h(annotations)e(allo)n(w)h(to)h(indicate)g(places)f(where)g
(lines)h(can)f(b)r(e)i(brok)n(en.)36 b(They)28 b(all)f(start)g(with)i
(the)0 4494 y("at")d(sign)i("@".)35 b(The)28 b(main)f(ones)g(are)g
(called)g Fa(br)l(e)l(aks)35 b Fi(and)28 b(are:<p>)125
4679 y Fh(\017)41 b Fi(")p Fb(@;)p Fi(")25 b(sp)r(ecifying:)37
b Fa(write)30 b(a)h(sp)l(ac)l(e)f(or)g('a)h(new)t(line)f(and)g(an)g
(indentation)h(incr)l(emente)l(d)e(by)h(2)h(sp)l(ac)l(es')125
4849 y Fh(\017)41 b Fi(")p Fb(@)h Fi(")27 b(sp)r(ecifying:)37
b Fa(write)30 b(a)h(sp)l(ac)l(e)f(or)g('a)h(new)t(line)f(and)g(the)g
(indentation)-8 b(')0 5035 y Fi(Example)27 b(-)g(where)g("p)r(c")g(is)h
(a)f(v)-5 b(ariable)26 b(of)i(t)n(yp)r(e)g("pr)p 1708
5035 25 4 v 29 w(con)n(text")f(\(for)g(example)g("Pprin)n(tf.empt)n(y)p
3109 5035 V 29 w(p)r(c"\):)87 5221 y Fb(pprintf)41 b(pc)i
("hello,@;world")0 5407 y Fi(builds)28 b(the)g(string,)f(if)h(it)g
(holds)f(in)h(the)g(line:)1908 5656 y(74)p eop end
%%Page: 75 77
TeXDict begin 75 76 bop 2903 70 a Fi(CHAPTER)27 b(10.)63
b(PPRINTF)p 0 103 3900 4 v 87 390 a Fb(hello,)41 b(world)0
569 y Fi(and)27 b(if)i(it)f(do)r(es)f(not:)87 748 y Fb(hello,)174
847 y(world)0 1026 y Fi(The)h(second)f(form:)87 1204
y Fb(pprintf)41 b(pc)i("hello,@)d(world")0 1383 y Fi(is)27
b(prin)n(ted)h(the)g(same)f(w)n(a)n(y)-7 b(,)26 b(if)j(it)f(holds)f(in)
h(the)g(line,)g(and)f(if)h(it)g(do)r(es)f(not,)h(as:)87
1562 y Fb(hello,)87 1661 y(world)0 1840 y Fi(The)g(general)e(form)h
(is:)125 2019 y Fh(\017)41 b Fi(")p Fb(@;<s)g(o>)p Fi(",)33
b(whic)n(h)g(is)f(a)h(break)e(with)j(")p Fb(s)p Fi(")d(spaces)h(if)h
(the)g(string)f(holds)h(in)g(the)g(line,)h(or)e(an)g(inden)n(tation)h
(o\013set)208 2118 y(\(incremen)n(tation)27 b(of)g(the)h(inden)n
(tation\))g(of)g(")p Fb(o)p Fi(")e(spaces)g(if)j(the)f(string)e(do)r
(es)i(not)f(hold)h(in)g(the)g(line.)0 2297 y(The)g(break)e(")p
Fb(@;)p Fi(")g(is)i(therefore)e(equiv)-5 b(alen)n(t)28
b(to)f(")p Fb(@;<1)42 b(2>)p Fi(")26 b(and)h(")p Fb(@)43
b Fi(")27 b(is)h(equiv)-5 b(alen)n(t)27 b(to)g(")p Fb(@;<1)42
b(0>)p Fi(".)0 2512 y Ff(P)m(aren)m(theses)0 2665 y Fi(A)22
b(second)g(form)f(of)h(the)g(prett)n(y)g(prin)n(ting)f(annotations)g
(is)h(the)g(paren)n(thesization)e(of)i(format)g(strings)f(p)r(ossibly)g
(con)n(taining)0 2765 y(other)27 b(prett)n(y)g(prin)n(ting)g
(annotations.)36 b(They)28 b(start)f(with)h(")p Fb(@[)p
Fi(")e(and)h(end)h(with)g(")p Fb(@])p Fi(".)0 2964 y(It)g(allo)n(ws)e
(to)i(c)n(hange)e(the)i(asso)r(ciativit)n(y)e(of)i(the)g(breaks.)35
b(F)-7 b(or)27 b(example:)87 3143 y Fb(pprintf)41 b(pc)i("@[the)e
(quick)g(brown)h(fox@;jumps@]@;ov)o(er)37 b(the)42 b(lazy)g(dog")0
3322 y Fi(If)28 b(the)g(whole)f(string)g(holds)g(on)h(the)g(line,)g(it)
g(is)f(prin)n(ted:)87 3500 y Fb(the)43 b(quick)e(brown)h(fox)g(jumps)f
(over)h(the)h(lazy)f(dog)0 3679 y Fi(If)28 b(the)g(whole)f(string)g(do)
r(es)g(not)h(hold)g(on)f(the)h(line,)g(but)g("the)f(quic)n(k)g(bro)n(w)
g(fo)n(x)g(jumps")h(do)r(es,)f(it)h(is)g(prin)n(ted:)87
3858 y Fb(the)43 b(quick)e(brown)h(fox)g(jumps)174 3957
y(over)g(the)h(lazy)f(dog)0 4136 y Fi(If)28 b(the)g(string)f("the)g
(quic)n(k)h(bro)n(wn)e(fo)n(x)h(jumps")h(do)r(es)f(not)h(hold)f(on)h
(the)g(line,)f(the)h(whole)g(string)f(is)g(prin)n(ted:)87
4315 y Fb(the)43 b(quick)e(brown)h(fox)174 4414 y(jumps)174
4514 y(over)g(the)h(lazy)f(dog)0 4693 y Fi(Con)n(v)n(ersely)-7
b(,)26 b(if)i(the)g(co)r(de)f(is)h(righ)n(t)e(asso)r(ciated:)87
4871 y Fb(pprintf)41 b(pc)i("the)f(quick)f(brown)h(fox@;@[jumps@;o)o
(ver)37 b(the)42 b(lazy)g(dog@]")0 5050 y Fi(It)28 b(can)f(b)r(e)h
(prin)n(ted:)87 5229 y Fb(the)43 b(quick)e(brown)h(fox)g(jumps)f(over)h
(the)h(lazy)f(dog)0 5407 y Fi(or:)1908 5656 y(75)p eop
end
%%Page: 76 78
TeXDict begin 76 77 bop 0 70 a Fi(CHAPTER)27 b(10.)64
b(PPRINTF)p 0 103 3900 4 v 87 390 a Fb(the)43 b(quick)e(brown)h(fox)174
490 y(jumps)g(over)g(the)g(lazy)g(dog)0 668 y Fi(or:)87
847 y Fb(the)h(quick)e(brown)h(fox)174 946 y(jumps)262
1046 y(over)f(the)i(lazy)f(dog)0 1225 y Fi(The)28 b(default)g(is)f
(left)h(asso)r(ciativit)n(y:)36 b(without)28 b(paren)n(theses,)e(it)i
(is)g(prin)n(ted)f(lik)n(e)g(in)h(the)g(\014rst)f(example.)0
1440 y Ff(Incremen)m(tation)32 b(of)g(inden)m(tation)0
1593 y Fi(The)d(op)r(en)h(paren)n(thesis)e(of)h(the)h(paren)n(thesized)
e(form,)i(")p Fb(@[)p Fi(")d(can)i(b)r(e)h(follo)n(w)n(ed)f(b)n(y)g(")p
Fb(<n>)p Fi(")e(where)i(")p Fb(n)p Fi(")f(is)h(a)g(n)n(um)n(b)r(er.)42
b(It)0 1692 y(incremen)n(ts)27 b(the)h(curren)n(t)f(inden)n(tation)g
(\(for)h(p)r(ossible)f(newlines)g(in)h(the)g(paren)n(thesized)f(text\))
h(with)g(this)g(n)n(um)n(b)r(er.)0 1892 y(Example:)87
2070 y Fb(pprintf)41 b(pc)i("@[<4>Increment)o(ati)o(on)o(@;a)o(ct)o(ua)
o(lly)37 b(of)43 b(six)f(characters@]")0 2249 y Fi(mak)n(es)27
b(the)h(string)e(\(if)j(not)e(holding)h(in)f(the)h(line\):)87
2427 y Fb(Incrementation)349 2527 y(actually)40 b(of)j(six)f
(characters)0 2742 y Ff(Break)33 b(all)e(or)h(nothing)0
2895 y Fi(The)23 b(op)r(en)h(paren)n(thesis)e(of)i(the)f(paren)n
(thesized)g(form,)h(")p Fb(@[)p Fi(")d(can)j(b)r(e)f(follo)n(w)n(ed)g
(b)n(y)g(")p Fb(<a>)p Fi(".)33 b(It)24 b(sp)r(eci\014es)f(that)h(if)g
(the)g(string)0 2995 y(do)r(es)g(not)g(hold)g(in)g(the)g(line,)h(all)f
(breaks)f(b)r(et)n(w)n(een)h(the)g(paren)n(theses)f(\(at)h(one)g(only)f
(lev)n(el\))h(are)f(prin)n(ted)h(in)h(t)n(w)n(o)e(lines,)i(ev)n(en)0
3094 y(if)j(sub-strings)e(could)i(hold)f(on)h(the)g(line.)37
b(F)-7 b(or)27 b(example:)87 3273 y Fb(pprintf)41 b(pc)i("@[<a>the)c
(quick)j(brown)g(fox@;jumps@;ove)o(r)37 b(the)43 b(lazy)f(dog@]")0
3451 y Fi(can)27 b(b)r(e)h(prin)n(ted)g(only)f(as:)87
3630 y Fb(the)43 b(quick)e(brown)h(fox)g(jumps)f(over)h(the)h(lazy)f
(dog)0 3808 y Fi(or)27 b(as:)87 3987 y Fb(the)43 b(quick)e(brown)h(fox)
174 4086 y(jumps)174 4186 y(over)g(the)h(lazy)f(dog)0
4401 y Ff(Break)33 b(all)0 4554 y Fi(The)28 b(op)r(en)g(paren)n(thesis)
f(of)h(the)g(paren)n(thesized)f(form,)h(")p Fb(@[)p Fi(")e(can)i(b)r(e)
g(follo)n(w)n(ed)f(b)n(y)h(")p Fb(<b>)p Fi(".)35 b(It)29
b(sp)r(eci\014es)e(that)i(all)e(breaks)0 4654 y(are)g(alw)n(a)n(ys)e
(prin)n(ted)j(in)g(t)n(w)n(o)e(lines.)37 b(F)-7 b(or)27
b(example:)87 4833 y Fb(pprintf)41 b(pc)i("@[<b>the)c(quick)j(brown)g
(fox@;jumps@;ove)o(r)37 b(the)43 b(lazy)f(dog@]")0 5011
y Fi(is)27 b(prin)n(ted)h(in)g(all)f(circumstances:)87
5189 y Fb(the)43 b(quick)e(brown)h(fox)174 5289 y(jumps)174
5389 y(over)g(the)h(lazy)f(dog)1908 5656 y Fi(76)p eop
end
%%Page: 77 79
TeXDict begin 77 78 bop 2903 70 a Fi(CHAPTER)27 b(10.)63
b(PPRINTF)p 0 103 3900 4 v 0 390 a Ff(P)m(aren)m(theses)32
b(not)g(neigh)m(b)s(ours)f(of)h(breaks)0 546 y Fi(In)h(the)h(examples)e
(ab)r(o)n(v)n(e,)i(w)n(e)e(can)h(remark)f(that)h(the)h(left)g(paren)n
(theses)d(are)i(alw)n(a)n(ys)e(the)i(b)r(egin)h(of)f(the)g(string)g(or)
f(are)0 646 y(preceeded)24 b(b)n(y)g(a)h(break,)f(and)g(that)h(the)g
(righ)n(t)f(paren)n(theses)f(are)h(alw)n(a)n(ys)f(the)i(end)g(of)f(the)
h(string)f(or)g(follo)n(w)n(ed)g(b)n(y)g(a)g(break.)0
848 y(When)d(the)g(paren)n(theses)e(")p Fb(@[)p Fi(")f(and)i(")p
Fb(@])p Fi(")f(are)g(not)i(preceeded)f(or)f(follo)n(w)n(ed)g(b)n(y)h
(the)h(string)f(b)r(egin)g(nor)g(end,)i(nor)e(preceeded)0
948 y(or)28 b(follo)n(w)n(ed)g(b)n(y)g(breaks,)g(they)h(are)f
(considered)g(as)g(the)h("b)r(ef")g(or)f("aft")g(part)g(of)h(the)g
(neigh)n(b)r(our)f(string.)40 b(F)-7 b(or)28 b(example,)0
1048 y(the)g(follo)n(wing)f(forms:)87 1238 y Fb(pprintf)41
b(pc)i("the)f(quick)f(brown)h(fox@[)f(jumps)h(over@]")0
1427 y Fi(and:)87 1618 y Fb(pprintf)f(pc)i("@[the)e(quick)g(brown)h
(fox)g(@]jumps)f(over")0 1807 y Fi(are)27 b(resp)r(ectiv)n(ely)f(equiv)
-5 b(alen)n(t)28 b(to:)87 1997 y Fb(let)43 b(pc)f(=)h({\(pc\))f(with)g
(aft)g(=)h(sprintf)e(")i(jumps)f(over\\\045s")e(pc.aft})h(in)87
2097 y(Pretty.sprintf)d("\\\045sthe)j(quick)g(brown)h(fox\\\045s")e
(pc.bef)h(pc.aft)0 2286 y Fi(and:)87 2476 y Fb(let)i(pc)f(=)h({\(pc\))f
(with)g(bef)g(=)h(sprintf)e("\\\045sthe)g(quick)g(brown)h(fox")g
(pc.bef})e(in)87 2576 y(Pretty.sprintf)e("\\\045sjumps)i(over\\\045s")g
(pc.bef)h(pc.aft)0 2765 y Fi(In)22 b(these)g(examples,)h(the)g(results)
e(are)g(iden)n(tical,)i(but)g(it)g(can)e(b)r(e)i(imp)r(ortan)n(t)f(if)g
(the)h(non-paren)n(thesized)d(part)i(con)n(tain)f(one)0
2864 y(or)29 b(sev)n(eral)g("\045p".)44 b(In)31 b(this)f(case,)g(the)h
(corresp)r(onding)d(function)j(receiv)n(es)e(the)h("b)r(ef")g(or)g
("aft")f(part)h(in)h(its)f(pr)p 3608 2864 25 4 v 29 w(con)n(text)0
2964 y(v)-5 b(ariable)27 b(and)g(can)g(tak)n(e)g(it)h(in)n(to)f(accoun)
n(t)g(when)h(prin)n(ting)f(its)h(data.)0 3247 y Fc(10.3)136
b(Comparison)45 b(with)h(the)f(OCaml)h(mo)t(dules)f(Prin)l(tf)g(and)g
(F)-11 b(ormat)0 3448 y Fe(10.3.1)113 b(Pprin)m(tf)37
b(and)h(Prin)m(tf)0 3604 y Fi(The)26 b(statemen)n(t)f("pprin)n(tf")h
(acts)f(lik)n(e)g(the)h(function)g("Prin)n(tf.sprin)n(tf".)35
b(But)26 b(since)g(it)g(requires)e(this)i(extra)f(parameter)f(of)0
3704 y(t)n(yp)r(e)h("pr)p 310 3704 V 29 w(con)n(text")g(and)g(needs)g
(the)g("\045p")g(and)g("\045q")f(con)n(v)n(ersions)f(sp)r
(eci\014cations)h(\(whic)n(h)i(do)e(not)i(exist)f(in)g("Prin)n(tf"\),)0
3804 y(it)j(w)n(as)f(not)g(p)r(ossible)g(to)h(use)f(the)h("Prin)n(tf")f
(mac)n(hinery)f(directly)h(and)h(a)f(new)h(statemen)n(t)f(had)h(to)f(b)
r(e)h(added.)0 4006 y(The)g(principle)g(of)f("pprin)n(tf")g(and)h
("sprin)n(tf")f(are)f(the)j(same.)36 b(Ho)n(w)n(ev)n(er,)26
b("pprin)n(tf")h(is)h(a)f(syn)n(tax)g(extension)h(and)f(has)g(no)0
4106 y(t)n(yp)r(e)h(b)n(y)f(itself.)37 b(It)28 b(cannot)g(b)r(e)g(used)
f(alone)g(or)g(without)h(all)f(its)h(required)e(parameters.)0
4346 y Fe(10.3.2)113 b(Pprin)m(tf)37 b(and)h(F)-9 b(ormat)0
4503 y Fi(The)20 b(prett)n(y)f(prin)n(ting)g(annotations)g(lo)r(ok)g
(lik)n(e)g(the)h(ones)f(of)h(the)g(OCaml)f(mo)r(dule)h(F)-7
b(ormat.)33 b(Actually)-7 b(,)22 b(they)e(ha)n(v)n(e)e(di\013eren)n(t)0
4602 y(seman)n(tics.)43 b(They)29 b(do)h(not)g(use)f
Fa(b)l(oxes)37 b Fi(lik)n(e)29 b("F)-7 b(ormat")28 b(do)r(es.)43
b(In)30 b("pprin)n(tf")g(statemen)n(t,)g(the)g(mac)n(hinery)f(acts)g
(only)g(on)0 4702 y(inden)n(tations.)0 4904 y(Notice)d(that,)h(with)f
("pprin)n(tf",)g(it)h(is)f(alw)n(a)n(ys)e(p)r(ossible)i(to)g(kno)n(w)f
(the)h(curren)n(t)g(inden)n(tation)g(\(it)g(is)g(the)h(\014eld)f("ind")
g(of)g(the)0 5004 y("pr)p 126 5004 V 29 w(con)n(text")h(v)-5
b(ariable\))27 b(and)g(it)h(is)g(therefore)e(p)r(ossible)h(to)h(tak)n
(e)f(decisions)g(b)r(efore)g(prin)n(ting.)0 5206 y(F)-7
b(or)20 b(example,)h(it)g(is)g(p)r(ossible,)g(in)g(a)f(prin)n(ter)g(of)
h(OCaml)e(statemen)n(ts,)j(to)f(decide)f(to)h(prin)n(t)f(all)g(matc)n
(h)g(cases)g(symmetrically)-7 b(,)0 5306 y(i.e.)37 b(all)27
b(with)h(one)g(line)f(for)g(eac)n(h)g(case)g(or)g(all)g(with)h
(newlines)g(after)f(the)h(patterns.)1908 5656 y(77)p
eop end
%%Page: 78 80
TeXDict begin 78 79 bop 0 70 a Fi(CHAPTER)27 b(10.)64
b(PPRINTF)p 0 103 3900 4 v 0 390 a(It)34 b(is)g(what)g(is)g(done)g(in)h
(the)f(option)g(")p Fb(-flag)41 b(E)p Fi(")33 b(added)h(b)n(y)g(the)g
(prett)n(y)g(prin)n(ting)g(kits)g("pr)p 3028 390 25 4
v 29 w(r.cmo")f(\(prett)n(y)h(prin)n(t)g(in)0 490 y(revised)29
b(syn)n(tax\))g(and)g("pr)p 871 490 V 29 w(o.cmo")g(\(prett)n(y)g(prin)
n(t)h(in)g(normal)e(syn)n(tax\).)43 b(See)29 b(c)n(hapter)g(Commands)g
(and)g(Files)h(or)f(t)n(yp)r(e)0 589 y(")p Fb(camlp5)41
b(pr)p 440 589 27 4 v 30 w(r.cmo)h(-help)p Fi(")25 b(or)i(")p
Fb(camlp5)40 b(pr)p 1555 589 V 31 w(o.cmo)h(-help)p Fi(".)0
789 y(Another)21 b(di\013erence)h(is)f(that)h(the)g(in)n(ternal)f(b)r
(eha)n(viour)f(of)h(this)h(prin)n(ting)f(system)g(is)h(accessible,)f
(and)h(it)g(is)f(alw)n(a)n(ys)e(p)r(ossible)0 888 y(to)24
b(use)g(the)h(basic)e(functions)i(of)f(the)g("Prett)n(y")f(mo)r(dule)h
(\("horiz)p 2056 888 25 4 v 29 w(v)n(ertic")f(and)h("sprin)n(tf"\))f
(if)i(the)g(b)r(eha)n(viour)e(of)h("pprin)n(tf")0 988
y(is)j(not)h(what)g(is)f(desired)g(b)n(y)g(the)h(programmer.)0
1263 y Fc(10.4)136 b(Relation)46 b(with)g(the)f(Camlp5)h(extensible)g
(prin)l(ters)0 1444 y Fi(The)30 b(extensible)f(prin)n(ters)g(of)h
(Camlp5)f(\(see)g(its)h(corresp)r(onding)e(c)n(hapter\))h(use)h(the)g
(t)n(yp)r(e)g(")p Fb(pr)p 3047 1444 27 4 v 30 w(context)p
Fi(")c(of)k("pprin)n(tf".)0 1544 y(It)37 b(is)f(therefore)g(p)r
(ossible)g(to)h(use)f("pprin)n(tf")g(in)h(the)g(seman)n(tic)g(actions)e
(of)i(the)g(extensible)g(prin)n(ters.)63 b(But)37 b(it)g(is)f(not)0
1644 y(mandatory)-7 b(.)36 b(An)28 b(extensible)f(prin)n(ter)g(can)g
(just)h(use)g(the)g("Prett)n(y")d(mo)r(dule)j(or)f(ev)n(en)g(neither)g
("pprin)n(tf")g(nor)g("Prett)n(y".)0 1843 y(The)g(prin)n(ting)g(kits)h
(")p Fb(pr)p 781 1843 V 30 w(r.ml)p Fi(")d(and)i(")p
Fb(pr)p 1345 1843 V 31 w(o.ml)p Fi(")e(\(resp)r(ectiv)n(ely)i(prett)n
(y)g(prin)n(t)g(in)h(revised)e(and)h(in)h(normal)e(syn)n(tax\))h(and)0
1942 y(some)g(other)g(related)g(to)g(them,)i(are)d(examples)h(of)h
(usage)e(of)i(the)g("pprin)n(tf")f(statemen)n(t.)0 2217
y Fc(10.5)136 b(The)44 b(Pprin)l(tf)h(mo)t(dule)0 2399
y Fi(See)28 b(its)f(section)h(in)f(the)h(c)n(hapter)f("Library".)1908
5656 y(78)p eop end
%%Page: 79 81
TeXDict begin 79 80 bop 0 1013 a Fd(Chapter)65 b(11)0
1428 y Fg(Prett)-6 b(y)77 b(prin)-6 b(t)0 1860 y Fi(A)21
b(prett)n(y)f(prin)n(t)g(system)h(is)f(pro)n(vided)f(in)i(the)g
(library)e(mo)r(dule)i(Prett)n(y)-7 b(.)34 b(It)21 b(allo)n(ws)e(one)h
(to)g(prett)n(y)g(prin)n(t)h(data)f(or)f(programs.)0
1960 y(The)28 b(Prett)n(y)e(mo)r(dule)i(con)n(tains:)125
2143 y Fh(\017)41 b Fi(The)27 b(function)h("horiz)p 931
2143 25 4 v 29 w(v)n(ertic")e(to)i(sp)r(ecify)g(ho)n(w)f(data)g(m)n
(ust)g(b)r(e)h(prin)n(ted.)125 2309 y Fh(\017)41 b Fi(The)27
b(function)h("sprin)n(tf")f(to)g(format)h(strings.)125
2475 y Fh(\017)41 b Fi(The)27 b(v)-5 b(ariable)27 b("line)p
866 2475 V 29 w(length")h(whic)n(h)f(is)h(a)f(reference)f(sp)r
(ecifying)i(the)g(maxim)n(um)f(lines)h(lengths.)0 2750
y Fc(11.1)136 b(Mo)t(dule)44 b(description)0 2949 y Fe(11.1.1)113
b(horiz)p 651 2949 34 4 v 40 w(v)m(ertic)0 3102 y Fi(The)30
b(function)h("horiz)p 729 3102 25 4 v 29 w(v)n(ertic")e(tak)n(es)g(t)n
(w)n(o)h(functions)h(as)e(parameters.)44 b(When)31 b(in)n(v)n(ok)n(ed,)
f(it)g(calls)g(its)h(\014rst)f(function.)46 b(If)0 3202
y(that)22 b(function)h(fails)e(with)i(some)e(in)n(ternal)g(error)f
(that)i(the)g(function)h(")p Fb(sprintf)p Fi(")18 b(b)r(elo)n(w)j(ma)n
(y)g(raise,)h(the)g(second)g(function)0 3301 y(is)27
b(called.)0 3501 y(The)h(t)n(yp)r(e)f(of)h("horiz)p 680
3501 V 29 w(v)n(ertic")e(is:)87 3684 y Fb(\(unit)42 b(->)g('a\))h(->)g
(\(unit)e(->)i('a\))f(->)h('a)0 3900 y Ff(the)32 b(horizon)m(tal)g
(function)0 4054 y Fi(The)e(\014rst)g(function)h(is)f(said)g(to)g(b)r
(e)h(the)g("horizon)n(tal")c(function.)46 b(It)31 b(tries)e(to)i(prett)
n(y)f(prin)n(t)g(the)g(data)g(on)g(a)g(single)g(line.)0
4153 y(In)e(the)g(con)n(text)g(of)f(this)h(function,)h(if)f(the)g
(strings)f(built)i(b)n(y)e(the)i(function)f("sprin)n(tf")f(\(see)g(b)r
(elo)n(w\))h(con)n(tain)f(newlines)h(or)0 4253 y(ha)n(v)n(e)e(lengths)i
(greater)e(than)h("line)p 1129 4253 V 30 w(length",)g(the)h(function)g
(fails)g(\(with)g(a)f(in)n(ternal)g(exception)h(lo)r(cal)f(to)g(the)h
(mo)r(dule\).)0 4469 y Ff(the)k(v)m(ertical)g(function)0
4622 y Fi(In)27 b(case)f(of)h(failure)g(of)g(the)g("horizon)n(tal)e
(function",)i(the)h(second)e(function)i(of)f("horiz)p
2741 4622 V 28 w(v)n(ertic",)f(the)i("v)n(ertical")c(function,)0
4722 y(is)30 b(called.)43 b(In)30 b(the)g(con)n(text)f(of)h(that)g
(function,)h(the)f("sprin)n(tf")f(function)h(b)r(eha)n(v)n(es)f(lik)n
(e)g(the)h(normal)f("sprin)n(tf")g(function)0 4822 y(of)f(the)g(OCaml)f
(library)f(mo)r(dule)i("Prin)n(tf".)0 5055 y Fe(11.1.2)113
b(sprin)m(tf)0 5208 y Fi(The)28 b(function)g("sprin)n(tf")f(w)n(orks)f
(lik)n(e)h(its)h(equiv)-5 b(alen)n(t)28 b(in)g(the)g(mo)r(dule)g("Prin)
n(tf")f(of)g(the)h(OCaml)g(library)-7 b(,)26 b(and)i(tak)n(es)f(the)0
5308 y(same)32 b(parameters.)51 b(Its)33 b(di\013erence)g(is)g(that)g
(if)g(it)g(is)g(called)f(in)i(the)f(con)n(text)f(of)h(the)g(\014rst)g
(function)g(\(the)h("horizon)n(tal")0 5407 y(function\))i(of)f(the)g
(function)h("horiz)p 1178 5407 V 28 w(v)n(ertic")e(\(ab)r(o)n(v)n(e\),)
i(all)f(strings)f(built)h(b)n(y)g("sprin)n(tf")f(are)g(c)n(hec)n(k)n
(ed)g(for)g(newlines)h(or)1908 5656 y(79)p eop end
%%Page: 80 82
TeXDict begin 80 81 bop 0 70 a Fi(CHAPTER)27 b(11.)64
b(PRETTY)27 b(PRINT)p 0 103 3900 4 v 0 390 a(length)d(greater)e(than)i
(the)h(maxim)n(um)e(line)h(length.)36 b(If)25 b(either)e(o)r(ccurs,)h
(the)g("sprin)n(tf")f(function)i(fails)f(and)f(the)i(horizon)n(tal)0
490 y(function)j(fails.)0 706 y(If)g("sprin)n(tf")f(is)g(not)h(in)g
(the)g(con)n(text)f(of)g(the)h(horizon)n(tal)e(function,)i(it)h(b)r
(eha)n(v)n(es)d(lik)n(e)h(the)h(usual)f("sprin)n(tf")g(function.)0
985 y Fe(11.1.3)113 b(line)p 581 985 34 4 v 41 w(length)0
1154 y Fi(The)30 b(v)-5 b(ariable)28 b("line)p 662 1154
25 4 v 30 w(length")h(is)h(a)f(reference)g(holding)g(the)h(maxim)n(um)f
(line)h(length)g(of)f(lines)h(prin)n(ted)g(horizon)n(tally)-7
b(.)41 b(Its)0 1254 y(default)28 b(is)g(78.)36 b(This)27
b(can)g(b)r(e)h(c)n(hanged)f(b)n(y)g(the)h(user)f(b)r(efore)g(using)h
("horiz)p 2410 1254 V 28 w(v)n(ertic".)0 1533 y Fe(11.1.4)113
b(horizon)m(tally)0 1702 y Fi(The)28 b(call)f(")p Fb(horizontally)38
b(\(\))p Fi(")26 b(returns)h(a)g(b)r(o)r(olean)g(telling)h(whether)g
(the)g(con)n(text)f(is)g(horizon)n(tal.)0 2023 y Fc(11.2)136
b(Example)0 2221 y Fi(Supp)r(ose)29 b(y)n(ou)f(w)n(an)n(t)g(to)g(prett)
n(y)h(prin)n(t)f(the)i(XML)f(co)r(de)f Fb("<li>something</l)o(i>)o(")p
Fi(.)34 b(If)29 b(the)h("something")d(is)i(short,)f(y)n(ou)0
2320 y(w)n(an)n(t)f(to)g(see:)87 2547 y Fb(<li>something</li)o(>)0
2764 y Fi(If)h(the)g("something")e(has)h(sev)n(eral)f(lines,)i(y)n(ou)e
(w)n(an)n(t)h(to)h(see)f(that:)87 2990 y Fb(<li>)174
3090 y(something)87 3189 y(</li>)0 3407 y Fi(A)h(p)r(ossible)f
(implemen)n(tation)h(is:)87 3633 y Fb(open)42 b(Pretty;)87
3733 y(horiz_vertic)174 3832 y(\(fun)g(\(\))h(->)g(sprintf)d
("<li>something</l)o(i>")o(\))174 3932 y(\(fun)i(\(\))h(->)g(sprintf)d
("<li>\\n)85 b(something\\n</li>)o("\))o(;)0 4149 y Fi(Notice)28
b(that)f(the)h(")p Fb(sprintf)p Fi(")c(ab)r(o)n(v)n(e)i(is)i(the)g(one)
f(of)h(the)g(library)e(Prett)n(y)-7 b(.)0 4366 y(Notice)26
b(also)g(that,)h(in)f(a)g(program)f(displa)n(ying)g(XML)i(co)r(de,)f
(this)h("something")e(ma)n(y)h(con)n(tain)g(other)f(XML)i(tags,)f(and)g
(is)0 4465 y(therefore)h(generally)f(the)i(result)f(of)h(other)f(prett)
n(y)g(prin)n(ting)g(functions,)h(and)g(the)f(program)f(should)h(rather)
g(lo)r(ok)g(lik)n(e:)87 4692 y Fb(horiz_vertic)174 4791
y(\(fun)42 b(\(\))h(->)g(sprintf)d("<li>\\\045s</li>")e(\(print)j
(something\)\))174 4891 y(\(fun)h(\(\))h(->)g(sprintf)d("<li>\\n)85
b(\\\045s\\n</li>")39 b(\(print)i(something\)\))0 5108
y Fi(P)n(arts)24 b(of)i(this)g("something")f(can)g(b)r(e)h(prin)n(ted)g
(horizon)n(tally)e(and)i(other)f(v)n(ertically)g(using)h(other)f(calls)
g(to)h("horiz)p 3632 5108 V 28 w(v)n(ertic")0 5208 y(in)31
b(the)h(user)e(function)i("prin)n(t")e(ab)r(o)n(v)n(e.)45
b(But)32 b(it)f(is)g(imp)r(ortan)n(t)g(to)g(remark)e(that)i(if)h(they)f
(are)f(called)h(in)g(the)h(con)n(text)e(of)0 5308 y(the)e(\014rst)g
(function)h(parameter)d(of)i("horiz)p 1361 5308 V 29
w(v)n(ertic")f(ab)r(o)n(v)n(e,)f(only)i(horizon)n(tal)e(functions)j
(are)e(accepted:)37 b(the)29 b(\014rst)e(failing)0 5407
y("horizon)n(tal")e(function)j(triggers)e(the)i(failure)f(of)h(the)g
(horizon)n(tal)e(prett)n(y)h(prin)n(ting.)1908 5656 y(80)p
eop end
%%Page: 81 83
TeXDict begin 81 82 bop 2629 70 a Fi(CHAPTER)28 b(11.)63
b(PRETTY)27 b(PRINT)p 0 103 3900 4 v 0 390 a Fc(11.3)136
b(Programming)46 b(with)f(Prett)l(y)0 589 y Fe(11.3.1)113
b(Hin)m(ts)0 742 y Fi(Just)27 b(start)h(with)g(a)f(call)g(to)g("horiz)p
1120 742 25 4 v 29 w(v)n(ertic".)0 941 y(As)k(its)f(\014rst)h
(function,)h(use)e("sprin)n(tf")f(just)j(to)e(concat)g(the)h(strings)e
(without)i(putting)g(an)n(y)f(newlines)h(or)e(inden)n(tations,)0
1041 y(e.g.)36 b(just)29 b(using)e(spaces)f(to)i(separate)e(pieces)h
(of)h(data.)0 1240 y(As)35 b(its)f(second)g(function,)j(consider)c(ho)n
(w)h(y)n(ou)g(w)n(an)n(t)f(y)n(our)h(data)g(to)g(b)r(e)h(cut.)58
b(A)n(t)34 b(the)h(cutting)g(p)r(oin)n(t)g(or)e(p)r(oin)n(ts,)j(add)0
1340 y(newlines.)49 b(Notice)31 b(that)h(y)n(ou)f(probably)f(need)i(to)
f(giv)n(e)g(the)h(curren)n(t)f(inden)n(tation)g(string)g(as)g
(parameter)f(of)i(the)f(called)0 1439 y(functions)d(b)r(ecause)f(they)h
(need)g(to)f(b)r(e)h(tak)n(en)f(in)n(to)g(accoun)n(t)g(in)h(the)g
(called)f("horizon)n(tal")e(functions.)0 1639 y(In)35
b(the)g(example)f(b)r(elo)n(w,)i(don't)f(put)g(the)g(inden)n(tation)f
(in)h(the)g(sprin)n(tf)g(function)g(but)g(giv)n(e)f(it)h(as)f
(parameter)f(of)h(y)n(our)0 1738 y("prin)n(t")27 b(function:)87
1919 y Fb(horiz_vertic)174 2018 y(\(fun)42 b(\(\))h(->)g(sprintf)d
("<li>\\\045s</li>")e(\(print)j("")i(something\)\))174
2118 y(\(fun)f(\(\))h(->)g(sprintf)d("<li>\\n\\\045s\\n</li>)o(")e
(\(print)j(")86 b(")44 b(something\)\))0 2298 y Fi(No)n(w,)39
b(the)e("prin)n(t")f(function)h(could)g(lo)r(ok)f(lik)n(e,)i(supp)r
(osing)f(y)n(ou)f(prin)n(t)g(other)h(things)f(with)i("other")d(of)i
(the)g(curren)n(t)0 2398 y(inden)n(tation)27 b(and)h("things")e(with)j
(a)e(new)g(shifted)i(one:)87 2578 y Fb(value)42 b(print)f(ind)i
(something)c(=)174 2678 y(horiz_vertic)262 2778 y(\(fun)i(\(\))i(->)g
(sprintf)e("\\\045sother)f(things...")f(ind\))262 2877
y(\(fun)i(\(\))i(->)g(sprintf)e("\\\045sother\\n\\\045s)81
b(things...")39 b(ind)k(ind\);)0 3058 y Fi(Supp)r(osing)25
b(than)h("other")e(and)h("things")f(are)g(the)i(result)f(of)h(t)n(w)n
(o)e(other)h(functions)h("prin)n(t)p 2925 3058 V 29 w(other")e(and)h
("prin)n(t)p 3589 3058 V 30 w(things",)0 3157 y(y)n(our)h(program)g
(could)h(lo)r(ok)g(lik)n(e:)87 3338 y Fb(value)42 b(print)f(ind)i(\(x,)
f(y\))h(=)174 3437 y(horiz_vertic)262 3537 y(\(fun)e(\(\))i(->)g
(sprintf)e("\\\045s\\\045s)f(\\\045s")i(ind)h(\(print_other)38
b(0)43 b(x\))g(\(print_things)38 b(0)44 b(y\)\))262 3637
y(\(fun)d(\(\))i(->)g(sprintf)e("\\\045s\\n\\\045s")e(\(print_other)g
(ind)j(x\))h(\(print_things)38 b(\(ind)k(^)h(")87 b("\))43
b(y\)\);)0 3869 y Fe(11.3.2)113 b(Ho)m(w)36 b(to)h(cancel)h(a)g
(horizon)m(tal)g(prin)m(t)0 4022 y Fi(If)27 b(y)n(ou)f(w)n(an)n(t)g(to)
g(prev)n(en)n(t)g(a)g(prett)n(y)g(prin)n(ting)g(function)h(from)g(b)r
(eing)f(called)g(in)h(a)f(horizon)n(tal)f(con)n(text,)i(constraining)e
(the)0 4122 y(prett)n(y)i(prin)n(t)h(to)f(b)r(e)h(on)g(sev)n(eral)d
(lines)j(in)g(the)g(calling)f(function,)h(just)g(do:)87
4302 y Fb(horiz_vertic)174 4402 y(\(fun)42 b(\(\))h(->)g(sprintf)d
("\\n"\))174 4501 y(\(fun)i(\(\))h(->)g(...)f(\(*)h(your)f(normal)f
(pretty)g(print)h(*\)\))0 4682 y Fi(In)28 b(this)g(case,)e(the)i
(horizon)n(tal)e(prin)n(t)i(alw)n(a)n(ys)e(fails,)h(due)h(to)f(the)h
(newline)g(c)n(haracter)e(in)i(the)g(sprin)n(tf)f(format.)0
4956 y Fc(11.4)136 b(Remarks)0 5154 y Fe(11.4.1)113 b(Kernel)0
5308 y Fi(The)28 b(mo)r(dule)h("Prett)n(y")d(is)i(in)n(tended)h(to)f(b)
r(e)g(basic,)g(a)g("k)n(ernel")e(mo)r(dule)j(to)f(prett)n(y)g(prin)n(t)
g(data.)38 b(It)29 b(presumes)e(that)i(the)0 5407 y(user)e(tak)n(es)g
(care)f(of)i(the)g(inden)n(tation.)36 b(Programs)25 b(using)i("Prett)n
(y")f(are)h(not)g(as)g(short)g(as)g(the)h(ones)f(using)g("F)-7
b(ormat")26 b(of)1908 5656 y(81)p eop end
%%Page: 82 84
TeXDict begin 82 83 bop 0 70 a Fi(CHAPTER)27 b(11.)64
b(PRETTY)27 b(PRINT)p 0 103 3900 4 v 0 390 a(the)e(OCaml)g(library)-7
b(,)24 b(but)h(are)f(more)g(\015exible.)36 b(Later,)25
b(it)g(is)g(planed)g(to)g(\014nd)g(a)g(w)n(a)n(y)e(to)i(extend)g
("Prett)n(y")e(with)j(functions)0 490 y(allo)n(wing)21
b(to)i(use)g(a)f(short)g(syn)n(tax)g(similar)g(to)h(the)g("@")f(con)n
(v)n(en)n(tion)f(of)i(the)g(function)h("prin)n(tf")e(of)h("F)-7
b(ormat",)22 b(and)h(taking)0 589 y(care)j(of)i(the)g(inden)n(tation)g
(for)f(the)h(user,)f(resulting)g(on)g(shorter)f(programs.)0
822 y Fe(11.4.2)113 b(Strings)37 b(vs)h(Channels)0 975
y Fi(In)c("Prett)n(y",)f(the)h(prett)n(y)f(prin)n(ting)h(is)f(done)g
(only)h(on)f(strings,)h(not)g(on)f(\014les.)55 b(T)-7
b(o)33 b(prett)n(y)h(prin)n(t)f(\014les,)i(just)f(build)h(the)0
1075 y(strings)29 b(and)h(prin)n(t)g(them)h(afterw)n(ards)d(with)i(the)
h(usual)f(output)g(functions.)45 b(Notice)30 b(that)g(OCaml)g(allo)r
(cates)f(and)h(frees)0 1174 y(strings)23 b(quic)n(kly)-7
b(,)24 b(and)f(if)h(prett)n(y)f(prin)n(ted)h(v)-5 b(alues)23
b(are)g(not)g(h)n(uge,)h(whic)n(h)g(is)f(generally)f(the)i(case,)g(it)g
(is)f(not)h(a)f(real)g(problem,)0 1274 y(memory)k(sizes)g(these)g(da)n
(ys)g(b)r(eing)h(more)e(than)i(enough)f(for)g(this)h(job.)0
1506 y Fe(11.4.3)113 b(Strings)37 b(or)g(other)g(t)m(yp)s(es)0
1660 y Fi(The)23 b("horiz)p 394 1660 25 4 v 28 w(v)n(ertic")f(function)
i(can)e(return)g(v)-5 b(alues)23 b(of)g(t)n(yp)r(es)g(other)f(than)h
("string".)33 b(F)-7 b(or)23 b(example,)g(if)h(y)n(ou)e(are)f(in)n
(terested)0 1759 y(only)27 b(in)h(the)g(result)f(of)h(horizon)n(tal)e
(con)n(text)h(and)g(not)h(on)f(the)h(v)n(ertical)f(one,)g(it)h(is)g(p)r
(erfectly)f(correct)g(to)g(write:)87 1942 y Fb(horiz_vertic)174
2042 y(\(fun)42 b(\(\))h(->)g(Some)f(\(sprintf)e("I)j(hold)f(on)g(a)i
(single)d(line"\))174 2141 y(\(fun)h(\(\))h(->)g(None\))0
2374 y Fe(11.4.4)113 b(Wh)m(y)37 b(raising)h(exceptions)g(?)0
2527 y Fi(One)c(could)h(ask)f(wh)n(y)g(this)h(prett)n(y)g(prin)n(t)f
(system)h(raises)e(in)n(ternal)h(exceptions.)58 b(Wh)n(y)35
b(not)g(simply)g(write)f(the)h(prett)n(y)0 2626 y(prin)n(ting)27
b(program)f(lik)n(e)h(this:)101 2809 y(1.)42 b(\014rst)27
b(build)h(the)g(data)f(horizon)n(tally)f(\(without)i(newlines\))101
2975 y(2.)42 b(if)28 b(the)g(string)f(length)g(is)h(lo)n(w)n(er)e(than)
h(the)h(maxim)n(um)g(line)g(length,)f(return)h(it)101
3141 y(3.)42 b(if)28 b(not,)f(build)h(the)g(string)f(b)n(y)h(adding)f
(newlines)g(in)h(the)g(sp)r(eci\014c)g(places)0 3324
y(This)22 b(metho)r(d)g(w)n(orks)e(but)i(is)f(generally)f(v)n(ery)h
(slo)n(w)g(\(exp)r(onen)n(tial)g(in)h(time\))g(b)r(ecause)f(while)h
(prin)n(ting)f(horizon)n(tally)-7 b(,)22 b(man)n(y)0
3423 y(useless)28 b(strings)g(are)g(built.)41 b(If,)30
b(for)e(example,)h(the)g(\014nal)g(prin)n(ted)f(data)h(holds)f(on)h(50)
e(lines,)j(tens)f(of)f(lines)h(ma)n(y)f(b)r(e)h(built)0
3523 y(uselessly)e(again)f(and)i(again)e(b)r(efore)h(the)h(o)n(v)n
(er\015o)n(wing)d(is)j(corrected.)1908 5656 y(82)p eop
end
%%Page: 83 85
TeXDict begin 83 84 bop 1616 2049 a Fd(P)-5 b(art)65
b(I)5 b(I)g(I)907 2464 y Fg(Language)77 b(extensions)1908
5656 y Fi(83)p eop end
%%Page: 84 86
TeXDict begin 84 85 bop eop end
%%Page: 85 87
TeXDict begin 85 86 bop 0 1015 a Fd(Chapter)65 b(12)0
1432 y Fg(Lo)6 b(cations)0 1865 y Fi(The)28 b(lo)r(cation)f(is)h(a)f
(concept)h(often)g(used)g(in)g(Camlp5,)g(b)r(ound)g(to)g(where)f
(errors)f(o)r(ccur)h(in)h(the)g(source.)37 b(The)28 b(basic)f(t)n(yp)r
(e)0 1965 y(is)g(")p Fb(Ploc.t)p Fi(")e(whic)n(h)i(is)h(an)f(abstract)g
(t)n(yp)r(e.)0 2249 y Fc(12.1)136 b(De\014nitions)0 2434
y Fi(In)n(ternally)24 b(a)g(lo)r(cation)g(is)h(a)f(pair)g(of)h(source)f
Fa(p)l(ositions)7 b Fi(:)36 b(the)25 b(b)r(eginning)g(and)g(the)g(end)g
(of)g(an)f(elemen)n(t)h(in)g(the)g(source)f(\(\014le)0
2534 y(or)i(in)n(teractiv)n(e\).)36 b(A)28 b(lo)r(cated)f(elemen)n(t)h
(can)f(b)r(e)g(a)g(c)n(haracter)f(\(the)i(end)f(is)g(just)h(the)g(b)r
(eginning)f(plus)h(one\),)f(a)g(tok)n(en,)g(or)f(a)0
2634 y(longer)g(sequence)h(generally)f(corresp)r(onding)g(to)i(a)f
(grammar)e(rule.)0 2836 y(A)e Fa(p)l(osition)29 b Fi(is)23
b(a)e(coun)n(t)h(of)g(c)n(haracters)e(since)i(the)h(b)r(eginning)f(of)g
(the)h(\014le,)g(starting)f(at)g(zero.)34 b(When)23 b(a)e(couple)h(of)h
(p)r(ositions)0 2936 y(de\014ne)g(a)f(lo)r(cation,)i(the)f(\014rst)f(p)
r(osition)h(is)g(the)g(p)r(osition)f(of)h(the)g(\014rst)g(c)n(haracter)
d(of)j(the)g(elemen)n(t,)h(and)f(the)g(last)g(p)r(osition)f(is)0
3036 y(the)j(\014rst)f(c)n(haracter)f Fa(not)32 b Fi(part)24
b(of)h(the)g(elemen)n(t.)36 b(The)24 b(lo)r(cation)g(length)h(is)f(the)
h(di\013erence)g(b)r(et)n(w)n(een)f(those)h(t)n(w)n(o)f(n)n(um)n(b)r
(ers.)0 3135 y(Notice)k(that)f(the)h(p)r(osition)g(corresp)r(onds)e
(exactly)h(to)g(the)h(c)n(haracter)e(coun)n(t)h(in)h(the)g(streams)e
(of)i(c)n(haracters.)0 3338 y(In)f(the)f(extensible)h(grammars,)d(a)i
(v)-5 b(ariable)26 b(with)h(the)g(sp)r(eci\014c)f(name)g(")p
Fb(loc)p Fi(")f(is)h(prede\014ned)g(in)h(all)f(seman)n(tic)g(actions:)
36 b(it)0 3438 y(is)24 b(the)g(lo)r(cation)f(of)h(the)g(asso)r(ciated)f
(rule.)35 b(Since)24 b(the)h(syn)n(tax)e(tree)g(quotations)g(generate)g
(no)r(des)g(with)i(")p Fb(loc)p Fi(")d(as)h(lo)r(cation)0
3538 y(part,)k(this)h(allo)n(w)f(to)g(generate)f(grammars)g(without)i
(ha)n(ving)e(to)i(consider)e(source)h(lo)r(cations.)0
3740 y(It)35 b(is)g(p)r(ossible)f(to)h(c)n(hange)f(the)h(name)f(")p
Fb(loc)p Fi(")f(to)i(another)e(name,)k(through)d(the)h(parameter)e(")p
Fb(-loc)p Fi(")g(of)h(the)i(Camlp5)0 3840 y(commands.)0
4043 y(Remark:)46 b(the)33 b(reason)e(wh)n(y)h(the)h(t)n(yp)r(e)g(")p
Fb(location)p Fi(")28 b(is)33 b(abstract)f(is)g(that)h(in)g(future)g(v)
n(ersions,)f(it)h(ma)n(y)f(con)n(tain)g(other)0 4143
y(informations,)f(suc)n(h)h(as)e(the)i(asso)r(ciated)e(commen)n(ts,)i
(the)g(t)n(yp)r(e)f(\(for)h(expressions)d(no)r(des\),)k(things)e(lik)n
(e)g(that,)i(without)0 4242 y(ha)n(ving)27 b(to)g(c)n(hange)f(the)i
(already)f(written)g(programs.)0 4527 y Fc(12.2)136 b(Building)45
b(lo)t(cations)0 4712 y Fi(T)-7 b(o)r(ols)27 b(are)f(pro)n(vided)h(in)h
(the)g(mo)r(dule)g(")p Fb(Ploc)p Fi(")d(to)i(manage)g(lo)r(cations.)0
4915 y(First,)32 b(")p Fb(Ploc.dummy)p Fi(")26 b(is)31
b(a)f(dumm)n(y)i(lo)r(cation)e(used)h(when)g(the)g(elemen)n(t)h(do)r
(es)e(not)h(corresp)r(ond)f(to)h(an)n(y)f(source,)g(or)h(if)0
5014 y(the)d(programmer)d(do)r(es)i(not)h(w)n(an)n(t)f(to)g(w)n(orry)f
(ab)r(out)i(lo)r(cations.)0 5217 y(The)g(function)g(")p
Fb(Ploc.make)p Fi(")23 b(builds)28 b(a)f(lo)r(cation)g(from)g(three)g
(parameters:)125 5407 y Fh(\017)41 b Fi(the)28 b(line)f(n)n(um)n(b)r
(er,)h(starting)e(at)i(1)1908 5656 y(85)p eop end
%%Page: 86 88
TeXDict begin 86 87 bop 0 70 a Fi(CHAPTER)27 b(12.)64
b(LOCA)-7 b(TIONS)p 0 103 3900 4 v 125 390 a Fh(\017)41
b Fi(the)28 b(p)r(osition)f(of)g(the)h(\014rst)g(column)f(of)h(the)g
(line)125 569 y Fh(\017)41 b Fi(a)32 b(couple)g(of)g(p)r(ositions)g(of)
g(the)h(lo)r(cation:)46 b(the)33 b(\014rst)f(one)g(b)r(elonging)g(to)g
(the)h(giv)n(en)e(line,)j(the)f(second)f(one)g(b)r(eing)208
669 y(able)27 b(to)g(b)r(elong)h(to)f(another)g(line,)h(further.)0
865 y(If)35 b(the)f(line)g(n)n(um)n(b)r(er)g(is)g(not)h(kno)n(wn,)g(it)
f(is)g(p)r(ossible)g(to)g(use)g(the)h(function)f(")p
Fb(Ploc.make)p 2930 865 27 4 v 28 w(unlined)p Fi(")c(taking)k(only)g
(the)0 964 y(couple)25 b(of)h(p)r(ositions)f(of)h(the)g(lo)r(cation.)36
b(In)25 b(this)h(case,)g(error)d(messages)h(ma)n(y)h(indicate)h(the)g
(\014rst)g(line)f(and)h(a)f(big)h(coun)n(t)f(of)0 1064
y(c)n(haracters)g(from)h(this)h(line)g(\(actually)g(from)g(the)g(b)r
(eginning)g(of)g(the)g(\014le\).)37 b(With)28 b(a)e(go)r(o)r(d)g(text)i
(editor,)e(it)i(is)e(p)r(ossible,)h(to)0 1164 y(\014nd)h(the)g(go)r(o)r
(d)f(lo)r(cation,)g(an)n(yw)n(a)n(y)-7 b(.)0 1370 y(If)30
b(the)g(lo)r(cation)f(is)g(built)h(with)g(")p Fb(Ploc.make)p
1467 1370 V 28 w(unlined)p Fi(",)c(and)k(if)g(y)n(our)e(program)f
(displa)n(ys)i(a)g(source)f(lo)r(cation)h(itself,)i(it)0
1469 y(is)d(p)r(ossible)g(to)g(use)g(the)h(function)f(")p
Fb(Ploc.from)p 1555 1469 V 28 w(file)p Fi(")e(whic)n(h)i(tak)n(es)f
(the)i(\014le)f(name)g(and)g(the)h(lo)r(cation)e(as)h(parameters)0
1569 y(and)f(return,)h(b)n(y)f(reading)f(that)i(\014le,)g(the)g(line)g
(n)n(um)n(b)r(er,)f(and)h(the)g(c)n(haracter)d(p)r(ositions)i(of)h(the)
g(lo)r(cation.)0 1861 y Fc(12.3)136 b(Raising)46 b(with)f(a)g(lo)t
(cation)0 2049 y Fi(The)27 b(function)g(")p Fb(Ploc.raise)p
Fi(")22 b(allo)n(ws)j(one)i(to)f(raise)g(an)h(exception)f(together)g
(with)h(a)g(lo)r(cation.)36 b(All)27 b(exceptions)f(raised)0
2148 y(in)32 b(the)h(extensible)f(grammars)e(use)i(")p
Fb(Ploc.raise)p Fi(".)45 b(The)32 b(raised)f(exception)h(is)g(")p
Fb(Ploc.Exc)p Fi(")c(with)k(t)n(w)n(o)g(parameters:)0
2248 y(the)c(lo)r(cation)f(and)g(the)h(exception)g(itself.)0
2454 y(Notice)35 b(that)h(")p Fb(Ploc.raise)p Fi(")30
b(just)36 b(reraises)d(the)j(exception)f(if)h(it)g(is)f(already)f(the)h
(exception)g(")p Fb(Ploc.Exc)p Fi(",)f(ignoring)0 2554
y(then)28 b(the)g(new)g(giv)n(en)f(lo)r(cation.)0 2759
y(A)e(paradigm)e(to)i(prin)n(t)f(exceptions)g(p)r(ossibly)g(enclosed)g
(b)n(y)g(")p Fb(Ploc.Exc)p Fi(")d(is)j(to)h(write)f(the)h(")p
Fb(try..with)p Fi(")20 b(statemen)n(t)k(lik)n(e)0 2859
y(this:)87 3058 y Fb(try)43 b(...)f(with)g(exn)g(->)174
3158 y(let)h(exn)f(=)262 3257 y(match)f(exn)h(with)262
3357 y([)h(Ploc.Exc)d(loc)i(exn)h(->)f(do)h({)g(...)g(print)e(the)i
(location)d(...;)i(exn)g(})262 3457 y(|)h(_)g(->)g(exn)f(])174
3556 y(in)174 3656 y(match)g(exn)g(with)174 3755 y(...print)f(the)h
(exception)e(which)h(is)i(*not*)f(located...)0 4047 y
Fc(12.4)136 b(Other)45 b(functions)0 4235 y Fi(Some)27
b(other)g(functions)h(are)f(pro)n(vided:)0 4431 y Fb(Ploc.first)p
445 4431 V 27 w(pos)208 4571 y Fi(returns)f(the)i(\014rst)g(p)r
(osition)f(\(an)h(in)n(teger\))f(of)g(the)h(lo)r(cation.)0
4750 y Fb(Ploc.last)p 401 4750 V 28 w(pos)208 4889 y
Fi(returns)i(the)i(last)g(p)r(osition)f(\(an)h(in)n(teger\))e(of)i(the)
g(lo)r(cation)f(\(p)r(osition)g(of)h(the)g(\014rst)f(c)n(haracter)f
(not)h(b)r(elonging)g(to)208 4989 y(the)d(elemen)n(t.)0
5168 y Fb(Ploc.line)p 401 5168 V 28 w(nb)208 5308 y Fi(returns)e(the)i
(line)g(n)n(um)n(b)r(er)f(of)g(the)h(lo)r(cation)f(or)f
Fb(-1)h Fi(if)h(the)g(lo)r(cation)e(do)r(es)h(not)h(con)n(tain)e(a)h
(line)h(n)n(um)n(b)r(er)f(\(i.e.)37 b(built)208 5407
y(b)n(y)27 b(")p Fb(Ploc.make)p 766 5407 V 27 w(unlined)p
Fi("\).)1908 5656 y(86)p eop end
%%Page: 87 89
TeXDict begin 87 88 bop 2788 70 a Fi(CHAPTER)28 b(12.)63
b(LOCA)-7 b(TIONS)p 0 103 3900 4 v 0 390 a Fb(Ploc.bol)p
357 390 27 4 v 28 w(pos)208 523 y Fi(returns)34 b(the)h(p)r(osition)g
(of)g(the)h(b)r(eginning)f(of)g(the)g(line)g(of)g(the)h(lo)r(cation.)59
b(It)35 b(is)g(zero)f(if)h(the)h(lo)r(cation)e(do)r(es)h(not)208
623 y(con)n(tain)26 b(a)i(line)f(n)n(um)n(b)r(er)h(\(i.e.)37
b(built)28 b(b)n(y)g(")p Fb(Ploc.make)p 1961 623 V 27
w(unlined)p Fi("\).)0 805 y(And)g(still)g(other)f(ones)g(used)h(in)f
(Camlp5)g(sources:)0 988 y Fb(Ploc.encl)208 1121 y Fi(")p
Fb(Ploc.encl)39 b(loc1)j(loc2)p Fi(")22 b(returns)h(the)h(lo)r(cation)f
(starting)g(at)h(the)g(smallest)f(b)r(egin)h(of)g(")p
Fb(loc1)p Fi(")d(and)j(")p Fb(loc2)p Fi(")d(and)208 1220
y(ending)28 b(at)g(their)g(greatest)f(end..)39 b(In)29
b(simple)f(w)n(ords,)f(it)i(is)f(the)h(lo)r(cation)e(enclosing)h(")p
Fb(loc1)p Fi(")d(and)k(")p Fb(loc2)p Fi(")c(and)j(all)208
1320 y(what)f(is)h(b)r(et)n(w)n(een)f(them.)0 1486 y
Fb(Ploc.shift)208 1619 y Fi(")p Fb(Ploc.shift)39 b(sh)j(loc)p
Fi(")32 b(returns)h(the)h(lo)r(cation)f(")p Fb(loc)p
Fi(")e(shifted)j(with)g(")p Fb(sh)p Fi(")e(c)n(haracters.)53
b(The)33 b(line)h(n)n(um)n(b)r(er)f(is)208 1719 y(not)27
b(recomputed.)0 1885 y Fb(Ploc.sub)208 2017 y Fi(")p
Fb(Ploc.sub)39 b(loc)k(sh)f(len)p Fi(")33 b(is)h(the)g(lo)r(cation)f(")
p Fb(loc)p Fi(")f(shifted)j(with)f(")p Fb(sh)p Fi(")e(c)n(haracters)g
(and)i(with)g(length)g(")p Fb(len)p Fi(".)208 2117 y(The)27
b(previous)g(ending)g(p)r(osition)h(of)f(the)h(lo)r(cation)f(is)h
(lost.)0 2283 y Ff(")p Fb(Ploc.after)p Ff(")208 2416
y Fi(")p Fb(Ploc.after)39 b(loc)j(sh)h(len)p Fi(")22
b(is)i(the)h(lo)r(cation)f(just)h(after)f(")p Fb(loc)p
Fi(")e(\(i.e.)36 b(starting)23 b(at)h(the)h(end)g(p)r(osition)f(of)g(")
p Fb(loc)p Fi("\),)208 2516 y(shifted)k(with)g(")p Fb(sh)p
Fi(")e(c)n(haracters,)f(and)j(of)f(length)h(")p Fb(len)p
Fi(".)1908 5656 y(87)p eop end
%%Page: 88 90
TeXDict begin 88 89 bop eop end
%%Page: 89 91
TeXDict begin 89 90 bop 0 1014 a Fd(Chapter)65 b(13)0
1430 y Fg(Syn)-6 b(tax)77 b(tree)0 1874 y Fi(In)32 b(Camlp5,)h(one)e
(often)h(uses)g(syn)n(tax)f(trees.)49 b(F)-7 b(or)31
b(example,)i(in)f(grammars)d(of)j(the)g(language)f(\(seman)n(tic)g
(actions\),)i(in)0 1974 y(prett)n(y)27 b(prin)n(ting)g(\(as)g
(patterns\),)g(in)h(optimizing)f(syn)n(tax)g(co)r(de)g(\(t)n(ypically)g
(stream)g(parsers\).)35 b(Syn)n(tax)27 b(trees)g(are)f(mainly)0
2073 y(de\014ned)34 b(b)n(y)g(sum)g(t)n(yp)r(es,)h(one)f(for)f(eac)n(h)
h(kind)g(of)g(tree:)49 b(")p Fb(expr)p Fi(")31 b(for)j(expressions,)f
(")p Fb(patt)p Fi(")f(for)h(patterns,)i(")p Fb(ctyp)p
Fi(")d(for)0 2173 y(t)n(yp)r(es,)c(")p Fb(str)p 422 2173
27 4 v 29 w(item)p Fi(")e(for)h(structure)g(items,)h(and)f(so)g(on.)37
b(Eac)n(h)26 b(no)r(de)i(corresp)r(onds)e(to)h(a)g(p)r(ossible)g(v)-5
b(alue)28 b(of)f(this)h(t)n(yp)r(e.)0 2453 y Fc(13.1)136
b(T)-11 b(ransitional)46 b(and)e(Strict)h(mo)t(des)0
2637 y Fi(Since)35 b(v)n(ersion)f(5.00)g(of)h(Camlp5,)i(the)e
(de\014nition)h(of)f(the)h(syn)n(tax)e(tree)h(has)g(b)r(een)g
(di\013eren)n(t)h(according)d(to)i(the)h(mo)r(de)0 2736
y(Camlp5)27 b(has)g(b)r(een)h(installed:)125 2923 y Fh(\017)41
b Fi(In)27 b Fa(tr)l(ansitional)37 b Fi(mo)r(de,)28 b(this)g
(de\014nition)g(is)f(the)h(same)f(than)h(in)g(the)g(previous)e(Camlp5)h
(v)n(ersions.)125 3094 y Fh(\017)41 b Fi(In)20 b Fa(strict)29
b Fi(mo)r(de,)22 b(man)n(y)e(constructor)f(parameters)g(ha)n(v)n(e)g(a)
h(t)n(yp)r(e)h(enclosed)f(b)n(y)g(the)h(prede\014ned)g(t)n(yp)r(e)g(")p
Fb(Ploc.vala)p Fi(".)0 3280 y(The)33 b(adv)-5 b(an)n(tage)31
b(of)i(the)g(transitional)e(mo)r(de)i(is)g(that)g(the)g(abstract)f(syn)
n(tax)f(tree)i(is)f(fully)i(compatible)e(with)h(previous)0
3380 y(v)n(ersions)f(of)i(Camlp5.)55 b(Its)34 b(dra)n(wbac)n(k)d(is)j
(that)g(when)g(using)g(the)g(syn)n(tax)f(tree)g(quotations)g(in)h(user)
g(syn)n(tax,)g(it)g(is)g(not)0 3480 y(p)r(ossible)27
b(to)h(use)f(an)n(tiquotations,)g(a)g(signi\014catan)n(t)f(limitation.)
0 3681 y(In)g(strict)h(mo)r(de,)f(the)h(abstract)e(syn)n(tax)h(is)g
(not)g(compatible)g(with)h(v)n(ersions)d(of)i(Camlp5)g(previous)f(to)h
(5.00.)35 b(Most)26 b(of)h(the)0 3781 y(parameters)k(of)h(the)g
(constructor)f(are)g(enclosed)h(with)h(the)f(t)n(yp)r(e)h(")p
Fb(Ploc.vala)p Fi(")27 b(whose)32 b(aim)g(is)g(to)g(allo)n(w)g(no)r
(des)g(to)g(b)r(e)0 3880 y(either)f(of)g(the)h(t)n(yp)r(e)g(argumen)n
(t,)f(or)f(an)h(an)n(tiquotation.)48 b(In)31 b(this)h(mo)r(de,)g(the)g
(syn)n(tax)e(tree)h(quotations)g(in)g(user)g(syn)n(tax)0
3980 y(can)c(b)r(e)h(used,)g(with)g(the)g(same)f(p)r(o)n(w)n(er)f(of)i
(the)g(previous)e(syn)n(tax)h(tree)g(quotations)g(pro)n(vided)f(b)n(y)i
(Camlp5.)0 4260 y Fc(13.2)136 b(Compatibilit)l(y)0 4444
y Fi(As)27 b(there)g(is)f(a)h(problem)f(of)h(compatibilit)n(y)g(in)g
(strict)f(mo)r(de,)h(a)g(go)r(o)r(d)f(solution,)h(for)f(the)h
(programmer,)e(is)i(to)f(alw)n(a)n(ys)f(use)0 4543 y(syn)n(tax)32
b(trees)g(using)h(quotations,)g(whic)n(h)g(is)g(bac)n(kw)n(ard)e
(compatible.)53 b(See)33 b(the)g(c)n(hapter)f(ab)r(out)h(syn)n(tax)f
(tree)h(in)g(strict)0 4643 y(mo)r(de.)0 4844 y(F)-7 b(or)27
b(example,)g(if)h(the)g(program)e(made)h(a)g(v)-5 b(alue)28
b(of)f(the)h(syn)n(tax)f(tree)g(of)h(the)g("let")f(statemen)n(t,)h(lik)
n(e)f(this:)87 5032 y Fb(ExLet)42 b(loc)g(rf)h(pel)f(e)0
5219 y Fi(In)28 b(strict)f(mo)r(de,)h(to)f(b)r(e)h(equiv)-5
b(alen)n(t,)28 b(this)g(expression)e(should)h(b)r(e)h(rewritten)g(lik)n
(e)f(this:)87 5407 y Fb(ExLet)42 b(loc)g(\(Ploc.VaVal)d(rf\))j
(\(Ploc.VaVal)d(pel\))j(e)1908 5656 y Fi(89)p eop end
%%Page: 90 92
TeXDict begin 90 91 bop 0 70 a Fi(CHAPTER)27 b(13.)64
b(SYNT)-7 b(AX)29 b(TREE)p 0 103 3900 4 v 0 390 a(where)c(")p
Fb(Ploc.VaVal)p Fi(")c(is)k(a)g(v)-5 b(alue)26 b(of)g(the)g(t)n(yp)r(e)
f(")p Fb(vala)p Fi(")f(de\014ned)i(in)g(the)g(mo)r(dule)f(Plo)r(c)g
(\(see)h(its)g(section)f("p)r(erv)-5 b(asiv)n(es"\).)0
589 y(This)25 b(necessary)e(con)n(v)n(ersion)g(is)h(a)h(dra)n(wbac)n(k)
e(if)i(the)h(programmer)c(w)n(an)n(ts)i(that)h(his)g(programs)e(remain)
h(compilable)h(with)0 689 y(previous)h(v)n(ersions)g(of)i(Camlp5.)0
888 y(The)g(recommended)f(solution)g(is)g(to)h(alw)n(a)n(ys)d(write)j
(this)g(co)r(de)f(with)h(quotations,)f(namely)-7 b(,)27
b(in)h(this)g(example,)f(lik)n(e)h(this:)87 1071 y Fb(<:expr<)41
b(let)h($flag:rf$)e($list:pel$)g(in)i($e$)h(>>)0 1254
y Fi(The)29 b(quotation)f(expanders)g(ensure)g(that,)i(in)f(strict)g
(mo)r(de,)h(the)f(v)-5 b(ariable)28 b("rf")g(is)h(still)g(of)g(t)n(yp)r
(e)g(")p Fb(bool)p Fi(",)e(and)h(that)i(the)0 1353 y(v)-5
b(ariable)27 b("p)r(el")g(of)g(t)n(yp)r(e)h(")p Fb(list)41
b(\(patt)h(*)h(expr\))p Fi(",)25 b(b)n(y)j(enclosing)e(them)i(around)f
(")p Fb(Ploc.VaVal)p Fi(".)0 1553 y(In)j(transitional)f(mo)r(de,)i(it)f
(is)g(equiv)-5 b(alen)n(t)30 b(to)g(the)g(\014rst)g(form)g(ab)r(o)n(v)n
(e.)42 b(In)31 b(strict)f(mo)r(de,)g(it)h(is)f(equiv)-5
b(alen)n(t)29 b(to)h(the)h(second)0 1652 y(form.)37 b(And)28
b(the)g(previous)e(v)n(ersions)g(of)i(Camlp5)f(also)f(recognizes)g
(this)i(form.)0 1927 y Fc(13.3)136 b(Tw)l(o)45 b(quotations)h
(expanders)0 2109 y Fi(Camlp5)27 b(pro)n(vides)f(t)n(w)n(o)h
(quotations)g(expanders)f(of)i(syn)n(tax)e(trees:)37
b(")p Fb(q)p 2276 2109 27 4 v 30 w(MLast.cmo)p Fi(")24
b(and)j(")p Fb(q)p 3015 2109 V 30 w(ast.cmo)p Fi(".)0
2308 y(Both)g(allo)n(w)g(writing)g(syn)n(tax)g(trees)g(in)h(concrete)e
(syn)n(tax)h(as)g(explained)g(in)h(the)g(previous)f(section.)0
2507 y(The)j(\014rst)f(one,)h(")p Fb(q)p 615 2507 V 31
w(MLast.cmo)p Fi(")25 b(requires)k(that)h(the)g(con)n(ten)n(ts)f(of)h
(the)g(quotation)f(b)r(e)h(in)g(revised)f(syn)n(tax)g(without)h(an)n(y)
0 2607 y(syn)n(tax)d(extension)g(\(ev)n(en)g(the)h(stream)f(parsers\).)
35 b(It)28 b(w)n(orks)e(in)i(transitional)f(and)g(in)h(strict)f(mo)r
(des.)0 2806 y(The)38 b(second)f(one,)j(")p Fb(q)p 738
2806 V 30 w(ast.cmo)p Fi(")34 b(requires)j(that)h(the)g(con)n(ten)n(ts)
f(of)g(the)h(quotation)f(b)r(e)h(in)g(the)g(curren)n(t)f(user)g(syn)n
(tax)0 2906 y(\(normal,)32 b(revised,)f(lisp,)i(sc)n(heme,)e(or)g
(other\))g(and)g(can)g(accept)g(all)g(the)h(syn)n(tax)e(extensions)h
(he)g(added)h(to)f(compile)g(his)0 3005 y(program.)k(It)28
b(fully)g(w)n(orks)e(only)h(in)h(strict)f(mo)r(de.)37
b(In)28 b(transitional)f(mo)r(de,)g(the)h(an)n(tiquotations)f(are)f
(not)i(a)n(v)-5 b(ailable.)0 3280 y Fc(13.4)136 b(Syn)l(tax)45
b(tree)h(and)e(Quotations)i(in)f(the)h(t)l(w)l(o)g(mo)t(des)0
3462 y Fi(F)-7 b(or)26 b(the)i(detail)f(of)g(the)g(syn)n(tax)g(tree)f
(and)h(the)h(quotations)e(forms,)g(see)h(the)h(c)n(hapters)d(ab)r(out)i
(the)h(syn)n(tax)e(tree)h(in)g(transi-)0 3561 y(tional)g(mo)r(de)h(and)
f(the)h(syn)n(tax)f(tree)g(in)h(strict)g(mo)r(de.)1908
5656 y(90)p eop end
%%Page: 91 93
TeXDict begin 91 92 bop 0 1013 a Fd(Chapter)65 b(14)0
1429 y Fg(Syn)-6 b(tax)77 b(tree)h(-)g(transitional)e(mo)6
b(de)0 1861 y Fi(This)28 b(c)n(hapter)e(presen)n(ts)h(the)h(Camlp5)f
(syn)n(tax)g(tree)g(when)h(Camlp5)f(is)g(installed)h(in)g
Fa(tr)l(ansitional)37 b Fi(mo)r(de.)0 2138 y Fc(14.1)136
b(In)l(tro)t(duction)0 2320 y Fi(This)21 b(syn)n(tax)f(tree)h(is)g
(de\014ned)g(in)g(the)h(mo)r(dule)f(")p Fb(MLast)p Fi(")d(pro)n(vided)i
(b)n(y)h(Camlp5.)34 b(Eac)n(h)20 b(no)r(de)h(corresp)r(onds)e(to)i(a)g
(syn)n(tactic)0 2420 y(en)n(tit)n(y)28 b(of)f(the)h(corresp)r(onding)e
(t)n(yp)r(e.)0 2620 y(F)-7 b(or)27 b(example,)g(the)h(syn)n(tax)f(tree)
g(of)h(the)g(statemen)n(t)f(")p Fb(if)p Fi(")f(can)h(b)r(e)h(written:)
87 2804 y Fb(MLast.ExIfe)39 b(loc)k(e1)f(e2)h(e3)0 2989
y Fi(where)26 b(")p Fb(loc)p Fi(")d(is)j(the)h(lo)r(cation)e(in)i(the)f
(source,)f(and)h(")p Fb(e1)p Fi(",)f(")p Fb(e2)p Fi(")f(and)i(")p
Fb(e3)p Fi(")f(are)g(resp)r(ectiv)n(ely)g(the)h(expression)f(after)h
(the)0 3088 y(")p Fb(if)p Fi(",)g(the)i(one)f(after)g(the)h(")p
Fb(then)p Fi(")d(and)j(the)g(one)f(after)g(the)h(")p
Fb(else)p Fi(".)0 3288 y(If)k(a)g(program)e(needs)i(to)g(manipulate)f
(syn)n(tax)g(trees,)i(it)f(can)g(use)g(the)g(no)r(des)g(de\014ned)g(in)
g(the)h(mo)r(dule)f(")p Fb(MLast)p Fi(".)47 b(The)0 3388
y(programmer)25 b(m)n(ust)j(kno)n(w)f(ho)n(w)g(the)h(concrete)e(syn)n
(tax)h(is)g(transformed)g(in)n(to)g(this)h(abstract)f(syn)n(tax.)0
3588 y(A)f(simpler)f(solution)g(is)g(to)g(use)h(one)f(of)g(the)h
(quotation)f(kit)g(")p Fb(q)p 1983 3588 27 4 v 31 w(MLast.cmo)p
Fi(".)32 b(It)25 b(prop)r(oses)f(quotations)h(whic)n(h)g(represen)n(t)0
3688 y(the)35 b(abstract)f(syn)n(tax)f(\(the)i(no)r(des)g(of)f(the)h
(mo)r(dule)g(")p Fb(MLast)p Fi("\))d(in)n(to)i(concrete)g(syn)n(tax)g
(with)h(an)n(tiquotations)e(to)i(bind)0 3787 y(v)-5 b(ariables)26
b(inside.)37 b(The)28 b(example)f(ab)r(o)n(v)n(e)f(can)i(b)r(e)g
(written:)87 3972 y Fb(<:expr<)41 b(if)i($e1$)f(then)f($e2$)h(else)g
($e3$)g(>>)0 4156 y Fi(This)29 b(represen)n(tation)f(is)h(v)n(ery)f(in)
n(teresting)g(when)i(one)f(w)n(an)n(ts)f(to)h(manipulate)g(complicated)
g(syn)n(tax)f(trees.)41 b(Here)29 b(is)g(an)0 4256 y(example)e(tak)n
(en)g(from)g(the)h(Camlp5)f(sources)g(themselv)n(es:)87
4441 y Fb(<:expr<)174 4540 y(match)42 b(try)g(Some)g($f$)g(with)g([)i
(Stream.Failure)37 b(->)43 b(None)f(])h(with)174 4640
y([)h(Some)d($p$)i(->)g($e$)174 4739 y(|)h(_)f(->)f(raise)g
(\(Stream.Error)c($e2$\))k(])87 4839 y(>>)0 5023 y Fi(This)28
b(example)f(w)n(as)f(in)i(a)f(p)r(osition)h(of)f(a)h(pattern.)36
b(In)28 b(abstract)f(syn)n(tax,)f(it)i(should)g(ha)n(v)n(e)e(b)r(een)i
(written:)87 5208 y Fb(MLast.ExMat)39 b(_)174 5308 y(\(MLast.ExTry)g(_)
k(\(MLast.ExApp)c(_)k(\(MLast.ExUid)c(_)k("Some"\))d(f\))305
5407 y([\(MLast.PaAcc)e(_)43 b(\(MLast.PaUid)c(_)k("Stream"\))d
(\(MLast.PaUid)f(_)k("Failure"\),)1908 5656 y Fi(91)p
eop end
%%Page: 92 94
TeXDict begin 92 93 bop 0 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 392 390 a Fb(None,)42 b(MLast.ExUid)d(_)k("None"\)]\))
174 490 y([\(MLast.PaApp)c(_)k(\(MLast.PaUid)38 b(_)44
b("Some"\))c(p,)j(None,)e(e\);)218 589 y(\(MLast.PaAny)e(_,)j(None,)262
689 y(MLast.ExApp)d(_)k(\(MLast.ExLid)38 b(_)44 b("raise"\))349
789 y(\(MLast.ExApp)38 b(_)479 888 y(\(MLast.ExAcc)h(_)k(\(MLast.ExUid)
c(_)k("Stream"\))d(\(MLast.ExUid)f(_)k("Error"\)\))479
988 y(e2\)\)])0 1161 y Fi(Whic)n(h)28 b(is)f(less)h(readable)e(and)h(m)
n(uc)n(h)h(more)e(complicated)i(to)f(build)h(and)g(up)r(date.)0
1360 y(Instead)f(of)h(thinking)g(of)f("a)g(syn)n(tax)g(tree",)f(the)i
(programmer)e(can)h(think)h(of)f("a)g(piece)h(of)f(program".)0
1633 y Fc(14.2)136 b(Lo)t(cation)0 1815 y Fi(In)28 b(all)f(syn)n(tax)g
(tree)g(no)r(des,)g(the)h(\014rst)g(parameter)e(is)h(the)h(source)f(lo)
r(cation)g(of)g(the)h(no)r(de.)0 2046 y Fe(14.2.1)113
b(In)37 b(expressions)0 2199 y Fi(When)28 b(a)f(quotation)f(is)h(in)h
(the)g(con)n(text)f(of)g(an)g(expression,)f(the)h(lo)r(cation)g
(parameter)f(is)h(")p Fb(loc)p Fi(")e(in)j(the)f(no)r(de)h(and)f(in)g
(all)0 2299 y(its)h(p)r(ossible)f(sub-no)r(des.)36 b(Example:)g(if)29
b(w)n(e)e(consider)f(the)i(quotation:)87 2472 y Fb(<:sig_item<)39
b(value)j(foo)g(:)h(int)g(->)f(bool)g(>>)0 2645 y Fi(This)28
b(quotation,)f(in)g(a)h(con)n(text)f(of)g(an)h(expression,)e(is)h
(equiv)-5 b(alen)n(t)28 b(to:)87 2818 y Fb(MLast.SgVal)39
b(loc)k("foo")174 2918 y(\(MLast.TyArr)c(loc)j(\(MLast.TyLid)d(loc)j
("int"\))f(\(MLast.TyLid)e(loc)j("bool"\)\);)0 3091 y
Fi(The)21 b(name)h(")p Fb(loc)p Fi(")d(is)i(prede\014ned.)35
b(Ho)n(w)n(ev)n(er,)21 b(it)g(is)h(p)r(ossible)f(to)g(c)n(hange)f(it,)j
(using)f(the)f(argumen)n(t)g(")p Fb(-loc)p Fi(")d(of)k(the)g(Camlp5)0
3190 y(shell)28 b(commands.)0 3390 y(Consequen)n(tly)-7
b(,)23 b(if)g(there)f(is)g(no)g(v)-5 b(ariable)21 b(")p
Fb(loc)p Fi(")g(de\014ned)h(in)h(the)g(con)n(text)f(of)g(the)h
(quotation,)g(or)e(if)i(it)g(is)f(not)g(of)h(the)f(correct)0
3489 y(t)n(yp)r(e,)28 b(a)f(seman)n(tic)g(error)f(o)r(ccur)h(in)h(the)g
(OCaml)e(compiler)h(\("Un)n(b)r(ound)h(v)-5 b(alue)28
b(lo)r(c"\).)0 3688 y(Note)h(that)h(in)f(the)h(extensible)f(grammars,)f
(the)i(v)-5 b(ariable)28 b(")p Fb(loc)p Fi(")f(is)i(b)r(ound,)h(in)g
(all)f(seman)n(tic)g(actions,)g(to)g(the)h(lo)r(cation)0
3788 y(of)e(the)g(rule.)0 3987 y(Note)h(that)h(in)f(the)h(extensible)f
(grammars,)f(the)i(v)-5 b(ariable)28 b(")p Fb(loc)p Fi(")f(is)i(b)r
(ound,)h(in)g(all)f(seman)n(tic)g(actions,)g(to)g(the)h(lo)r(cation)0
4087 y(of)e(the)g(rule.)0 4286 y(If)19 b(the)g(created)e(no)r(de)i(has)
e(no)h(lo)r(cation,)i(the)f(programmer)d(can)i(de\014ne)g(a)g(v)-5
b(ariable)18 b(named)g(")p Fb(loc)p Fi(")e(equal)i(to)g(")p
Fb(Ploc.dummy)p Fi(".)0 4517 y Fe(14.2.2)113 b(In)37
b(patterns)0 4670 y Fi(When)27 b(a)f(quotation)g(is)g(in)h(the)g(con)n
(text)f(of)h(a)f(pattern,)g(the)h(lo)r(cation)f(parameter)f(of)i(all)f
(no)r(des)g(and)g(p)r(ossible)h(sub-no)r(des)0 4770 y(is)g(set)h(to)g
(the)g(wildcard)e(\(")p 873 4770 27 4 v 32 w("\).)36
b(The)28 b(same)f(example)g(ab)r(o)n(v)n(e:)87 4943 y
Fb(<:sig_item<)39 b(value)j(foo)g(:)h(int)g(->)f(bool)g(>>)0
5116 y Fi(is)27 b(equiv)-5 b(alen)n(t,)28 b(in)g(a)f(pattern,)g(to:)87
5289 y Fb(MLast.SgVal)39 b(_)k("foo")174 5389 y(\(MLast.TyArr)c(_)k
(\(MLast.TyLid)c(_)k("int"\))e(\(MLast.TyLid)e(_)k("int"\)\))1908
5656 y Fi(92)p eop end
%%Page: 93 95
TeXDict begin 93 94 bop 1649 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 390 a Fc(14.3)136 b(An)l(tiquotations)0
572 y Fi(The)32 b(expressions)e(or)h(patterns)g(b)r(et)n(w)n(een)h
(dollar)e(\($\))i(c)n(haracters)d(are)i(called)g Fa(antiquotations)p
Fi(.)50 b(In)32 b(opp)r(osition)f(to)h(quo-)0 672 y(tations)e(whic)n(h)
h(has)f(its)h(o)n(wn)f(syn)n(tax)g(rules,)h(the)g(an)n(tiquotation)e
(is)i(an)f(area)f(in)i(the)g(syn)n(tax)f(of)h(the)g(enclosing)e(con)n
(text)0 771 y(\(expression)d(or)h(pattern\).)37 b(See)28
b(the)g(c)n(hapter)e(ab)r(out)i(quotations.)0 971 y(If)33
b(a)g(quotation)f(is)g(in)h(the)h(con)n(text)e(of)h(an)f(expression,)h
(the)g(an)n(tiquotation)f(m)n(ust)h(b)r(e)g(an)f(expression.)51
b(It)33 b(can)g(b)r(e)g(an)n(y)0 1070 y(expression,)26
b(including)i(function)g(calls.)36 b(Examples:)87 1217
y Fb(value)42 b(f)h(e)g(el)g(=)g(<:expr<)e([$e$)h(::)g($loop)g(False)f
(el$])h(>>;)87 1317 y(value)g(patt_list)e(p)j(pl)f(=)i(<:patt<)c(\()k
($list:[p::pl]$\))37 b(>>;)0 1464 y Fi(If)i(a)f(quotation)g(is)g(in)h
(the)g(con)n(text)f(of)g(an)h(pattern,)i(the)e(an)n(tiquotation)e(is)i
(a)f(pattern.)69 b(An)n(y)39 b(pattern)f(is)g(p)r(ossible,)0
1564 y(including)28 b(the)g(wildcard)f(c)n(haracter)e(\(")p
1281 1564 27 4 v 31 w("\).)37 b(Examples:)131 1711 y
Fb(fun)42 b([)h(<:expr<)e($lid:op$)f($_$)j($_$)f(>>)h(->)f(op)h(])131
1811 y(match)e(p)i(with)f([)i(<:patt<)c($_$)j(|)g($_$)f(>>)h(->)g(Some)
f(p)h(])0 2079 y Fc(14.4)136 b(No)t(des)45 b(and)f(Quotations)0
2261 y Fi(This)36 b(section)f(describ)r(es)h(all)f(no)r(des)h
(de\014ned)g(in)g(the)h(mo)r(dule)f("MLast")e(of)i(Camlp5)g(and)f(ho)n
(w)h(to)f(write)h(them)h(with)0 2361 y(quotations.)f(Notice)27
b(that,)h(inside)g(quotations,)e(one)h(is)h(not)f(restricted)g(to)g
(these)h(elemen)n(tary)e(cases,)h(but)h(an)n(y)f(complex)0
2460 y(v)-5 b(alue)27 b(can)h(b)r(e)g(used,)f(resulting)g(on)h(p)r
(ossibly)f(complex)g(com)n(bined)g(no)r(des.)0 2660 y(V)-7
b(ariables)26 b(names)i(giv)n(e)e(information)h(of)h(their)f(t)n(yp)r
(es:)125 2807 y Fh(\017)41 b Fb(e)p Fi(,)27 b Fb(e1)p
Fi(,)g Fb(e2)p Fi(,)g Fb(e3)p Fi(:)36 b(expr)125 2959
y Fh(\017)41 b Fb(p)p Fi(,)27 b Fb(p1)p Fi(,)g Fb(p2)p
Fi(,)g Fb(p3)p Fi(:)36 b(patt)125 3111 y Fh(\017)41 b
Fb(t)p Fi(,)27 b Fb(t1)p Fi(,)g Fb(t2)p Fi(,)g Fb(e3)p
Fi(:)36 b(ct)n(yp)125 3262 y Fh(\017)41 b Fb(s)p Fi(:)36
b(string)125 3414 y Fh(\017)41 b Fb(b)p Fi(:)36 b(b)r(o)r(ol)125
3566 y Fh(\017)41 b Fb(me)p Fi(,)26 b Fb(me1)p Fi(,)h
Fb(me2)p Fi(:)36 b(mo)r(dule)p 988 3566 25 4 v 30 w(expr)125
3718 y Fh(\017)41 b Fb(mt)p Fi(,)26 b Fb(mt1)p Fi(,)h
Fb(mt2)p Fi(:)36 b(mo)r(dule)p 988 3718 V 30 w(t)n(yp)r(e)125
3870 y Fh(\017)41 b Fb(le)p Fi(:)36 b(list)28 b(expr)125
4022 y Fh(\017)41 b Fb(lp)p Fi(:)36 b(list)28 b(patt)125
4174 y Fh(\017)41 b Fb(lt)p Fi(:)36 b(list)28 b(ct)n(yp)125
4326 y Fh(\017)41 b Fb(ls)p Fi(:)36 b(list)28 b(string)125
4477 y Fh(\017)41 b Fb(lse)p Fi(:)35 b(list)28 b(\(string)f(*)g(expr\))
125 4629 y Fh(\017)41 b Fb(lpe)p Fi(:)35 b(list)28 b(\(patt)g(*)f
(expr\))125 4781 y Fh(\017)41 b Fb(lpp)p Fi(:)35 b(list)28
b(\(patt)g(*)f(patt\))125 4933 y Fh(\017)41 b Fb(lpoee)p
Fi(:)34 b(list)28 b(\(patt)g(*)g(option)f(expr)g(*)g(expr\))125
5085 y Fh(\017)41 b Fb(op)p Fi(:)36 b(option)27 b(patt)125
5237 y Fh(\017)41 b Fb(lcstri)p Fi(:)34 b(list)28 b(class)p
841 5237 V 29 w(str)p 968 5237 V 29 w(item)125 5389 y
Fh(\017)41 b Fb(lcsigi)p Fi(:)34 b(list)28 b(class)p
841 5389 V 29 w(sig)p 968 5389 V 29 w(item)1908 5656
y(93)p eop end
%%Page: 94 96
TeXDict begin 94 95 bop 0 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 390 a Fe(14.4.1)113 b(expr)0 543 y Fi(Expressions)25
b(of)j(the)g(language.)p 0 746 3924 4 v 0 746 V -2 845
4 100 v 50 815 a(No)r(de)p 1144 845 V 1537 w Fb(<:expr<)41
b(...)86 b(>>)p 3114 845 V 734 w Fi(Commen)n(t)p 3922
845 V 0 849 3924 4 v 0 849 V -2 948 4 100 v 50 918 a
Fb(ExAcc)41 b(loc)i(e1)f(e2)p 1144 948 V 1165 w($e1$)g(.)87
b($e2$)p 3114 948 V 771 w Fi(dot)p 3922 948 V -2 1048
V 50 1018 a Fb(ExAnt)41 b(loc)i(e)p 1144 1048 V 1426
w($anti:e$)p 3114 1048 V 857 w Fi(an)n(tiquotation)27
b(\(1\))p 3922 1048 V -2 1147 V 50 1117 a Fb(ExApp)41
b(loc)i(e1)f(e2)p 1144 1147 V 1230 w($e1$)g($e2$)p 3114
1147 V 837 w Fi(application)p 3922 1147 V -2 1247 V 50
1217 a Fb(ExAre)f(loc)i(e1)f(e2)p 1144 1247 V 1121 w($e1$)g(.\()h($e2$)
f(\))p 3114 1247 V 729 w Fi(arra)n(y)25 b(access)p 3922
1247 V -2 1347 V 50 1317 a Fb(ExArr)41 b(loc)i(le)p 1144
1347 V 1230 w([|)f($list:le$)e(|])p 3114 1347 V 707 w
Fi(arra)n(y)p 3922 1347 V -2 1446 V 50 1416 a Fb(ExAsr)h(loc)i(e)p
1144 1446 V 1383 w(assert)e($e$)p 3114 1446 V 815 w Fi(assert)p
3922 1446 V -2 1546 V 50 1516 a Fb(ExAss)g(loc)i(e1)f(e2)p
1144 1546 V 1165 w($e1$)g(:=)h($e2$)p 3114 1546 V 771
w Fi(assignmen)n(t)p 3922 1546 V -2 1646 V 50 1616 a
Fb(ExBae)e(loc)i(e)g(le)p 1144 1646 V 1188 w($e$)g(.)p
Fh(f)f Fb($le$)g Fh(g)p 3114 1646 V 753 w Fi(big)28 b(arra)n(y)d
(access)p 3922 1646 V -2 1745 V 50 1715 a Fb(ExChr)41
b(loc)i(s)p 1144 1745 V 1448 w($chr:s$)p 3114 1745 V
879 w Fi(c)n(haracter)26 b(constan)n(t)p 3922 1745 V
-2 1845 V 50 1815 a Fb(ExCoe)41 b(loc)i(e)g(\(Some)e(t1\))i(t2)p
1144 1845 V 576 w(\($e$)f(:)87 b($t1$)42 b(:>)g($t2$\))p
3114 1845 V 575 w Fi(co)r(ercion)p 3922 1845 V -2 1944
V 50 1915 a Fb(ExCoe)f(loc)i(e)g(None)f(t2)p 1144 1944
V 968 w(\($e$)g(:>)h($t2$\))p 3114 1944 V 749 w Fi(co)r(ercion)p
3922 1944 V -2 2044 V 50 2014 a Fb(ExFlo)e(loc)i(s)p
1144 2044 V 1448 w($flo:s$)p 3114 2044 V 879 w Fi(\015oat)27
b(constan)n(t)p 3922 2044 V -2 2144 V 50 2114 a Fb(ExFor)41
b(loc)i(s)g(e1)g(e2)f(b)i(le)p 1144 2144 V 186 w(for)e($s$)g(=)h($e1$)f
($to:b$)f($e2$)h(do)h Fh(f)g Fb($list:le$)d Fh(g)p 3114
2144 V 99 w Fi(for)p 3922 2144 V -2 2243 V 50 2213 a
Fb(ExFun)h(loc)i(lopee)p 1144 2243 V 989 w(fun)f([)h($list:lpoee$)c(])p
3114 2243 V 598 w Fi(function)28 b(\(2\))p 3922 2243
V -2 2343 V 50 2313 a Fb(ExIfe)41 b(loc)i(e1)f(e2)h(e3)p
1144 2343 V 707 w(if)g($e1$)f(then)g($e2$)g(else)g($e3$)p
3114 2343 V 444 w Fi(if)p 3922 2343 V -2 2443 V 50 2413
a Fb(ExInt)f(loc)i(s)g("")p 1144 2443 V 1317 w($int:s$)p
3114 2443 V 879 w Fi(in)n(teger)27 b(constan)n(t)p 3922
2443 V -2 2542 V 50 2512 a Fb(ExInt)41 b(loc)i(s)g("l")p
1144 2542 V 1229 w($int32:s$)p 3114 2542 V 835 w Fi(in)n(teger)27
b(32)g(bits)p 3922 2542 V -2 2642 V 50 2612 a Fb(ExInt)41
b(loc)i(s)g("L")p 1144 2642 V 1229 w($int64:s$)p 3114
2642 V 835 w Fi(in)n(teger)27 b(64)g(bits)p 3922 2642
V -2 2741 V 50 2712 a Fb(ExInt)41 b(loc)i(s)g("n")p 1144
2741 V 1142 w($nativeint:s$)p 3114 2741 V 746 w Fi(nativ)n(e)27
b(in)n(teger)p 3922 2741 V -2 2841 V 50 2811 a Fb(ExLab)41
b(loc)i(s)g(None)p 1144 2841 V 1273 w(~)g($s$)p 3114
2841 V 924 w Fi(lab)r(el)p 3922 2841 V -2 2941 V 50 2911
a Fb(ExLab)e(loc)i(s)g(\(Some)e(e\))p 1144 2941 V 947
w(~)i($s$)g(:)86 b($e$)p 3114 2941 V 772 w Fi(lab)r(el)p
3922 2941 V -2 3040 V 50 3010 a Fb(ExLaz)41 b(loc)i(e)p
1144 3040 V 1426 w(lazy)f($e$)p 3114 3040 V 859 w Fi(lazy)p
3922 3040 V -2 3140 V 50 3110 a Fb(ExLet)f(loc)i(b)g(lpe)f(e)p
1144 3140 V 686 w(let)g($flag:b$)e($list:lpe$)g(in)j($e$)p
3114 3140 V 379 w Fi(let)28 b(binding)p 3922 3140 V -2
3240 V 50 3210 a Fb(ExLid)41 b(loc)i(s)p 1144 3240 V
1448 w($lid:s$)p 3114 3240 V 879 w Fi(lo)n(w)n(ercase)25
b(iden)n(ti\014er)p 3922 3240 V -2 3339 V 50 3309 a Fb(ExLmd)41
b(loc)i(s)g(me)g(e)p 1144 3339 V 772 w(let)g(module)e($s$)h(=)h($me$)f
(in)h($e$)p 3114 3339 V 423 w Fi(let)28 b(mo)r(dule)p
3922 3339 V -2 3439 V 50 3409 a Fb(ExMat)41 b(loc)i(e)g(lpoee)p
1144 3439 V 662 w(match)e($e$)i(with)f([)h($list:lpoee$)c(])p
3114 3439 V 358 w Fi(matc)n(h)28 b(\(2\))p 3922 3439
V -2 3538 V 50 3509 a Fb(ExNew)41 b(loc)i(ls)p 1144 3538
V 1273 w(new)g($list:ls$)p 3114 3538 V 747 w Fi(new)p
3922 3538 V -2 3638 V 50 3608 a Fb(ExObj)e(loc)i(op)f(lcstri)p
1144 3638 V 531 w(object)f($opt:op$)g($list:lcstri$)d(end)p
3114 3638 V 314 w Fi(ob)5 b(ject)28 b(expression)p 3922
3638 V -2 3738 V 50 3708 a Fb(ExOlb)41 b(loc)i(s)g(None)p
1144 3738 V 1251 w(?)87 b($s$)p 3114 3738 V 902 w Fi(option)27
b(lab)r(el)p 3922 3738 V -2 3837 V 50 3807 a Fb(ExOlb)41
b(loc)i(s)g(\(Some)e(e\))p 1144 3837 V 925 w(?)87 b($s$)42
b(:)87 b($e$)p 3114 3837 V 750 w Fi(option)27 b(lab)r(el)p
3922 3837 V -2 3937 V 50 3907 a Fb(ExOvr)41 b(loc)i(lse)p
1144 3937 V 1275 w Fh(f)p Fb(<)g($lse$)e(>)p Fh(g)p 3114
3937 V 796 w Fi(o)n(v)n(erride)p 3922 3937 V -2 4037
V 50 4007 a Fb(ExRec)g(loc)i(lpe)f(None)p 1144 4037 V
992 w Fh(f)h Fb($list:lpe$)c Fh(g)p 3114 4037 V 731 w
Fi(record)p 3922 4037 V -2 4136 V 50 4106 a Fb(ExRec)i(loc)i(lpe)f
(\(Some)g(e\))p 1144 4136 V 578 w Fh(f)h Fb(\($e$\))e(with)h
($list:lpe$)e Fh(g)p 3114 4136 V 491 w Fi(record)p 3922
4136 V -2 4236 V 50 4206 a Fb(ExSeq)h(loc)i(le)p 1144
4236 V 1210 w(do)g Fh(f)g Fb($list:le$)d Fh(g)p 3114
4236 V 687 w Fi(sequence)p 3922 4236 V -2 4335 V 50 4306
a Fb(ExSnd)h(loc)i(e)g(s)p 1144 4335 V 1317 w($e$)g(#)g($s$)p
3114 4335 V 837 w Fi(metho)r(d)28 b(call)p 3922 4335
V -2 4435 V 50 4405 a Fb(ExSte)41 b(loc)i(e1)f(e2)p 1144
4435 V 1121 w($e1$)g(.[)h($e2$)f(])p 3114 4435 V 729
w Fi(string)27 b(elemen)n(t)p 3922 4435 V -2 4535 V 50
4505 a Fb(ExStr)41 b(loc)i(s)p 1144 4535 V 1448 w($str:s$)p
3114 4535 V 879 w Fi(string)p 3922 4535 V -2 4634 V 50
4604 a Fb(ExTry)e(loc)i(e)g(lpoee)p 1144 4634 V 706 w(try)f($e$)g(with)
g([)h($list:lpoee$)c(])p 3114 4634 V 402 w Fi(try)27
b(\(2\))p 3922 4634 V -2 4734 V 50 4704 a Fb(ExTup)41
b(loc)i(le)p 1144 4734 V 1317 w(\($list:le$\))p 3114
4734 V 790 w Fi(t-uple)p 3922 4734 V -2 4834 V 50 4804
a Fb(ExTyc)e(loc)i(e)g(t)p 1144 4834 V 1252 w(\($e$)f(:)87
b($t$\))p 3114 4834 V 771 w Fi(t)n(yp)r(e)28 b(constrain)n(t)p
3922 4834 V -2 4933 V 50 4903 a Fb(ExUid)41 b(loc)i(s)p
1144 4933 V 1448 w($uid:s$)p 3114 4933 V 879 w Fi(upp)r(ercase)27
b(iden)n(ti\014er)p 3922 4933 V -2 5033 V 50 5003 a Fb(ExVrn)41
b(loc)i(s)p 1144 5033 V 1492 w(`)g($s$)p 3114 5033 V
924 w Fi(v)-5 b(arian)n(t)p 3922 5033 V -2 5132 V 50
5103 a Fb(ExWhi)41 b(loc)i(e)g(le)p 1144 5132 V 905 w(while)f($e$)g(do)
h Fh(f)g Fb($list:le$)d Fh(g)p 3114 5132 V 469 w Fi(while)p
3922 5132 V 0 5136 3924 4 v 0 5136 V 1908 5656 a(94)p
eop end
%%Page: 95 97
TeXDict begin 95 96 bop 1649 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 390 a(\(1\))j(No)r(de)f(used)h(in)g(the)f(quotation)g
(expanders)g(to)g(tells)h(at)f(con)n(v)n(ersion)e(to)j(OCaml)e
(compiler)h(syn)n(tax)g(tree)g(time,)i(that)0 490 y(all)c(lo)r(cations)
g(of)h(the)g(sub-tree)f(is)h(correct)n(y)d(lo)r(cated)j(in)g(the)g
(quotation.)39 b(By)29 b(default,)g(in)g(quotations,)f(the)h(lo)r
(cations)f(of)0 589 y(all)g(generated)f(no)r(des)i(are)e(the)i(lo)r
(cation)f(of)g(the)h(whole)f(quotation.)38 b(This)29
b(no)r(de)f(allo)n(ws)f(to)i(mak)n(e)e(an)h(exception)g(to)h(this)0
689 y(rule,)c(since)f(w)n(e)f(kno)n(w)h(that)g(the)h(an)n(tiquotation)e
(b)r(elongs)g(to)h(the)h(univ)n(erse)e(of)h(the)g(enclosing)g(program.)
33 b(See)24 b(the)h(c)n(hapter)0 789 y(ab)r(out)j(quotations)e(and,)i
(in)g(particular,)e(its)i(section)f(ab)r(out)g(an)n(tiquotations.)0
888 y(\(2\))h(The)g(v)-5 b(ariable)27 b("lp)r(o)r(ee")g(found)h(in)g
("function",)f("matc)n(h")g(and)h("try")e(statemen)n(ts)i(corresp)r
(ond)e(to)h(a)h(list)g(of)g(")p Fb(\(patt)0 988 y(*)43
b(option)e(expr)h(*)h(expr\))p Fi(")25 b(where)j(the)g(")p
Fb(option)40 b(expr)p Fi(")26 b(is)h(the)h("when")f(optionally)g(follo)
n(wing)f(the)i(pattern:)87 1171 y Fb(p)43 b(->)g(e)0
1353 y Fi(is)27 b(represen)n(ted)g(b)n(y:)87 1536 y Fb(\(p,)43
b(None,)e(e\))0 1719 y Fi(and)87 1901 y Fb(p)i(when)f(e1)h(->)g(e)0
2084 y Fi(is)27 b(represen)n(ted)g(b)n(y:)87 2267 y Fb(\(p,)43
b(Some)e(e1,)i(e\))0 2499 y Fe(14.4.2)113 b(patt)0 2652
y Fi(P)n(atterns)26 b(of)i(the)g(language.)p 335 2854
3231 4 v 335 2854 V 333 2954 4 100 v 385 2924 a(No)r(de)p
1740 2954 V 1321 w Fb(<:patt<)41 b(...)86 b(>>)p 2755
2954 V 257 w Fi(Commen)n(t)p 3564 2954 V 335 2957 3231
4 v 335 2957 V 333 3057 4 100 v 385 3027 a Fb(PaAcc)41
b(loc)h(p1)h(p2)p 1740 3057 V 949 w($p1$)f(.)87 b($p2$)p
2755 3057 V 294 w Fi(dot)p 3564 3057 V 333 3156 V 385
3127 a Fb(PaAli)41 b(loc)h(p1)h(p2)p 1740 3156 V 905
w(\($p1$)f(as)h($p2$\))p 2755 3156 V 250 w Fi(alias)p
3564 3156 V 333 3256 V 385 3226 a Fb(PaAnt)e(loc)h(p)p
1740 3256 V 1211 w($anti:p$)p 2755 3256 V 380 w Fi(an)n(tiquotation)26
b(\(1\))p 3564 3256 V 333 3356 V 385 3326 a Fb(PaAny)41
b(loc)p 1740 3356 V 2239 3326 27 4 v 2755 3356 4 100
v 2029 w Fi(wildcard)p 3564 3356 V 333 3455 V 385 3425
a Fb(PaApp)g(loc)h(p1)h(p2)p 1740 3455 V 1014 w($p1$)f($p2$)p
2755 3455 V 360 w Fi(application)p 3564 3455 V 333 3555
V 385 3525 a Fb(PaArr)f(loc)h(lp)p 1740 3555 V 1015 w([|)g($list:lp$)e
(|])p 2755 3555 V 230 w Fi(arra)n(y)p 3564 3555 V 333
3655 V 385 3625 a Fb(PaChr)h(loc)h(s)p 1740 3655 V 1233
w($chr:s$)p 2755 3655 V 402 w Fi(c)n(haracter)p 3564
3655 V 333 3754 V 385 3724 a Fb(PaInt)f(loc)h(s1)h(s2)p
1740 3754 V 1058 w($int:s$)p 2755 3754 V 402 w Fi(in)n(teger)p
3564 3754 V 333 3854 V 385 3824 a Fb(PaFlo)e(loc)h(s)p
1740 3854 V 1233 w($flo:s$)p 2755 3854 V 402 w Fi(\015oat)p
3564 3854 V 333 3953 V 385 3924 a Fb(PaLab)f(loc)h(s)i(None)p
1740 3953 V 1056 w(~)g($s$)p 2755 3953 V 447 w Fi(lab)r(el)p
3564 3953 V 333 4053 V 385 4023 a Fb(PaLab)d(loc)h(s)i(\(Some)d(p\))p
1740 4053 V 731 w(~)i($s$)f(:)87 b($p$)p 2755 4053 V
295 w Fi(lab)r(el)p 3564 4053 V 333 4153 V 385 4123 a
Fb(PaLid)41 b(loc)h(s)p 1740 4153 V 1233 w($lid:s$)p
2755 4153 V 402 w Fi(lo)n(w)n(ercase)25 b(iden)n(ti\014er)p
3564 4153 V 333 4252 V 385 4222 a Fb(PaOlb)41 b(loc)h(s)i(None)p
1740 4252 V 1035 w(?)86 b($s$)p 2755 4252 V 426 w Fi(option)27
b(lab)r(el)p 3564 4252 V 333 4352 V 385 4322 a Fb(PaOlb)41
b(loc)h(s)i(\(Some)d(\(p,)h(None\)\))p 1740 4352 V 316
w(?)86 b($s$)43 b(:)86 b(\($p$\))p 2755 4352 V 229 w
Fi(option)27 b(lab)r(el)p 3564 4352 V 333 4452 V 385
4422 a Fb(PaOlb)41 b(loc)h(s)i(\(Some)d(\(p,)h(Some)g(e\)\))p
1740 4452 V 99 w(?)87 b($s$)42 b(:)87 b(\($p$)42 b(=)h($e$\))p
2755 4452 V 98 w Fi(option)27 b(lab)r(el)p 3564 4452
V 333 4551 V 385 4521 a Fb(PaOrp)41 b(loc)h(p1)h(p2)p
1740 4551 V 971 w($p1$)f(|)h($p2$)p 2755 4551 V 316 w
Fi(or)p 3564 4551 V 333 4651 V 385 4621 a Fb(PaRng)e(loc)h(p1)h(p2)p
1740 4651 V 927 w($p1$)f(..)86 b($p2$)p 2755 4651 V 273
w Fi(range)p 3564 4651 V 333 4750 V 385 4721 a Fb(PaRec)41
b(loc)h(lpp)h(None)p 1740 4750 V 775 w Fh(f)h Fb($list:lpp$)39
b Fh(g)p 2755 4750 V 254 w Fi(record)p 3564 4750 V 333
4850 V 385 4820 a Fb(PaStr)i(loc)h(s)p 1740 4850 V 1233
w($str:s$)p 2755 4850 V 402 w Fi(string)p 3564 4850 V
333 4950 V 385 4920 a Fb(PaTup)f(loc)h(lp)p 1740 4950
V 1102 w(\($list:lp$\))p 2755 4950 V 313 w Fi(t-uple)p
3564 4950 V 333 5049 V 385 5019 a Fb(PaTyc)f(loc)h(p)i(t)p
1740 5049 V 1036 w(\($p$)e(:)87 b($t$\))p 2755 5049 V
294 w Fi(t)n(yp)r(e)28 b(constrain)n(t)p 3564 5049 V
333 5149 V 385 5119 a Fb(PaTyp)41 b(loc)h(ls)p 1740 5149
V 1102 w(#)h($list:ls$)p 2755 5149 V 314 w Fi(t)n(yp)r(e)28
b(pattern)p 3564 5149 V 333 5249 V 385 5219 a Fb(PaUid)41
b(loc)h(s)p 1740 5249 V 1233 w($uid:s$)p 2755 5249 V
402 w Fi(upp)r(ercase)27 b(iden)n(ti\014er)p 3564 5249
V 333 5348 V 385 5318 a Fb(PaVrn)41 b(loc)h(s)p 1740
5348 V 1276 w(`)i($s$)p 2755 5348 V 447 w Fi(v)-5 b(arian)n(t)p
3564 5348 V 335 5352 3231 4 v 335 5352 V 1908 5656 a(95)p
eop end
%%Page: 96 98
TeXDict begin 96 97 bop 0 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 573 a(\(1\))g(No)r(de)g(used)f(to)h(sp)r(ecify)f(an)h
(an)n(tiquotation)e(area,)h(lik)n(e)g(for)g(the)h(equiv)-5
b(alen)n(t)27 b(no)r(de)h(in)g(expressions.)35 b(See)27
b(ab)r(o)n(v)n(e.)0 805 y Fe(14.4.3)113 b(ct)m(yp)0 958
y Fi(T)n(yp)r(e)27 b(expressions)f(of)i(the)g(language.)p
182 1161 3536 4 v 182 1161 V 181 1260 4 100 v 232 1230
a(No)r(de)p 1588 1260 V 1474 w Fb(<:ctyp<)41 b(...)86
b(>>)p 2908 1260 V 409 w Fi(Commen)n(t)p 3716 1260 V
182 1264 3536 4 v 182 1264 V 181 1363 4 100 v 232 1333
a Fb(TyAcc)42 b(loc)g(t1)h(t2)p 1588 1363 V 1101 w($t1$)f(.)87
b($t2$)p 2908 1363 V 446 w Fi(dot)p 3716 1363 V 181 1463
V 232 1433 a Fb(TyAli)42 b(loc)g(t1)h(t2)p 1588 1463
V 1101 w($t1$)f(as)h($t2$)p 2908 1463 V 446 w Fi(alias)p
3716 1463 V 181 1562 V 232 1533 a Fb(TyAny)f(loc)p 1588
1562 V 2239 1533 27 4 v 2908 1562 4 100 v 2333 w Fi(wildcard)p
3716 1562 V 181 1662 V 232 1632 a Fb(TyApp)g(loc)g(t1)h(t2)p
1588 1662 V 1166 w($t1$)f($t2$)p 2908 1662 V 512 w Fi(application)p
3716 1662 V 181 1762 V 232 1732 a Fb(TyArr)g(loc)g(t1)h(t2)p
1588 1762 V 1101 w($t1$)f(->)h($t2$)p 2908 1762 V 446
w Fi(arro)n(w)p 3716 1762 V 181 1861 V 232 1831 a Fb(TyCls)f(loc)g(ls)p
1588 1861 V 1254 w(#)h($list:ls$)p 2908 1861 V 466 w
Fi(class)p 3716 1861 V 181 1961 V 232 1931 a Fb(TyLab)f(loc)g(s)h(t)p
1588 1961 V 1189 w(~)g($s$)f(:)87 b($t$)p 2908 1961 V
447 w Fi(lab)r(el)p 3716 1961 V 181 2061 V 232 2031 a
Fb(TyLid)42 b(loc)g(s)p 1588 2061 V 1385 w($lid:s$)p
2908 2061 V 554 w Fi(lo)n(w)n(ercase)25 b(iden)n(ti\014er)p
3716 2061 V 181 2160 V 232 2130 a Fb(TyMan)42 b(loc)g(t1)h(t2)p
1588 2160 V 1101 w($t1$)f(==)h($t2$)p 2908 2160 V 446
w Fi(manifest)p 3716 2160 V 181 2260 V 232 2230 a Fb(TyObj)f(loc)g(lst)
g(False)p 1588 2260 V 882 w(<)i($list:lst$)39 b(>)p 2908
2260 V 404 w Fi(ob)5 b(ject)p 3716 2260 V 181 2359 V
232 2330 a Fb(TyObj)42 b(loc)g(lst)g(True)p 1588 2359
V 839 w(<)h($list:lst$)d(..)86 b(>)p 2908 2359 V 317
w Fi(ob)5 b(ject)p 3716 2359 V 181 2459 V 232 2429 a
Fb(TyObj)42 b(loc)g(lst)g(b)p 1588 2459 V 862 w(<)h($list:lst$)d
($flag:b$)g(>)p 2908 2459 V 208 w Fi(ob)5 b(ject)28 b(\(general\))p
3716 2459 V 181 2559 V 232 2529 a Fb(TyOlb)42 b(loc)g(s)h(t)p
1588 2559 V 1167 w(?)87 b($s$)42 b(:)87 b($t$)p 2908
2559 V 425 w Fi(option)28 b(lab)r(el)p 3716 2559 V 181
2658 V 232 2628 a Fb(TyPol)42 b(loc)g(ls)h(t)p 1588 2658
V 992 w(!)87 b($list:ls$)40 b(.)87 b($t$)p 2908 2658
V 294 w Fi(p)r(olymorph)p 3716 2658 V 181 2758 V 232
2728 a Fb(TyQuo)42 b(loc)g(s)p 1588 2758 V 1428 w(')i($s$)p
2908 2758 V 599 w Fi(v)-5 b(ariable)p 3716 2758 V 181
2858 V 232 2828 a Fb(TyRec)42 b(loc)g(llsbt)p 1588 2858
V 1015 w Fh(f)h Fb($list:llsbt$)c Fh(g)p 2908 2858 V
362 w Fi(record)p 3716 2858 V 181 2957 V 232 2927 a Fb(TySum)j(loc)g
(llslt)p 1588 2957 V 1013 w([)h($list:llslt$)c(])p 2908
2957 V 360 w Fi(sum)p 3716 2957 V 181 3057 V 232 3027
a Fb(TyTup)j(loc)g(lt)p 1588 3057 V 1210 w(\()h($list:lt$)d(\))p
2908 3057 V 426 w Fi(t-uple)p 3716 3057 V 181 3156 V
232 3127 a Fb(TyUid)i(loc)g(s)p 1588 3156 V 1385 w($uid:s$)p
2908 3156 V 554 w Fi(upp)r(ercase)27 b(iden)n(ti\014er)p
3716 3156 V 181 3256 V 232 3226 a Fb(TyVrn)42 b(loc)g(lpv)g(None)p
1588 3256 V 883 w([)h(=)g($list:lpv$)d(])p 2908 3256
V 360 w Fi(v)-5 b(arian)n(t)p 3716 3256 V 181 3356 V
232 3326 a Fb(TyVrn)42 b(loc)g(lpv)g(\(Some)g(None\))p
1588 3356 V 577 w([)h(>)g($list:lpv$)d(])p 2908 3356
V 360 w Fi(v)-5 b(arian)n(t)p 3716 3356 V 181 3455 V
232 3425 a Fb(TyVrn)42 b(loc)g(lpv)g(\(Some)g(\(Some)f([]\)\))p
1588 3455 V 360 w([)i(<)g($list:lpv$)d(])p 2908 3455
V 360 w Fi(v)-5 b(arian)n(t)p 3716 3455 V 181 3555 V
232 3525 a Fb(TyVrn)42 b(loc)g(lpv)g(\(Some)g(\(Some)f(ls\)\))p
1588 3555 V 98 w([)i(<)h($list:lpv$)39 b(>)k($list:ls$)d(])p
2908 3555 V 99 w Fi(v)-5 b(arian)n(t)p 3716 3555 V 182
3558 3536 4 v 182 3558 V 0 3974 a Fe(14.4.4)113 b(mo)s(dules...)0
4127 y Ff(str)p 120 4127 29 4 v 34 w(item)0 4280 y Fi(Structure)27
b(items,)h(i.e.)37 b(phrases)27 b(in)h(a)f(".ml")g(\014le)g(or)g
("struct"s)g(elemen)n(ts.)p 145 4482 3610 4 v 145 4482
V 143 4582 4 100 v 195 4552 a(No)r(de)p 1115 4582 V 1256
w Fb(<:str)p 1865 4552 27 4 v 29 w(item<)42 b(...)86
b(>>)p 2871 4582 4 100 v 465 w Fi(Commen)n(t)p 3753 4582
V 145 4585 3610 4 v 145 4585 V 143 4685 4 100 v 195 4655
a Fb(StCls)41 b(loc)i(lcd)p 1115 4685 V 883 w(class)e($list:lcd$)p
2871 4685 V 575 w Fi(class)27 b(declaration)p 3753 4685
V 143 4785 V 195 4755 a Fb(StClt)41 b(loc)i(lcdt)p 1115
4785 V 708 w(class)e(type)h($list:lctd$)p 2871 4785 V
444 w Fi(class)27 b(t)n(yp)r(e)h(declaration)p 3753 4785
V 143 4884 V 195 4854 a Fb(StDcl)41 b(loc)i(lstri)p 1115
4884 V 620 w(declare)e($list:lstri$)e(end)p 2871 4884
V 403 w Fi(declare)p 3753 4884 V 143 4984 V 195 4954
a Fb(StDir)i(loc)i(s)g(None)p 1115 4984 V 991 w(#)h($s$)p
2871 4984 V 817 w Fi(directiv)n(e)p 3753 4984 V 143 5083
V 195 5054 a Fb(StDir)d(loc)i(s)g(\(Some)e(e\))p 1115
5083 V 731 w(#)i($s$)g($e$)p 2871 5083 V 730 w Fi(directiv)n(e)p
3753 5083 V 143 5183 V 195 5153 a Fb(StDir)e(loc)i(s)g(oe)p
1115 5183 V 883 w(#)g($s$)g($opt:oe$)p 2871 5183 V 619
w Fi(directiv)n(e)27 b(\(general\))p 3753 5183 V 143
5283 V 195 5253 a Fb(StExc)41 b(loc)i(s)g(lt)g([])p 1115
5283 V 491 w(exception)d($s$)i(of)h($list:lt$)p 2871
5283 V 357 w Fi(exception)p 3753 5283 V 143 5382 V 195
5352 a Fb(StExc)e(loc)i(s)g(lt)g(ls)p 1115 5382 V 229
w(exception)d($s$)i(of)h($list:lt$)d(=)j($list:ls$)p
2871 5382 V 96 w Fi(exception)p 3753 5382 V 1908 5656
a(96)p eop end
%%Page: 97 99
TeXDict begin 97 98 bop 1649 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 143 420 4 100 v 195 390 a Fb(StExp)41
b(loc)i(e)p 1115 420 V 1167 w($exp:e$)p 2871 420 V 772
w Fi(expression)p 3753 420 V 143 520 V 195 490 a Fb(StExt)e(loc)i(s)g
(t)g(ls)p 1115 520 V 426 w(external)d($s$)i(:)87 b($t$)43
b(=)g($list:ls$)p 2871 520 V 248 w Fi(external)p 3753
520 V 143 619 V 195 589 a Fb(StInc)e(loc)i(me)p 1115
619 V 1014 w(include)e($me$)p 2871 619 V 664 w Fi(include)p
3753 619 V 143 719 V 195 689 a Fb(StMod)g(loc)i(b)g(lsme)p
1115 719 V 512 w(module)e($flag:b$)f($list:lsme$)p 2871
719 V 335 w Fi(mo)r(dule)p 3753 719 V 143 819 V 195 789
a Fb(StMty)h(loc)i(s)g(mt)p 1115 819 V 709 w(module)e(type)h($s$)g(=)h
($mt$)p 2871 819 V 447 w Fi(mo)r(dule)28 b(t)n(yp)r(e)p
3753 819 V 143 918 V 195 888 a Fb(StOpn)41 b(loc)i(ls)p
1115 918 V 970 w(open)f($list:ls$)p 2871 918 V 619 w
Fi(op)r(en)p 3753 918 V 143 1018 V 195 988 a Fb(StTyp)f(loc)i(ltd)p
1115 1018 V 904 w(type)f($list:ltd$)p 2871 1018 V 597
w Fi(t)n(yp)r(e)28 b(declaration)p 3753 1018 V 143 1117
V 195 1088 a Fb(StUse)41 b(loc)i(s)g(lstrib)p 1115 1117
V 620 w(...internal)c(use...)p 2871 1117 V 533 w Fi(\(1\))p
3753 1117 V 143 1217 V 195 1187 a Fb(StVal)i(loc)i(b)g(lpe)p
1115 1217 V 600 w(value)e($flag:b$)f($list:lpe$)p 2871
1217 V 379 w Fi(v)-5 b(alue)p 3753 1217 V 145 1220 3610
4 v 145 1220 V 0 1586 a(\(1\))33 b(No)r(de)f(in)n(ternally)g(used)g(to)
h(sp)r(ecify)f(a)g(di\013eren)n(t)h(\014le)f(name)h(applying)e(to)i
(the)f(whole)h(subtree.)51 b(This)32 b(is)g(generated)0
1686 y(b)n(y)27 b(the)h(directiv)n(e)f("use")f(and)h(used)h(when)f(con)
n(v)n(erting)f(to)h(the)h(OCaml)f(syn)n(tax)g(tree)g(whic)n(h)g(needs)g
(the)h(\014le)g(name)f(in)h(its)0 1785 y(lo)r(cation)f(t)n(yp)r(e.)0
2001 y Ff(sig)p 119 2001 29 4 v 33 w(item)0 2154 y Fi(Signature)g
(items,)h(i.e.)37 b(phrases)26 b(in)i(a)f(".mli")g(\014le)h(or)f
("sig"s)e(elemen)n(ts.)p 335 2357 3231 4 v 335 2357 V
333 2456 4 100 v 385 2426 a(No)r(de)p 1304 2456 V 1103
w Fb(<:sig)p 1902 2426 27 4 v 30 w(item<)41 b(...)86
b(>>)p 2755 2456 4 100 v 313 w Fi(Commen)n(t)p 3564 2456
V 335 2460 3231 4 v 335 2460 V 333 2559 4 100 v 385 2529
a Fb(SgCls)41 b(loc)h(lcd)p 1304 2559 V 731 w(class)f($list:lcd$)p
2755 2559 V 423 w Fi(class)p 3564 2559 V 333 2659 V 385
2629 a Fb(SgClt)g(loc)h(lct)p 1304 2659 V 622 w(class)f(type)h
($list:lct$)p 2755 2659 V 314 w Fi(class)26 b(t)n(yp)r(e)p
3564 2659 V 333 2758 V 385 2729 a Fb(SgDcl)41 b(loc)h(lsigi)p
1304 2758 V 468 w(declare)f($list:lsigi$)e(end)p 2755
2758 V 251 w Fi(declare)p 3564 2758 V 333 2858 V 385
2828 a Fb(SgDir)i(loc)h(s)i(None)p 1304 2858 V 839 w(#)f($s$)p
2755 2858 V 665 w Fi(directiv)n(e)p 3564 2858 V 333 2958
V 385 2928 a Fb(SgDir)e(loc)h(s)i(\(Some)d(e\))p 1304
2958 V 578 w(#)j($s$)e($e$)p 2755 2958 V 578 w Fi(directiv)n(e)p
3564 2958 V 333 3057 V 385 3027 a Fb(SgDir)f(loc)h(s)i(oe)p
1304 3057 V 730 w(#)g($s$)e($opt:oe$)p 2755 3057 V 467
w Fi(directiv)n(e)27 b(\(general\))p 3564 3057 V 333
3157 V 385 3127 a Fb(SgExc)41 b(loc)h(s)i([])p 1304 3157
V 752 w(exception)c($s$)p 2755 3157 V 491 w Fi(exception)p
3564 3157 V 333 3257 V 385 3227 a Fb(SgExc)h(loc)h(s)i(lt)p
1304 3257 V 469 w(exception)c($s$)i(of)h($list:lt$)p
2755 3257 V 205 w Fi(exception)p 3564 3257 V 333 3356
V 385 3326 a Fb(SgExt)e(loc)h(s)i(t)f(ls)p 1304 3356
V 273 w(external)d($s$)j(:)86 b($t$)43 b(=)g($list:ls$)p
2755 3356 V 96 w Fi(external)p 3564 3356 V 333 3456 V
385 3426 a Fb(SgInc)e(loc)h(me)p 1304 3456 V 862 w(include)f($me$)p
2755 3456 V 512 w Fi(include)p 3564 3456 V 333 3555 V
385 3526 a Fb(SgMod)g(loc)h(b)i(lsmt)p 1304 3555 V 359
w(module)d($flag:b$)f($list:lsmt$)p 2755 3555 V 183 w
Fi(mo)r(dule)p 3564 3555 V 333 3655 V 385 3625 a Fb(SgMty)h(loc)h(s)i
(mt)p 1304 3655 V 556 w(module)d(type)h($s$)g(=)i($mt$)p
2755 3655 V 294 w Fi(mo)r(dule)28 b(t)n(yp)r(e)p 3564
3655 V 333 3755 V 385 3725 a Fb(SgOpn)41 b(loc)h(ls)p
1304 3755 V 818 w(open)g($list:ls$)p 2755 3755 V 467
w Fi(op)r(en)p 3564 3755 V 333 3854 V 385 3824 a Fb(SgTyp)f(loc)h(ltd)p
1304 3854 V 753 w(type)g($list:ltd$)p 2755 3854 V 444
w Fi(t)n(yp)r(e)28 b(declaration)p 3564 3854 V 333 3954
V 385 3924 a Fb(SgUse)41 b(loc)h(s)i(lstrib)p 1304 3954
V 467 w(...internal)39 b(use...)p 2755 3954 V 381 w Fi(\(1\))p
3564 3954 V 333 4054 V 385 4024 a Fb(SgVal)i(loc)h(s)i(t)p
1304 4054 V 731 w(value)d($s$)i(:)86 b($t$)p 2755 4054
V 426 w Fi(v)-5 b(alue)p 3564 4054 V 335 4057 3231 4
v 335 4057 V 0 4423 a(\(1\))28 b(Same)f(remark)f(as)h(for)g(")p
Fb(str)p 1047 4423 27 4 v 30 w(item)p Fi(")e(ab)r(o)n(v)n(e.)0
4638 y Ff(mo)s(dule)p 314 4638 29 4 v 33 w(expr)p 333
4811 3234 4 v 333 4811 V 332 4911 4 100 v 383 4881 a
Fi(No)r(de)p 1172 4911 V 973 w Fb(<:module)p 1902 4881
27 4 v 28 w(expr<)42 b(...)85 b(>>)p 2623 4911 4 100
v 182 w Fi(Commen)n(t)p 3565 4911 V 333 4914 3234 4 v
333 4914 V 332 5014 4 100 v 383 4984 a Fb(MeAcc)42 b(loc)g(me1)g(me2)p
1172 5014 V 469 w($me1$)g(.)86 b($me2$)p 2623 5014 V
468 w Fi(dot)p 3565 5014 V 332 5113 V 383 5083 a Fb(MeApp)42
b(loc)g(me1)g(me2)p 1172 5113 V 535 w($me1$)f($me2$)p
2623 5113 V 533 w Fi(application)p 3565 5113 V 332 5213
V 383 5183 a Fb(MeFun)h(loc)g(s)h(mt)g(me)p 1172 5213
V 99 w(functor)d(\()k($s$)e(:)87 b($mt$)42 b(\))h(->)g($me$)p
2623 5213 V 97 w Fi(functor)p 3565 5213 V 332 5313 V
383 5283 a Fb(MeStr)f(loc)g(lstri)p 1172 5313 V 359 w(struct)f
($list:lstri$)e(end)p 2623 5313 V 272 w Fi(struct)p 3565
5313 V 332 5412 V 383 5382 a Fb(MeTyc)j(loc)g(me)h(mt)p
1172 5412 V 513 w(\()g($me$)f(:)86 b($mt$)42 b(\))p 2623
5412 V 426 w Fi(mo)r(dule)28 b(t)n(yp)r(e)g(constrain)n(t)p
3565 5412 V 332 5512 V 383 5482 a Fb(MeUid)42 b(loc)g(s)p
1172 5512 V 884 w($uid:s$)p 2623 5512 V 619 w Fi(upp)r(ercase)27
b(iden)n(ti\014er)p 3565 5512 V 333 5515 3234 4 v 333
5515 V 1908 5656 a(97)p eop end
%%Page: 98 100
TeXDict begin 98 99 bop 0 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 606 a Ff(mo)s(dule)p 314 606 29 4 v
33 w(t)m(yp)s(e)p 313 779 3275 4 v 313 779 V 311 878
4 100 v 363 848 a Fi(No)r(de)p 1239 878 V 1103 w Fb(<:module)p
2012 848 27 4 v 28 w(type<)42 b(...)86 b(>>)p 2777 878
4 100 v 226 w Fi(Commen)n(t)p 3585 878 V 313 882 3275
4 v 313 882 V 311 981 4 100 v 363 951 a Fb(MtAcc)41 b(loc)i(mt1)f(mt2)p
1239 981 V 600 w($mt1$)f(.)87 b($mt2$)p 2777 981 V 512
w Fi(dot)p 3585 981 V 311 1081 V 363 1051 a Fb(MtApp)41
b(loc)i(mt1)f(mt2)p 1239 1081 V 665 w($mt1$)g($mt2$)p
2777 1081 V 577 w Fi(application)p 3585 1081 V 311 1181
V 363 1151 a Fb(MtFun)f(loc)i(s)g(mt1)f(mt2)p 1239 1181
V 99 w(functor)e(\()j($s$)g(:)87 b($mt1$)41 b(\))i(->)g($mt2$)p
2777 1181 V 98 w Fi(functor)p 3585 1181 V 311 1280 V
363 1250 a Fb(MtLid)e(loc)i(s)p 1239 1280 V 1014 w($lid:s$)p
2777 1280 V 664 w Fi(lo)n(w)n(ercase)25 b(iden)n(ti\014er)p
3585 1280 V 311 1380 V 363 1350 a Fb(MtQuo)41 b(loc)i(s)p
1239 1380 V 1058 w(')g($s$)p 2777 1380 V 709 w Fi(abstract)p
3585 1380 V 311 1479 V 363 1450 a Fb(MtSig)e(loc)i(lsigi)p
1239 1479 V 555 w(sig)f($list:lsigi$)d(end)p 2777 1479
V 382 w Fi(signature)p 3585 1479 V 311 1579 V 363 1549
a Fb(MtUid)i(loc)i(s)p 1239 1579 V 1014 w($uid:s$)p 2777
1579 V 664 w Fi(upp)r(ercase)26 b(iden)n(ti\014er)p 3585
1579 V 311 1679 V 363 1649 a Fb(MtWit)41 b(loc)i(mt)f(lwc)p
1239 1679 V 513 w($mt$)g(with)g($list:lwc$)p 2777 1679
V 379 w Fi(with)28 b(construction)p 3585 1679 V 313 1682
3275 4 v 313 1682 V 0 2098 a Fe(14.4.5)113 b(classes...)0
2251 y Ff(class)p 197 2251 29 4 v 34 w(expr)p 295 2423
3310 4 v 295 2423 V 294 2523 4 100 v 345 2493 a Fi(No)r(de)p
1221 2523 V 1104 w Fb(<:class)p 1951 2493 27 4 v 28 w(expr<)42
b(...)86 b(>>)p 2759 2523 4 100 v 269 w Fi(Commen)n(t)p
3603 2523 V 295 2526 3310 4 v 295 2526 V 294 2626 4 100
v 345 2596 a Fb(CeApp)42 b(loc)g(ce)h(e)p 1221 2626 V
862 w($ce$)f($e$)p 2759 2626 V 643 w Fi(application)p
3603 2626 V 294 2726 V 345 2696 a Fb(CeCon)g(loc)g(ls)h(lt)p
1221 2726 V 491 w($list:ls$)d([)j($list:lt$)d(])p 2759
2726 V 317 w Fi(constructor)p 3603 2726 V 294 2825 V
345 2795 a Fb(CeFun)i(loc)g(p)h(ce)p 1221 2825 V 709
w(fun)f($p$)h(->)g($ce$)p 2759 2825 V 490 w Fi(function)p
3603 2825 V 294 2925 V 345 2895 a Fb(CeLet)f(loc)g(b)h(lpe)f(ce)p
1221 2925 V 186 w(let)h($flag:b$)d($list:lpe$)f(in)k($ce$)p
2759 2925 V 142 w Fi(let)28 b(binding)p 3603 2925 V 294
3025 V 345 2995 a Fb(CeStr)42 b(loc)g(po)h(lcstri)p 1221
3025 V 97 w(object)e($opt:op$)f($list:lcstri$)e(end)p
2759 3025 V 99 w Fi(ob)5 b(ject)p 3603 3025 V 294 3124
V 345 3094 a Fb(CeTyc)42 b(loc)g(ce)h(ct)p 1221 3124
V 687 w(\($ce$)e(:)87 b($ct$\))p 2759 3124 V 512 w Fi(class)26
b(t)n(yp)r(e)i(constrain)n(t)p 3603 3124 V 295 3127 3310
4 v 295 3127 V 0 3526 a Ff(class)p 197 3526 29 4 v 34
w(t)m(yp)s(e)p 14 3699 3873 4 v 14 3699 V 12 3799 4 100
v 64 3769 a Fi(No)r(de)p 1538 3799 V 1701 w Fb(<:class)p
2267 3769 27 4 v 29 w(type<)41 b(...)86 b(>>)p 3076 3799
4 100 v 270 w Fi(Commen)n(t)p 3884 3799 V 14 3802 3873
4 v 14 3802 V 12 3902 4 100 v 64 3872 a Fb(CtCon)41 b(loc)i(ls)f(lt)p
1538 3902 V 1068 w($list:ls$)e([)j($list:lt$)d(])p 3076
3902 V 339 w Fi(constructor)p 3884 3902 V 12 4001 V 64
3971 a Fb(CtFun)h(loc)i(t)g(ct)p 1538 4001 V 1307 w([)g($t$)f(])i(->)e
($ct$)p 3076 4001 V 491 w Fi(arro)n(w)p 3884 4001 V 12
4101 V 64 4071 a Fb(CtSig)f(loc)i(pt)f(None)g(lcsigi)p
1117 4071 27 4 v 29 w(item)p 1538 4101 4 100 v 469 w(object)f
($list:lcsigi$)d(end)p 3076 4101 V 295 w Fi(ob)5 b(ject)p
3884 4101 V 12 4201 V 64 4171 a Fb(CtSig)41 b(loc)i(pt)f(\(Some)g(t\))h
(lcsigi)p 1292 4171 27 4 v 29 w(item)p 1538 4201 4 100
v 163 w(object)e(\($t$\))h($list:lcsigi$)c(end)p 3076
4201 V 164 w Fi(ob)5 b(ject)p 3884 4201 V 12 4300 V 64
4270 a Fb(CtSig)41 b(loc)i(pt)f(ot)h(lcsigi)p 1030 4270
27 4 v 29 w(item)p 1538 4300 4 100 v 360 w(object)e($opt:ot$)f
($list:lcsigi$)e(end)p 3076 4300 V 99 w Fi(ob)5 b(ject)27
b(\(general\))p 3884 4300 V 14 4304 3873 4 v 14 4304
V 0 4702 a Ff(class)p 197 4702 29 4 v 34 w(str)p 345
4702 V 35 w(item)p 2 4859 3897 4 v 2 4859 V 0 4959 4
100 v 52 4929 a Fi(No)r(de)p 1320 4959 V 1517 w Fb(<:class)p
2071 4929 27 4 v 29 w(str)p 2232 4929 V 30 w(item<)41
b(...)86 b(>>)p 2902 4959 4 100 v 129 w Fi(Commen)n(t)p
3897 4959 V 2 4962 3897 4 v 2 4962 V 0 5062 4 100 v 52
5032 a Fb(CrCtr)41 b(loc)h(t1)h(t2)p 1320 5062 V 1058
w(type)f($t1$)g(=)h($t2$)p 2902 5062 V 490 w Fi(t)n(yp)r(e)28
b(constrain)n(t)p 3897 5062 V 0 5161 V 52 5131 a Fb(CrDcl)41
b(loc)h(lcstri)p 1320 5161 V 795 w(declare)f($list:lcstri$)d(end)p
2902 5161 V 316 w Fi(declaration)26 b(list)p 3897 5161
V 0 5261 V 52 5231 a Fb(CrInh)41 b(loc)h(ce)h(None)p
1320 5261 V 1057 w(inherit)e($ce$)p 2902 5261 V 577 w
Fi(inheritance)p 3897 5261 V 0 5360 V 52 5331 a Fb(CrInh)g(loc)h(ce)h
(\(Some)f(s\))p 1320 5360 V 731 w(inherit)e($ce$)i(as)h($s$)p
2902 5360 V 425 w Fi(inheritance)p 3897 5360 V 0 5460
V 52 5430 a Fb(CrInh)e(loc)h(ce)h(os)p 1320 5460 V 971
w(inherit)d($ce$)i($opt:s$)p 2902 5460 V 402 w Fi(inheritance)27
b(\(general\))p 3897 5460 V 1908 5656 a(98)p eop end
%%Page: 99 101
TeXDict begin 99 100 bop 1649 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 0 420 4 100 v 52 390 a Fb(CrIni)41 b(loc)h(e)p
1320 420 V 1255 w(initializer)d($e$)p 2902 420 V 512
w Fi(initialization)p 3897 420 V 0 520 V 52 490 a Fb(CrMth)i(loc)h(s)i
(False)d(e)i(None)p 1320 520 V 665 w(method)e($s$)h(=)i($e$)p
2902 520 V 490 w Fi(metho)r(d)p 3897 520 V 0 619 V 52
589 a Fb(CrMth)d(loc)h(s)i(False)d(e)i(\(Some)f(t\))p
1320 619 V 338 w(method)f($s$)i(:)87 b($t$)42 b(=)h($e$)p
2902 619 V 338 w Fi(metho)r(d)p 3897 619 V 0 719 V 52
689 a Fb(CrMth)e(loc)h(s)i(True)e(e)h(None)p 1320 719
V 534 w(method)e(private)f($s$)j(=)g($e$)p 2902 719 V
316 w Fi(metho)r(d)p 3897 719 V 0 819 V 52 789 a Fb(CrMth)e(loc)h(s)i
(True)e(e)h(\(Some)e(t\))p 1320 819 V 208 w(method)g(private)g($s$)h(:)
87 b($t$)42 b(=)h($e$)p 2902 819 V 164 w Fi(metho)r(d)p
3897 819 V 0 918 V 52 888 a Fb(CrMth)e(loc)h(s)i(b)f(e)g(ot)p
1320 918 V 535 w(method)e($flag:b$)f($s$)i($opt:ot$)f(=)i($e$)p
2902 918 V 98 w Fi(metho)r(d)28 b(\(general\))p 3897
918 V 0 1018 V 52 988 a Fb(CrVal)41 b(loc)h(s)i(False)d(e)p
1320 1018 V 906 w(value)g($s$)i(=)g($e$)p 2902 1018 V
512 w Fi(v)-5 b(alue)p 3897 1018 V 0 1117 V 52 1088 a
Fb(CrVal)41 b(loc)h(s)i(True)e(e)p 1320 1117 V 774 w(value)g(mutable)f
($s$)h(=)h($e$)p 2902 1117 V 338 w Fi(v)-5 b(alue)p 3897
1117 V 0 1217 V 52 1187 a Fb(CrVal)41 b(loc)h(s)i(b)f(e)p
1320 1217 V 884 w(value)e($flag:b$)f($s$)j(=)g($e$)p
2902 1217 V 316 w Fi(v)-5 b(alue)28 b(\(general\))p 3897
1217 V 0 1317 V 52 1287 a Fb(CrVir)41 b(loc)h(s)i(False)d(t)p
1320 1317 V 688 w(method)g(virtual)g($s$)h(:)87 b($t$)p
2902 1317 V 294 w Fi(virtual)27 b(metho)r(d)p 3897 1317
V 0 1416 V 52 1386 a Fb(CrVir)41 b(loc)h(s)i(True)e(t)p
1320 1416 V 556 w(method)g(virtual)e(private)h($s$)h(:)87
b($t$)p 2902 1416 V 120 w Fi(virtual)27 b(metho)r(d)p
3897 1416 V 0 1516 V 52 1486 a Fb(CrVir)41 b(loc)h(s)i(b)f(t)p
1320 1516 V 666 w(method)e(virtual)f($flag:b$)h($s$)h(:)87
b($t$)p 2902 1516 V 98 w Fi(virtual)27 b(metho)r(d)h(\(general\))p
3897 1516 V 2 1519 3897 4 v 2 1519 V 0 1934 a Ff(class)p
197 1934 29 4 v 34 w(sig)p 344 1934 V 33 w(item)p 198
2107 3505 4 v 198 2107 V 196 2207 4 100 v 248 2177 a
Fi(No)r(de)p 1124 2207 V 1125 w Fb(<:class)p 1875 2177
27 4 v 29 w(sig)p 2036 2177 V 30 w(item<)41 b(...)86
b(>>)p 2706 2207 4 100 v 129 w Fi(Commen)n(t)p 3700 2207
V 198 2210 3505 4 v 198 2210 V 196 2310 4 100 v 248 2280
a Fb(CgCtr)41 b(loc)i(t1)f(t2)p 1124 2310 V 666 w(type)g($t1$)g(=)h
($t2$)p 2706 2310 V 490 w Fi(t)n(yp)r(e)28 b(constrain)n(t)p
3700 2310 V 196 2409 V 248 2379 a Fb(CgDcl)41 b(loc)i(lcsigi)p
1124 2409 V 424 w(declare)d($list:lcsigi$)f(end)p 2706
2409 V 294 w Fi(declare)p 3700 2409 V 196 2509 V 248
2479 a Fb(CgInh)i(loc)i(ct)p 1124 2509 V 883 w(inherit)e($ct$)p
2706 2509 V 577 w Fi(inheritance)p 3700 2509 V 196 2609
V 248 2579 a Fb(CgMth)g(loc)i(s)g(False)e(t)p 1124 2609
V 470 w(method)g($s$)h(:)87 b($t$)p 2706 2609 V 469 w
Fi(metho)r(d)p 3700 2609 V 196 2708 V 248 2678 a Fb(CgMth)41
b(loc)i(s)g(True)f(t)p 1124 2708 V 339 w(method)f(private)f($s$)j(:)87
b($t$)p 2706 2708 V 294 w Fi(metho)r(d)p 3700 2708 V
196 2808 V 248 2778 a Fb(CgMth)41 b(loc)i(s)g(b)g(t)p
1124 2808 V 448 w(method)e($flag:b$)f($s$)j(:)86 b($t$)p
2706 2808 V 273 w Fi(metho)r(d)28 b(\(general\))p 3700
2808 V 196 2907 V 248 2878 a Fb(CgVal)41 b(loc)i(s)g(False)e(t)p
1124 2907 V 492 w(value)g($s$)i(:)86 b($t$)p 2706 2907
V 491 w Fi(v)-5 b(alue)p 3700 2907 V 196 3007 V 248 2977
a Fb(CgVal)41 b(loc)i(s)g(True)f(t)p 1124 3007 V 360
w(value)g(mutable)f($s$)h(:)87 b($t$)p 2706 3007 V 316
w Fi(v)-5 b(alue)p 3700 3007 V 196 3107 V 248 3077 a
Fb(CgVal)41 b(loc)i(s)g(b)g(t)p 1124 3107 V 470 w(value)e($flag:b$)f
($s$)j(:)87 b($t$)p 2706 3107 V 294 w Fi(v)-5 b(alue)28
b(\(general\))p 3700 3107 V 196 3206 V 248 3176 a Fb(CgVir)41
b(loc)i(s)g(False)e(t)p 1124 3206 V 296 w(method)g(virtual)f($s$)j(:)87
b($t$)p 2706 3206 V 294 w Fi(metho)r(d)28 b(virtual)p
3700 3206 V 196 3306 V 248 3276 a Fb(CgVir)41 b(loc)i(s)g(True)f(t)p
1124 3306 V 164 w(method)f(virtual)g(private)g($s$)h(:)87
b($t$)p 2706 3306 V 120 w Fi(metho)r(d)28 b(virtual)p
3700 3306 V 196 3406 V 248 3376 a Fb(CgVir)41 b(loc)i(s)g(b)g(t)p
1124 3406 V 273 w(method)f(virtual)e($flag:b$)h($s$)h(:)87
b($t$)p 2706 3406 V 98 w Fi(metho)r(d)28 b(virtual)f(\(general\))p
3700 3406 V 198 3409 3505 4 v 198 3409 V 0 3824 a Fe(14.4.6)113
b(other)0 3978 y Ff(with)p 192 3978 29 4 v 34 w(constr)0
4131 y Fi("With")27 b(p)r(ossibly)h(follo)n(wing)e(a)h(mo)r(dule)h(t)n
(yp)r(e.)p 204 4333 3492 4 v 204 4333 V 202 4433 4 100
v 254 4403 a(No)r(de)p 1304 4433 V 1300 w Fb(<:with)p
2012 4403 27 4 v 28 w(const<)42 b(...)86 b(>>)p 2886
4433 4 100 v 291 w Fi(Commen)n(t)p 3694 4433 V 204 4436
3492 4 v 204 4436 V 202 4536 4 100 v 254 4506 a Fb(WcTyp)41
b(loc)i(s)g(ltv)f(False)g(t)p 1304 4536 V 295 w(type)g($s$)g
($list:ltv$)e(=)j($t$)p 2886 4536 V 295 w Fi(with)28
b(t)n(yp)r(e)p 3694 4536 V 202 4635 V 254 4605 a Fb(WcTyp)41
b(loc)i(s)g(ltv)f(True)g(t)p 1304 4635 V 165 w(type)g($s$)g($list:ltv$)
d(=)44 b(private)c($t$)p 2886 4635 V 121 w Fi(with)28
b(t)n(yp)r(e)p 3694 4635 V 202 4735 V 254 4705 a Fb(WcTyp)41
b(loc)i(s)g(ltv)f(b)h(t)p 1304 4735 V 274 w(type)f($s$)g($list:ltv$)e
(=)j($flag:b$)d($t$)p 2886 4735 V 99 w Fi(with)28 b(t)n(yp)r(e)f
(\(general\))p 3694 4735 V 202 4834 V 254 4805 a Fb(WcMod)41
b(loc)i(ls)f(me)p 1304 4834 V 688 w(module)f($list:ls$)f(=)j($me$)p
2886 4834 V 338 w Fi(with)28 b(mo)r(dule)p 3694 4834
V 204 4838 3492 4 v 204 4838 V 0 5251 a Ff(p)s(oly)p
187 5251 29 4 v 34 w(v)-5 b(arian)m(t)0 5407 y Fi(P)n(olymorphic)26
b(v)-5 b(arian)n(ts.)1908 5656 y(99)p eop end
%%Page: 100 102
TeXDict begin 100 101 bop 0 70 a Fi(CHAPTER)27 b(14.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(TRANSITIONAL)h(MODE)p
0 103 3900 4 v 477 390 2947 4 v 477 390 V 475 490 4 100
v 527 460 a(No)r(de)p 1283 490 V 853 w Fb(<:poly)p 1838
460 27 4 v 29 w(variant<)40 b(...)86 b(>>)p 2560 490
4 100 v 51 w Fi(Commen)n(t)p 3422 490 V 477 493 2947
4 v 477 493 V 475 593 4 100 v 527 563 a Fb(PvTag)41 b(s)i(False)f([])p
1283 593 V 589 w(`)h($i$)p 2560 593 V 578 w Fi(constructor)p
3422 593 V 475 692 V 527 663 a Fb(PvTag)e(s)i(True)f(lt)p
1283 692 V 306 w(`)i($i$)e(of)h(&)g($list:lt$)p 2560
692 V 248 w Fi(constructor)p 3422 692 V 475 792 V 527
762 a Fb(PvTag)e(s)i(b)g(lt)p 1283 792 V 285 w(`)g($i$)f(of)h($flag:b$)
d($list:lt$)p 2560 792 V 96 w Fi(constructor)26 b(\(general\))p
3422 792 V 475 892 V 527 862 a Fb(PvInh)41 b(t)p 1283
892 V 1026 w($t$)p 2560 892 V 621 w Fi(t)n(yp)r(e)p 3422
892 V 477 895 2947 4 v 477 895 V 1888 5656 a(100)p eop
end
%%Page: 101 103
TeXDict begin 101 102 bop 0 1013 a Fd(Chapter)65 b(15)0
1429 y Fg(Syn)-6 b(tax)77 b(tree)h(-)g(strict)f(mo)6
b(de)0 1861 y Fi(This)28 b(c)n(hapter)e(presen)n(ts)h(the)h(Camlp5)f
(syn)n(tax)g(tree)g(when)h(Camlp5)f(is)g(installed)h(in)g
Fa(strict)35 b Fi(mo)r(de.)0 2138 y Fc(15.1)136 b(In)l(tro)t(duction)0
2320 y Fi(This)21 b(syn)n(tax)f(tree)h(is)g(de\014ned)g(in)g(the)h(mo)r
(dule)f(")p Fb(MLast)p Fi(")d(pro)n(vided)i(b)n(y)h(Camlp5.)34
b(Eac)n(h)20 b(no)r(de)h(corresp)r(onds)e(to)i(a)g(syn)n(tactic)0
2420 y(en)n(tit)n(y)28 b(of)f(the)h(corresp)r(onding)e(t)n(yp)r(e.)0
2620 y(F)-7 b(or)27 b(example,)g(the)h(syn)n(tax)f(tree)g(of)h(the)g
(statemen)n(t)f(")p Fb(if)p Fi(")f(can)h(b)r(e)h(written:)87
2804 y Fb(MLast.ExIfe)39 b(loc)k(e1)f(e2)h(e3)0 2989
y Fi(where)26 b(")p Fb(loc)p Fi(")d(is)j(the)h(lo)r(cation)e(in)i(the)f
(source,)f(and)h(")p Fb(e1)p Fi(",)f(")p Fb(e2)p Fi(")f(and)i(")p
Fb(e3)p Fi(")f(are)g(resp)r(ectiv)n(ely)g(the)h(expression)f(after)h
(the)0 3088 y(")p Fb(if)p Fi(",)g(the)i(one)f(after)g(the)h(")p
Fb(then)p Fi(")d(and)j(the)g(one)f(after)g(the)h(")p
Fb(else)p Fi(".)0 3288 y(If)k(a)g(program)e(needs)i(to)g(manipulate)f
(syn)n(tax)g(trees,)i(it)f(can)g(use)g(the)g(no)r(des)g(de\014ned)g(in)
g(the)h(mo)r(dule)f(")p Fb(MLast)p Fi(".)47 b(The)0 3388
y(programmer)25 b(m)n(ust)j(kno)n(w)f(ho)n(w)g(the)h(concrete)e(syn)n
(tax)h(is)g(transformed)g(in)n(to)g(this)h(abstract)f(syn)n(tax.)0
3588 y(A)32 b(simpler)g(solution)f(is)h(to)f(use)h(one)f(of)h(the)g
(quotation)f(kits)h(")p Fb(q)p 2086 3588 27 4 v 31 w(MLast.cmo)p
Fi(")27 b(or)k(")p Fb(q)p 2774 3588 V 31 w(ast.cmo)p
Fi(".)46 b(Both)31 b(prop)r(ose)g(quo-)0 3688 y(tations)h(whic)n(h)g
(represen)n(t)f(the)i(abstract)e(syn)n(tax)h(\(the)h(no)r(des)f(of)g
(the)h(mo)r(dule)g(")p Fb(MLast)p Fi("\))d(in)n(to)i(concrete)f(syn)n
(tax)h(with)0 3787 y(an)n(tiquotations)26 b(to)i(bind)g(v)-5
b(ariables)26 b(inside.)37 b(The)28 b(example)f(ab)r(o)n(v)n(e)f(can)h
(b)r(e)h(written:)87 3972 y Fb(<:expr<)41 b(if)i($e1$)f(then)f($e2$)h
(else)g($e3$)g(>>)0 4156 y Fi(This)29 b(represen)n(tation)f(is)h(v)n
(ery)f(in)n(teresting)g(when)i(one)f(w)n(an)n(ts)f(to)h(manipulate)g
(complicated)g(syn)n(tax)f(trees.)41 b(Here)29 b(is)g(an)0
4256 y(example)e(tak)n(en)g(from)g(the)h(Camlp5)f(sources)g(themselv)n
(es:)87 4441 y Fb(<:expr<)174 4540 y(match)42 b(try)g(Some)g($f$)g
(with)g([)i(Stream.Failure)37 b(->)43 b(None)f(])h(with)174
4640 y([)h(Some)d($p$)i(->)g($e$)174 4739 y(|)h(_)f(->)f(raise)g
(\(Stream.Error)c($e2$\))k(])87 4839 y(>>)0 5023 y Fi(This)28
b(example)f(w)n(as)f(in)i(a)f(p)r(osition)h(of)f(a)h(pattern.)36
b(In)28 b(abstract)f(syn)n(tax,)f(it)i(should)g(ha)n(v)n(e)e(b)r(een)i
(written:)87 5208 y Fb(MLast.ExMat)39 b(_)174 5308 y(\(MLast.ExTry)g(_)
k(\(MLast.ExApp)c(_)k(\(MLast.ExUid)c(_)k(\(Ploc.VaVal)c("Some"\)\))h
(f\))305 5407 y(\(Ploc.VaVal)1888 5656 y Fi(101)p eop
end
%%Page: 102 104
TeXDict begin 102 103 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 436 390 a Fb([\(MLast.PaAcc)38 b(_)43 b(\(MLast.PaUid)c(_)k
(\(Ploc.VaVal)c("Stream"\)\))567 490 y(\(MLast.PaUid)f(_)43
b(\(Ploc.VaVal)c("Failure"\)\),)523 589 y(Ploc.VaVal)g(None,)j
(MLast.ExUid)d(_)k(\(Ploc.VaVal)c("None"\)\)]\)\))174
689 y(\(Ploc.VaVal)305 789 y([\(MLast.PaApp)f(_)43 b(\(MLast.PaUid)c(_)
k(\(Ploc.VaVal)c("Some"\)\))i(p,)392 888 y(Ploc.VaVal)f(None,)h(e\);)
349 988 y(\(MLast.PaAny)d(_,)43 b(Ploc.VaVal)d(None,)392
1088 y(MLast.ExApp)f(_)k(\(MLast.ExLid)c(_)k(\(Ploc.VaVal)c
("raise"\)\))479 1187 y(\(MLast.ExApp)g(_)610 1287 y(\(MLast.ExAcc)g(_)
k(\(MLast.ExUid)c(_)k(\(Ploc.VaVal)c("Stream"\)\))741
1386 y(\(MLast.ExUid)g(_)k(\(Ploc.VaVal)c("Error"\)\)\))610
1486 y(e2\)\)]\))0 1676 y Fi(Whic)n(h)28 b(is)f(less)h(readable)e(and)h
(m)n(uc)n(h)h(more)e(complicated)i(to)f(build)h(and)g(up)r(date.)0
1879 y(Instead)f(of)h(thinking)g(of)f("a)g(syn)n(tax)g(tree",)f(the)i
(programmer)e(can)h(think)h(of)f("a)g(piece)h(of)f(program".)0
2163 y Fc(15.2)136 b(Lo)t(cation)0 2348 y Fi(In)28 b(all)f(syn)n(tax)g
(tree)g(no)r(des,)g(the)h(\014rst)g(parameter)e(is)h(the)h(source)f(lo)
r(cation)g(of)g(the)h(no)r(de.)0 2591 y Fe(15.2.1)113
b(In)37 b(expressions)0 2747 y Fi(When)28 b(a)f(quotation)f(is)h(in)h
(the)g(con)n(text)f(of)g(an)g(expression,)f(the)h(lo)r(cation)g
(parameter)f(is)h(")p Fb(loc)p Fi(")e(in)j(the)f(no)r(de)h(and)f(in)g
(all)0 2847 y(its)h(p)r(ossible)f(sub-no)r(des.)36 b(Example:)g(if)29
b(w)n(e)e(consider)f(the)i(quotation:)87 3039 y Fb(<:sig_item<)39
b(value)j(foo)g(:)h(int)g(->)f(bool)g(>>)0 3228 y Fi(This)28
b(quotation,)f(in)g(a)h(con)n(text)f(of)g(an)h(expression,)e(is)h
(equiv)-5 b(alen)n(t)28 b(to:)87 3420 y Fb(MLast.SgVal)39
b(loc)k(\(Ploc.VaVal)c("foo"\))174 3520 y(\(MLast.TyArr)g(loc)j
(\(MLast.TyLid)d(loc)j(\(Ploc.VaVal)d("int"\)\))305 3620
y(\(MLast.TyLid)g(loc)j(\(Ploc.VaVal)d("bool"\)\)\);)0
3809 y Fi(The)21 b(name)h(")p Fb(loc)p Fi(")d(is)i(prede\014ned.)35
b(Ho)n(w)n(ev)n(er,)21 b(it)g(is)h(p)r(ossible)f(to)g(c)n(hange)f(it,)j
(using)f(the)f(argumen)n(t)g(")p Fb(-loc)p Fi(")d(of)k(the)g(Camlp5)0
3909 y(shell)28 b(commands.)0 4112 y(Consequen)n(tly)-7
b(,)26 b(if)g(there)g(is)g(no)f(v)-5 b(ariable)25 b(")p
Fb(loc)p Fi(")f(de\014ned)j(in)f(the)g(con)n(text)g(of)g(the)g
(quotation,)g(or)f(if)h(it)h(is)e(not)h(of)g(the)h(go)r(o)r(d)0
4212 y(t)n(yp)r(e,)h(a)f(seman)n(tic)g(error)f(o)r(ccur)h(in)h(the)g
(OCaml)e(compiler)h(\("Un)n(b)r(ound)h(v)-5 b(alue)28
b(lo)r(c"\).)0 4415 y(Note)h(that)h(in)f(the)h(extensible)f(grammars,)f
(the)i(v)-5 b(ariable)28 b(")p Fb(loc)p Fi(")f(is)i(b)r(ound,)h(in)g
(all)f(seman)n(tic)g(actions,)g(to)g(the)h(lo)r(cation)0
4514 y(of)e(the)g(rule.)0 4717 y(If)19 b(the)g(created)e(no)r(de)i(has)
e(no)h(lo)r(cation,)i(the)f(programmer)d(can)i(de\014ne)g(a)g(v)-5
b(ariable)18 b(named)g(")p Fb(loc)p Fi(")e(equal)i(to)g(")p
Fb(Ploc.dummy)p Fi(".)0 4959 y Fe(15.2.2)113 b(In)37
b(patterns)0 5116 y Fi(When)27 b(a)f(quotation)g(is)g(in)h(the)g(con)n
(text)f(of)h(a)f(pattern,)g(the)h(lo)r(cation)f(parameter)f(of)i(all)f
(no)r(des)g(and)g(p)r(ossible)h(sub-no)r(des)0 5215 y(is)g(set)h(to)g
(the)g(wildcard)e(\(")p 873 5215 27 4 v 32 w("\).)36
b(The)28 b(same)f(example)g(ab)r(o)n(v)n(e:)87 5407 y
Fb(<:sig_item<)39 b(value)j(foo)g(:)h(int)g(->)f(bool)g(>>)1888
5656 y Fi(102)p eop end
%%Page: 103 105
TeXDict begin 103 104 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a(is)g(equiv)-5 b(alen)n(t,)28 b(in)g(a)f(pattern,)g
(to:)87 573 y Fb(MLast.SgVal)39 b(_)k(\(Ploc.VaVal)c("foo"\))174
672 y(\(MLast.TyArr)g(_)k(\(MLast.TyLid)c(_)k(\(Ploc.VaVal)c("int"\)\))
305 772 y(\(MLast.TyLid)g(_)k(\(Ploc.VaVal)c("bool"\)\)\))0
1047 y Fc(15.3)136 b(An)l(tiquotations)0 1228 y Fi(The)32
b(expressions)e(or)h(patterns)g(b)r(et)n(w)n(een)h(dollar)e(\($\))i(c)n
(haracters)d(are)i(called)g Fa(antiquotations)p Fi(.)50
b(In)32 b(opp)r(osition)f(to)h(quo-)0 1328 y(tations)e(whic)n(h)h(has)f
(its)h(o)n(wn)f(syn)n(tax)g(rules,)h(the)g(an)n(tiquotation)e(is)i(an)f
(area)f(in)i(the)g(syn)n(tax)f(of)h(the)g(enclosing)e(con)n(text)0
1428 y(\(expression)d(or)h(pattern\).)37 b(See)28 b(the)g(c)n(hapter)e
(ab)r(out)i(quotations.)0 1627 y(If)i(a)f(quotation)g(is)g(in)h(the)g
(con)n(text)f(of)h(an)f(expression,)f(the)i(an)n(tiquotation)f(m)n(ust)
g(b)r(e)h(an)g(expression.)41 b(It)30 b(could)f(b)r(e)h(an)n(y)0
1727 y(expression,)c(including)i(function)g(calls.)36
b(Examples:)87 1909 y Fb(value)42 b(f)h(e)g(el)g(=)g(<:expr<)e([$e$)h
(::)g($loop)g(False)f(el$])h(>>;)87 2009 y(value)g(patt_list)e(p)j(pl)f
(=)i(<:patt<)c(\()k($list:[p::pl]$\))37 b(>>;)0 2191
y Fi(If)i(a)f(quotation)g(is)g(in)h(the)g(con)n(text)f(of)g(an)h
(pattern,)i(the)e(an)n(tiquotation)e(is)i(a)f(pattern.)69
b(An)n(y)39 b(pattern)f(is)g(p)r(ossible,)0 2291 y(including)28
b(the)g(wildcard)f(c)n(haracter)e(\(")p 1281 2291 27
4 v 31 w("\).)37 b(Examples:)131 2473 y Fb(fun)42 b([)h(<:expr<)e
($lid:op$)f($_$)j($_$)f(>>)h(->)f(op)h(])131 2573 y(match)e(p)i(with)f
([)i(<:patt<)c($_$)j(|)g($_$)f(>>)h(->)g(Some)f(p)h(])0
2848 y Fc(15.4)136 b(Tw)l(o)45 b(kinds)f(of)h(an)l(tiquotations)0
3046 y Fe(15.4.1)113 b(Preliminary)38 b(remark)0 3199
y Fi(In)28 b(strict)g(mo)r(de,)g(w)n(e)g(remark)f(that)h(most)g
(constructors)e(de\014ned)j(of)f(the)g(mo)r(dule)g(")p
Fb(MLast)p Fi(")d(are)i(of)h(t)n(yp)r(e)h(")p Fb(Ploc.vala)p
Fi(".)0 3299 y(This)f(t)n(yp)r(e)f(is)h(de\014ned)g(lik)n(e)f(this:)87
3481 y Fb(type)42 b(vala)g('a)h(=)174 3581 y([)h(VaAnt)d(of)i(string)
174 3681 y(|)h(VaVal)d(of)i('a)g(])87 3780 y(;)0 3963
y Fi(The)30 b(t)n(yp)r(e)f(argumen)n(t)g(is)g(the)h(real)f(t)n(yp)r(e)h
(of)f(the)h(no)r(de.)43 b(F)-7 b(or)29 b(example,)h(a)f(v)-5
b(alue)29 b(of)h(t)n(yp)r(e)g(")p Fb(bool)p Fi(")d(in)j(transitional)e
(mo)r(de)0 4063 y(is)f(frequen)n(tly)h(represen)n(ted)e(b)n(y)h(a)h(v)
-5 b(alue)27 b(of)h(t)n(yp)r(e)f(")p Fb(Ploc.vala)40
b(bool)p Fi(".)0 4262 y(The)29 b(\014rst)g(case)g(of)g(the)h(t)n(yp)r
(e)f(")p Fb(vala)p Fi(")e(corresp)r(onds)g(to)i(an)g(an)n(tiquotation)f
(in)i(the)g(concrete)e(syn)n(tax.)41 b(The)29 b(second)g(case)0
4361 y(to)e(a)h(normal)e(syn)n(tax)h(situation,)g(without)h(an)n
(tiquotation.)0 4561 y(Example:)39 b(in)29 b(the)g("let")g(statemen)n
(t,)g(the)g(fact)h(that)f(it)g(is)g("rec")e(or)h(not)h(is)g(represen)n
(ted)f(b)n(y)h(a)f(b)r(o)r(olean.)41 b(This)29 b(b)r(o)r(olean)0
4660 y(is,)f(in)f(the)h(syn)n(tax)f(tree,)g(encapsulated)g(with)h(the)g
(t)n(yp)r(e)g(")p Fb(Ploc.vala)p Fi(".)33 b(The)27 b(syn)n(tax)g(tree)g
(of)h(the)g(t)n(w)n(o)e(follo)n(wing)h(lines:)87 4843
y Fb(let)43 b(x)g(=)g(y)g(in)g(z)87 4942 y(let)g(rec)f(x)h(=)g(y)g(in)g
(z)0 5125 y Fi(start)27 b(with,)h(resp)r(ectiv)n(ely:)87
5308 y Fb(MLast.ExLet)39 b(loc)k(\(Ploc.VaVal)c(False\))174
5407 y(...)k(\(*)f(and)h(so)g(on)f(*\))1888 5656 y Fi(103)p
eop end
%%Page: 104 106
TeXDict begin 104 105 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a(and:)87 574 y Fb(MLast.ExLet)39 b(loc)k(\(Ploc.VaVal)c
(True\))174 674 y(...)k(\(*)f(and)h(so)g(on)f(*\))0 857
y Fi(The)27 b(case)f(")p Fb(Ploc.VaAnt)39 b(s)p Fi(")26
b(is)h(in)n(ternally)g(used)g(b)n(y)f(the)i(parsers)d(and)i(b)n(y)f
(the)i(quotation)e(kit)h(")p Fb(q)p 3173 857 27 4 v 31
w(ast.cmo)p Fi(")d(to)j(record)0 957 y(an)n(tiquotation)34
b(strings)h(represen)n(ting)e(the)j(expression)e(or)g(the)i(patterns)f
(ha)n(ving)f(this)i(v)-5 b(alue.)60 b(F)-7 b(or)34 b(example,)j(in)f
(this)0 1057 y("let")27 b(statemen)n(t:)87 1240 y Fb(MLast.ExLet)39
b(loc)k(\(Ploc.VaAnt)c(s\))174 1340 y(...)k(\(*)f(and)h(so)g(on)f(*\))0
1524 y Fi(The)32 b(con)n(ten)n(ts)f(of)g(this)h(")p Fb(s)p
Fi(")f(is)g(in)n(ternally)g(handled.)49 b(F)-7 b(or)31
b(information,)h(it)g(con)n(tains)f(the)h(an)n(tiquotation)f(string)g
(\(kind)0 1623 y(included\))i(together)d(with)j(represen)n(tation)d(of)
h(the)i(lo)r(cation)e(of)g(the)h(an)n(tiquotation)f(in)h(the)g
(quotation.)49 b(See)32 b(the)g(next)0 1723 y(section.)0
1957 y Fe(15.4.2)113 b(An)m(tiquoting)0 2110 y Fi(T)-7
b(o)27 b(an)n(tiquotate)g(the)h(fact)g(that)g(the)g("let")f(is)g(with)h
(or)f(without)h(rec)f(\(a)g(\015ag)g(of)h(t)n(yp)r(e)f(b)r(o)r
(olean\),)h(there)f(are)g(t)n(w)n(o)g(w)n(a)n(ys.)0 2327
y Ff(direct)32 b(an)m(tiquoting)0 2481 y Fi(The)c(\014rst)f(w)n(a)n(y)
-7 b(,)26 b(hidding)i(the)g(t)n(yp)r(e)g(")p Fb(Ploc.val)p
Fi(",)c(can)j(b)r(e)h(written)g(with)g(the)g(an)n(tiquotation)e(kind)i
("\015ag":)87 2665 y Fb(<:expr<)41 b(let)h($flag:rf$)e(x)j(=)g(y)h(in)e
(z)i(>>)0 2849 y Fi(This)28 b(corresp)r(onds)d(to)j(the)g(syn)n(tax)e
(tree:)87 3033 y Fb(MLast.ExLet)39 b(loc)k(\(Ploc.VaVal)c(rf\))218
3132 y(...)j(\(*)h(and)f(so)h(on)g(*\))0 3316 y Fi(And,)28
b(therefore,)f(the)h(t)n(yp)r(e)g(of)f(the)h(v)-5 b(ariable)27
b(")p Fb(rf)p Fi(")f(is)h(simply)h(")p Fb(bool)p Fi(".)0
3533 y Ff(general)j(an)m(tiquoting)0 3687 y Fi(The)f(second)f(w)n(a)n
(y)-7 b(,)29 b(in)n(tro)r(ducing)g(v)-5 b(ariables)29
b(of)h(t)n(yp)r(e)g(")p Fb(Ploc.vala)p Fi(")25 b(can)k(b)r(e)h(written)
g(a)g(kind)g(pre\014xed)f(b)n(y)h(")p 3519 3687 V 30
w(",)g(namely)0 3786 y(here)d(")p 227 3786 V 31 w Fb(flag)p
Fi(":)87 3970 y Fb(<:expr<)41 b(let)h($_flag:rf$)e(x)j(=)g(y)g(in)g(z)g
(>>)0 4154 y Fi(In)28 b(that)g(case,)e(it)i(corresp)r(onds)e(to)i(the)g
(syn)n(tax)e(tree:)87 4338 y Fb(MLast.ExLet)39 b(loc)k(rf)218
4437 y(...)f(\(*)h(and)f(so)h(on)g(*\))0 4621 y Fi(And,)28
b(therefore,)f(the)h(t)n(yp)r(e)g(of)f(the)h(v)-5 b(ariable)27
b(")p Fb(rf)p Fi(")f(is)h(no)n(w)g(")p Fb(Ploc.vala)40
b(bool)p Fi(".)0 4854 y Fe(15.4.3)113 b(Remarks)0 5008
y Fi(The)25 b(\014rst)g(form)g(of)g(an)n(tiquotation)f(ensures)g(the)h
(compatibilit)n(y)g(with)h(previous)d(v)n(ersions)h(of)h(Camlp5.)35
b(The)25 b(syn)n(tax)f(tree)0 5108 y(is)j Fa(not)36 b
Fi(the)28 b(same,)f(but)h(the)g(b)r(ound)g(v)-5 b(ariables)26
b(k)n(eep)h(the)h(same)f(t)n(yp)r(e.)0 5308 y(All)34
b(an)n(tiquotations)d(kinds)i(ha)n(v)n(e)f(these)i(t)n(w)n(o)e(forms:)
47 b(one)33 b(with)h(some)e(name)h(\(e.g.)53 b("\015ag"\))32
b(and)h(one)g(with)g(the)h(same)0 5407 y(name)27 b(pre\014xed)h(b)n(y)f
("a")f(\(e.g.)37 b("a\015ag"\).)1888 5656 y(104)p eop
end
%%Page: 105 107
TeXDict begin 105 106 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Fc(15.5)136 b(No)t(des)45 b(and)f(Quotations)0
582 y Fi(This)36 b(section)f(describ)r(es)h(all)f(no)r(des)h(de\014ned)
g(in)g(the)h(mo)r(dule)f("MLast")e(of)i(Camlp5)g(and)f(ho)n(w)h(to)f
(write)h(them)h(with)0 682 y(quotations.)f(Notice)27
b(that,)h(inside)g(quotations,)e(one)h(is)h(not)f(restricted)g(to)g
(these)h(elemen)n(tary)e(cases,)h(but)h(an)n(y)f(complex)0
782 y(v)-5 b(alue)27 b(can)h(b)r(e)g(used,)f(resulting)g(on)h(p)r
(ossibly)f(complex)g(com)n(bined)g(no)r(des.)0 992 y(The)36
b(quotation)g(forms)g(are)f(describ)r(ed)h(here)g(in)h(revised)e(syn)n
(tax)h(\(lik)n(e)g(the)h(rest)f(of)g(this)h(do)r(cumen)n(t\).)63
b(In)37 b(realit)n(y)-7 b(,)38 b(it)0 1091 y(dep)r(ends)28
b(on)f(whic)n(h)h(quotation)f(kit)h(is)f(loaded:)125
1296 y Fh(\017)41 b Fi(If)35 b(")p Fb(q)p 389 1296 27
4 v 31 w(MLast.cmo)p Fi(")c(is)k(used,)i(the)f(revised)e(syn)n(tax)g
(is)h(mandatory:)51 b(the)36 b(quotations)e(m)n(ust)h(b)r(e)h(in)f
(that)h(syn)n(tax)208 1396 y(without)28 b(an)n(y)e(extension.)125
1584 y Fh(\017)41 b Fi(If)32 b(")p Fb(q)p 386 1584 V
30 w(ast.cmo)p Fi(")d(is)i(used,)i(the)g(quotation)e(syn)n(tax)g
Fa(must)38 b Fi(b)r(e)33 b(in)f(the)g(curren)n(t)f(user)g(syn)n(tax)g
(with)h(all)g(extensions)208 1683 y(added)27 b(to)g(compile)h(the)g
(\014le.)0 1888 y(Last)d(remark:)34 b(in)26 b(the)g(follo)n(wing)e
(tables,)h(the)h(v)-5 b(ariables)24 b(names)h(giv)n(e)g(information)f
(of)i(their)f(t)n(yp)r(es.)36 b(The)26 b(details)f(can)g(b)r(e)0
1988 y(found)j(in)g(the)g(distributed)g(source)e(\014le)i(")p
Fb(mLast.mli)p Fi(".)125 2192 y Fh(\017)41 b Fb(e)p Fi(,)27
b Fb(e1)p Fi(,)g Fb(e2)p Fi(,)g Fb(e3)p Fi(:)36 b(expr)125
2380 y Fh(\017)41 b Fb(p)p Fi(,)27 b Fb(p1)p Fi(,)g Fb(p2)p
Fi(,)g Fb(p3)p Fi(:)36 b(patt)125 2568 y Fh(\017)41 b
Fb(t)p Fi(,)27 b Fb(t1)p Fi(,)g Fb(t2)p Fi(,)g Fb(e3)p
Fi(:)36 b(ct)n(yp)125 2756 y Fh(\017)41 b Fb(s)p Fi(:)36
b(string)125 2944 y Fh(\017)41 b Fb(b)p Fi(:)36 b(b)r(o)r(ol)125
3132 y Fh(\017)41 b Fb(me)p Fi(,)26 b Fb(me1)p Fi(,)h
Fb(me2)p Fi(:)36 b(mo)r(dule)p 988 3132 25 4 v 30 w(expr)125
3320 y Fh(\017)41 b Fb(mt)p Fi(,)26 b Fb(mt1)p Fi(,)h
Fb(mt2)p Fi(:)36 b(mo)r(dule)p 988 3320 V 30 w(t)n(yp)r(e)125
3508 y Fh(\017)41 b Fb(le)p Fi(:)36 b(list)28 b(expr)125
3696 y Fh(\017)41 b Fb(lp)p Fi(:)36 b(list)28 b(patt)125
3884 y Fh(\017)41 b Fb(lt)p Fi(:)36 b(list)28 b(ct)n(yp)125
4073 y Fh(\017)41 b Fb(ls)p Fi(:)36 b(list)28 b(string)125
4261 y Fh(\017)41 b Fb(lse)p Fi(:)35 b(list)28 b(\(string)f(*)g(expr\))
125 4449 y Fh(\017)41 b Fb(lpe)p Fi(:)35 b(list)28 b(\(patt)g(*)f
(expr\))125 4637 y Fh(\017)41 b Fb(lpp)p Fi(:)35 b(list)28
b(\(patt)g(*)f(patt\))125 4825 y Fh(\017)41 b Fb(lpoee)p
Fi(:)34 b(list)28 b(\(patt)g(*)g(option)f(expr)g(*)g(expr\))125
5013 y Fh(\017)41 b Fb(op)p Fi(:)36 b(option)27 b(patt)125
5201 y Fh(\017)41 b Fb(lcstri)p Fi(:)34 b(list)28 b(class)p
841 5201 V 29 w(str)p 968 5201 V 29 w(item)125 5389 y
Fh(\017)41 b Fb(lcsigi)p Fi(:)34 b(list)28 b(class)p
841 5389 V 29 w(sig)p 968 5389 V 29 w(item)1888 5656
y(105)p eop end
%%Page: 106 108
TeXDict begin 106 107 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Fe(15.5.1)113 b(expr)0 543 y Fi(Expressions)25
b(of)j(the)g(language.)0 711 y Ff(-)k(access)208 841
y Fb(<:expr<)40 b($e1$)i(.)87 b($e2$)42 b(>>)208 940
y(MLast.ExAcc)d(loc)j(e1)h(e2)0 1107 y Ff(-)32 b(an)m(tiquotation)g
(\(1\))208 1237 y Fb(<:expr<)40 b($anti:e$)h(>>)208 1337
y(MLast.ExAnt)e(loc)j(e)0 1504 y Ff(-)32 b(application)208
1634 y Fb(<:expr<)40 b($e1$)i($e2$)g(>>)208 1734 y(MLast.ExApp)d(loc)j
(e1)h(e2)0 1901 y Ff(-)32 b(arra)m(y)i(access)208 2031
y Fb(<:expr<)40 b($e1$)i(.\()h($e2$)f(\))h(>>)208 2130
y(MLast.ExAre)c(loc)j(e1)h(e2)0 2298 y Ff(-)32 b(arra)m(y)208
2427 y Fb(<:expr<)40 b([|)j($list:le$)d(|])j(>>)208 2527
y(MLast.ExArr)c(loc)j(\(Ploc.VaVal)d(le\))208 2726 y(<:expr<)h([|)j($)p
736 2726 27 4 v 31 w(list:le$)d(|])j(>>)208 2826 y(MLast.ExArr)c(loc)j
(le)0 2993 y Ff(-)32 b(assert)208 3123 y Fb(<:expr<)40
b(assert)h($e$)i(>>)208 3223 y(MLast.ExAsr)c(loc)j(e)0
3390 y Ff(-)32 b(assignmen)m(t)208 3520 y Fb(<:expr<)40
b($e1$)i(:=)h($e2$)f(>>)208 3619 y(MLast.ExAss)d(loc)j(e1)h(e2)0
3787 y Ff(-)32 b(big)f(arra)m(y)j(access)208 3916 y Fb(<:expr<)40
b($e$)j(.)p Fh(f)f Fb($list:le$)e Fh(g)j Fb(>>)208 4016
y(MLast.ExBae)c(loc)j(e)h(\(Ploc.VaVal)c(le\))208 4215
y(<:expr<)h($e$)j(.)p Fh(f)f Fb($)p 908 4215 V 31 w(list:le$)f
Fh(g)i Fb(>>)208 4315 y(MLast.ExBae)c(loc)j(e)h(le)0
4482 y Ff(-)32 b(c)m(haracter)i(constan)m(t)208 4612
y Fb(<:expr<)40 b($chr:s$)h(>>)208 4712 y(MLast.ExChr)e(loc)j
(\(Ploc.VaVal)d(s\))208 4911 y(<:expr<)h($)p 605 4911
V 31 w(chr:s$)h(>>)208 5010 y(MLast.ExChr)e(loc)j(s)0
5178 y Ff(-)32 b(co)s(ercion)f(with)h(t)m(yp)s(e)g(constrain)m(t)208
5308 y Fb(<:expr<)40 b(\($e$)i(:)87 b($t1$)42 b(:>)h($t2$\))e(>>)208
5407 y(MLast.ExCoe)e(loc)j(e)h(\(Some)f(t1\))g(t2)1888
5656 y Fi(106)p eop end
%%Page: 107 109
TeXDict begin 107 108 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(co)s(ercion)f(without)g(t)m(yp)s(e)i
(constrain)m(t)208 520 y Fb(<:expr<)40 b(\($e$)i(:>)h($t2$\))e(>>)208
620 y(MLast.ExCoe)e(loc)j(e)h(None)f(t2)0 789 y Ff(-)32
b(\015oat)g(constan)m(t)208 920 y Fb(<:expr<)40 b($flo:s$)h(>>)208
1019 y(MLast.ExFlo)e(loc)j(\(Ploc.VaVal)d(s\))208 1219
y(<:expr<)h($)p 605 1219 27 4 v 31 w(flo:s$)h(>>)208
1318 y(MLast.ExFlo)e(loc)j(s)0 1488 y Ff(-)32 b(for)g(lo)s(op)208
1618 y Fb(<:expr<)40 b(for)j($lid:s$)d(=)j($e1$)f($to:b$)f($e2$)h(do)h
Fh(f)g Fb($list:le$)d Fh(g)j Fb(>>)208 1717 y(MLast.ExFor)c(loc)j
(\(Ploc.VaVal)d(s\))k(e1)f(e2)h(\(Ploc.VaVal)c(b\))k(\(Ploc.VaVal)c
(le\))208 1917 y(<:expr<)h(for)j($)p 780 1917 V 31 w(lid:s$)e(=)i($e1$)
f($)p 1465 1917 V 31 w(to:b$)f($e2$)h(do)h Fh(f)g Fb($)p
2235 1917 V 31 w(list:le$)d Fh(g)j Fb(>>)208 2016 y(MLast.ExFor)c(loc)j
(s)h(e1)g(e2)g(b)g(le)0 2186 y Ff(-)32 b(function)208
2316 y Fb(<:expr<)40 b(fun)j([)g($list:lpwe$)c(])k(>>)208
2415 y(MLast.ExFun)c(loc)j(\(Ploc.VaVal)d(lpwe\))208
2615 y(<:expr<)h(fun)j([)g($)p 867 2615 V 31 w(list:lpwe$)c(])k(>>)208
2714 y(MLast.ExFun)c(loc)j(lpwe)0 2884 y Ff(-)32 b(if)208
3014 y Fb(<:expr<)40 b(if)j($e1$)f(then)g($e2$)g(else)g($e3$)g(>>)208
3114 y(MLast.ExIfe)d(loc)j(e1)h(e2)f(e3)0 3283 y Ff(-)32
b(in)m(teger)f(constan)m(t)208 3413 y Fb(<:expr<)40 b($int:s$)h(>>)208
3513 y(MLast.ExInt)e(loc)j(\(Ploc.VaVal)d(s\))k("")208
3712 y(<:expr<)d($)p 605 3712 V 31 w(int:s$)h(>>)208
3812 y(MLast.ExInt)e(loc)j(s)h("")0 4081 y Ff(-)32 b(in)m(teger)f(32)g
(bits)208 4211 y Fb(<:expr<)40 b($int32:s$)g(>>)208 4311
y(MLast.ExInt)f(loc)j(\(Ploc.VaVal)d(s\))k("l")208 4510
y(<:expr<)d($)p 605 4510 V 31 w(int32:s$)g(>>)208 4609
y(MLast.ExInt)f(loc)j(s)h("l")0 4878 y Ff(-)32 b(in)m(teger)f(64)g
(bits)208 5009 y Fb(<:expr<)40 b($int64:s$)g(>>)208 5108
y(MLast.ExInt)f(loc)j(\(Ploc.VaVal)d(s\))k("L")208 5308
y(<:expr<)d($)p 605 5308 V 31 w(int64:s$)g(>>)208 5407
y(MLast.ExInt)f(loc)j(s)h("L")1888 5656 y Fi(107)p eop
end
%%Page: 108 110
TeXDict begin 108 109 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(nativ)m(e)g(in)m(teger)208 520
y Fb(<:expr<)40 b($nativeint:s$)e(>>)208 620 y(MLast.ExInt)h(loc)j
(\(Ploc.VaVal)d(s\))k("n")208 819 y(<:expr<)d($)p 605
819 27 4 v 31 w(nativeint:s$)f(>>)208 919 y(MLast.ExInt)g(loc)j(s)h
("n")0 1088 y Ff(-)32 b(lab)s(el)208 1219 y Fb(<:expr<)40
b(~$s$)i(>>)208 1318 y(MLast.ExLab)d(loc)j(\(Ploc.VaVal)d(s\))k(None)
208 1518 y(<:expr<)d(~$)p 649 1518 V 31 w(:s$)i(>>)208
1617 y(MLast.ExLab)d(loc)j(s)h(None)208 1816 y(<:expr<)d(~$s$:)85
b($e$)43 b(>>)208 1916 y(MLast.ExLab)c(loc)j(\(Ploc.VaVal)d(s\))k
(\(Some)e(e\))208 2115 y(<:expr<)f(~$)p 649 2115 V 31
w(:s$:)85 b($e$)43 b(>>)208 2215 y(MLast.ExLab)c(loc)j(s)h(\(Some)f
(e\))0 2384 y Ff(-)32 b(lazy)208 2515 y Fb(<:expr<)40
b(lazy)i($e$)h(>>)208 2614 y(MLast.ExLaz)c(loc)j(e)0
2784 y Ff(-)32 b(let)f(binding)208 2914 y Fb(<:expr<)40
b(let)j($flag:b$)d($list:lpe$)f(in)k($e$)f(>>)208 3014
y(MLast.ExLet)d(loc)j(\(Ploc.VaVal)d(b\))k(\(Ploc.VaVal)c(lpe\))j(e)208
3213 y(<:expr<)e(let)j($)p 780 3213 V 31 w(flag:b$)d($)p
1203 3213 V 31 w(list:lpe$)g(in)j($e$)f(>>)208 3312 y(MLast.ExLet)d
(loc)j(b)h(lpe)f(e)0 3482 y Ff(-)32 b(lo)m(w)m(ercase)g(iden)m
(ti\014er)208 3612 y Fb(<:expr<)40 b($lid:s$)h(>>)208
3712 y(MLast.ExLid)e(loc)j(\(Ploc.VaVal)d(s\))208 3911
y(<:expr<)h($)p 605 3911 V 31 w(lid:s$)h(>>)208 4011
y(MLast.ExLid)e(loc)j(s)0 4180 y Ff(-)32 b(let)f(mo)s(dule)208
4310 y Fb(<:expr<)40 b(let)j(module)e($uid:s$)f(=)k($me$)d(in)i($e$)g
(>>)208 4410 y(MLast.ExLmd)c(loc)j(\(Ploc.VaVal)d(s\))k(me)f(e)208
4609 y(<:expr<)e(let)j(module)e($)p 1085 4609 V 31 w(uid:s$)g(=)i($me$)
f(in)h($e$)f(>>)208 4709 y(MLast.ExLmd)d(loc)j(s)h(me)g(e)0
4878 y Ff(-)32 b(matc)m(h)208 5009 y Fb(<:expr<)40 b(match)i($e$)g
(with)g([)h($list:lpwe$)c(])k(>>)208 5108 y(MLast.ExMat)c(loc)j(e)h
(\(Ploc.VaVal)c(lpwe\))208 5308 y(<:expr<)h(match)i($e$)g(with)g([)h($)
p 1346 5308 V 31 w(list:lpwe$)d(])j(>>)208 5407 y(MLast.ExMat)c(loc)j
(e)h(lpwe)1888 5656 y Fi(108)p eop end
%%Page: 109 111
TeXDict begin 109 110 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(new)208 524 y Fb(<:expr<)40
b(new)j($list:ls$)c(>>)208 624 y(MLast.ExNew)g(loc)j(\(Ploc.VaVal)d
(ls\))208 823 y(<:expr<)h(new)j($)p 780 823 27 4 v 31
w(list:ls$)d(>>)208 923 y(MLast.ExNew)f(loc)j(ls)0 1108
y Ff(-)32 b(ob)5 b(ject)32 b(expression)208 1242 y Fb(<:expr<)40
b(object)h($opt:op$)g($list:lcstri$)d(end)k(>>)208 1342
y(MLast.ExObj)d(loc)j(\(Ploc.VaVal)d(op\))j(\(Ploc.VaVal)d(lcstri\))208
1541 y(<:expr<)h(object)h($)p 910 1541 V 31 w(opt:op$)g($)p
1334 1541 V 31 w(list:lcstri$)e(end)j(>>)208 1640 y(MLast.ExObj)d(loc)j
(op)h(lcstri)0 1825 y Ff(-)32 b(optional)f(lab)s(el)208
1959 y Fb(<:expr<)40 b(?$s$)i(>>)208 2059 y(MLast.ExOlb)d(loc)j
(\(Ploc.VaVal)d(s\))k(None)208 2258 y(<:expr<)d(?$)p
649 2258 V 31 w(:s$)i(>>)208 2358 y(MLast.ExOlb)d(loc)j(s)h(None)208
2557 y(<:expr<)d(?$s$:)85 b($e$)43 b(>>)208 2657 y(MLast.ExOlb)c(loc)j
(\(Ploc.VaVal)d(s\))k(\(Some)e(e\))208 2856 y(<:expr<)f(?$)p
649 2856 V 31 w(:s$:)85 b($e$)43 b(>>)208 2956 y(MLast.ExOlb)c(loc)j(s)
h(\(Some)f(e\))0 3141 y Ff(-)32 b(o)m(v)m(erride)208
3275 y Fb(<:expr<)40 b Fh(f)p Fb(<)j($list:lse$)c(>)p
Fh(g)k Fb(>>)208 3374 y(MLast.ExOvr)c(loc)j(\(Ploc.VaVal)d(lse\))208
3574 y(<:expr<)h Fh(f)p Fb(<)j($)p 734 3574 V 31 w(list:lse$)d(>)p
Fh(g)i Fb(>>)208 3673 y(MLast.ExOvr)d(loc)j(lse)0 3858
y Ff(-)32 b(record)208 3992 y Fb(<:expr<)40 b Fh(f)j
Fb($list:lpe$)d Fh(g)j Fb(>>)208 4092 y(MLast.ExRec)c(loc)j
(\(Ploc.VaVal)d(lpe\))j(None)208 4291 y(<:expr<)e Fh(f)j
Fb($)p 690 4291 V 31 w(list:lpe$)d Fh(g)j Fb(>>)208 4391
y(MLast.ExRec)c(loc)j(lpe)g(None)208 4590 y(<:expr<)e
Fh(f)j Fb(\($e$\))f(with)g($list:lpe$)d Fh(g)k Fb(>>)208
4690 y(MLast.ExRec)c(loc)j(\(Ploc.VaVal)d(lpe\))j(\(Some)f(e\))208
4889 y(<:expr<)f Fh(f)j Fb(\($e$\))f(with)g($)p 1170
4889 V 31 w(list:lpe$)e Fh(g)j Fb(>>)208 4989 y(MLast.ExRec)c(loc)j
(lpe)g(\(Some)g(e\))0 5173 y Ff(-)32 b(sequence)208 5308
y Fb(<:expr<)40 b(do)j Fh(f)g Fb($list:le$)d Fh(g)j Fb(>>)208
5407 y(MLast.ExSeq)c(loc)j(\(Ploc.VaVal)d(le\))1888 5656
y Fi(109)p eop end
%%Page: 110 112
TeXDict begin 110 111 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 208 490 a Fb(<:expr<)40 b(do)j Fh(f)g Fb($)p
821 490 27 4 v 31 w(list:le$)d Fh(g)j Fb(>>)208 589 y(MLast.ExSeq)c
(loc)j(le)0 741 y Ff(-)32 b(send)208 868 y Fb(<:expr<)40
b($e$)j(#)g($lid:s$)d(>>)208 968 y(MLast.ExSnd)f(loc)j(e)h
(\(Ploc.VaVal)c(s\))208 1167 y(<:expr<)h($e$)j(#)g($)p
867 1167 V 31 w(lid:s$)e(>>)208 1266 y(MLast.ExSnd)e(loc)j(e)h(s)0
1418 y Ff(-)32 b(string)f(elemen)m(t)208 1545 y Fb(<:expr<)40
b($e1$)i(.[)h($e2$)f(])h(>>)208 1644 y(MLast.ExSte)c(loc)j(e1)h(e2)0
1796 y Ff(-)32 b(string)208 1923 y Fb(<:expr<)40 b($str:s$)h(>>)208
2023 y(MLast.ExStr)e(loc)j(\(Ploc.VaVal)d(s\))208 2222
y(<:expr<)h($)p 605 2222 V 31 w(str:s$)h(>>)208 2321
y(MLast.ExStr)e(loc)j(s)0 2473 y Ff(-)32 b(try)208 2600
y Fb(<:expr<)40 b(try)j($e$)f(with)g([)h($list:lpwe$)c(])k(>>)208
2699 y(MLast.ExTry)c(loc)j(e)h(\(Ploc.VaVal)c(lpwe\))208
2899 y(<:expr<)h(try)j($e$)f(with)g([)h($)p 1259 2899
V 31 w(list:lpwe$)c(])44 b(>>)208 2998 y(MLast.ExTry)39
b(loc)j(e)h(lpwe)0 3150 y Ff(-)32 b(tuple)208 3277 y
Fb(<:expr<)40 b(\($list:le$\))f(>>)208 3376 y(MLast.ExTup)g(loc)j
(\(Ploc.VaVal)d(le\))208 3576 y(<:expr<)h(\($)p 649 3576
V 31 w(list:le$\))g(>>)208 3675 y(MLast.ExTup)f(loc)j(le)0
3827 y Ff(-)32 b(t)m(yp)s(e)g(constrain)m(t)208 3954
y Fb(<:expr<)40 b(\($e$)i(:)87 b($t$\))42 b(>>)208 4053
y(MLast.ExTyc)d(loc)j(e)h(t)0 4205 y Ff(-)32 b(upp)s(ercase)g(iden)m
(ti\014er)208 4332 y Fb(<:expr<)40 b($uid:s$)h(>>)208
4431 y(MLast.ExUid)e(loc)j(\(Ploc.VaVal)d(s\))208 4631
y(<:expr<)h($)p 605 4631 V 31 w(uid:s$)h(>>)208 4730
y(MLast.ExUid)e(loc)j(s)0 4882 y Ff(-)32 b(v)-5 b(arian)m(t)208
5009 y Fb(<:expr<)40 b(`$s$)i(>>)208 5108 y(MLast.ExVrn)d(loc)j
(\(Ploc.VaVal)d(s\))208 5308 y(<:expr<)h(`$)p 649 5308
V 31 w(:s$)i(>>)208 5407 y(MLast.ExVrn)d(loc)j(s)1888
5656 y Fi(110)p eop end
%%Page: 111 113
TeXDict begin 111 112 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(while)e(lo)s(op)208 531 y
Fb(<:expr<)40 b(while)i($e$)g(do)h Fh(f)g Fb($list:le$)d
Fh(g)j Fb(>>)208 630 y(MLast.ExWhi)c(loc)j(e)h(\(Ploc.VaVal)c(le\))208
830 y(<:expr<)h(while)i($e$)g(do)h Fh(f)g Fb($)p 1257
830 27 4 v 31 w(list:le$)d Fh(g)j Fb(>>)208 929 y(MLast.ExWhi)c(loc)j
(e)h(le)0 1124 y Ff(-)32 b(extra)g(no)s(de)g(\(2\))208
1264 y Fb(...)85 b(no)43 b(representation)38 b(...)208
1364 y(MLast.ExXtr)h(loc)j(s)h(oe)0 1562 y Fi(\(1\))31
b(No)r(de)f(used)h(in)g(the)f(quotation)g(expanders)g(to)g(tells)h(at)f
(con)n(v)n(ersion)e(to)j(OCaml)e(compiler)h(syn)n(tax)g(tree)g(time,)i
(that)0 1662 y(all)c(lo)r(cations)g(of)h(the)g(sub-tree)f(is)h(correct)
n(y)d(lo)r(cated)j(in)g(the)g(quotation.)39 b(By)29 b(default,)g(in)g
(quotations,)f(the)h(lo)r(cations)f(of)0 1762 y(all)g(generated)f(no)r
(des)i(are)e(the)i(lo)r(cation)f(of)g(the)h(whole)f(quotation.)38
b(This)29 b(no)r(de)f(allo)n(ws)f(to)i(mak)n(e)e(an)h(exception)g(to)h
(this)0 1861 y(rule,)c(since)f(w)n(e)f(kno)n(w)h(that)g(the)h(an)n
(tiquotation)e(b)r(elongs)g(to)h(the)h(univ)n(erse)e(of)h(the)g
(enclosing)g(program.)33 b(See)24 b(the)h(c)n(hapter)0
1961 y(ab)r(out)j(quotations)e(and,)i(in)g(particular,)e(its)i(section)
f(ab)r(out)g(an)n(tiquotations.)0 2064 y(\(2\))h(Extra)e(no)r(de)i(in)n
(ternally)f(used)g(b)n(y)g(the)h(quotation)f(kit)h(")p
Fb(q)p 1984 2064 V 31 w(ast.cmo)p Fi(")c(to)j(build)i(an)n
(tiquotations)d(of)h(expressions.)0 2317 y Fe(15.5.2)113
b(patt)0 2478 y Fi(P)n(atterns)26 b(of)i(the)g(language.)0
2676 y Ff(-)k(access)208 2817 y Fb(<:patt<)40 b($p1$)i(.)87
b($p2$)42 b(>>)208 2917 y(MLast.PaAcc)d(loc)j(p1)h(p2)0
3111 y Ff(-)32 b(alias)208 3252 y Fb(<:patt<)40 b(\($p1$)i(as)h($p2$\))
e(>>)208 3351 y(MLast.PaAli)e(loc)j(p1)h(p2)0 3546 y
Ff(-)32 b(an)m(tiquotation)g(\(1\))208 3686 y Fb(<:patt<)40
b($anti:p$)h(>>)208 3786 y(MLast.PaAnt)e(loc)j(p)0 3980
y Ff(-)32 b(an)m(y)208 4121 y Fb(<:patt<)p 561 4121 V
115 w(>>)208 4221 y(MLast.PaAny)39 b(loc)0 4415 y Ff(-)32
b(application)208 4556 y Fb(<:patt<)40 b($p1$)i($p2$)g(>>)208
4655 y(MLast.PaApp)d(loc)j(p1)h(p2)0 4850 y Ff(-)32 b(arra)m(y)208
4990 y Fb(<:patt<)40 b([|)j($list:lp$)d(|])j(>>)208 5090
y(MLast.PaArr)c(loc)j(\(Ploc.VaVal)d(lp\))208 5289 y(<:patt<)h([|)j($)p
736 5289 V 31 w(list:lp$)d(|])j(>>)208 5389 y(MLast.PaArr)c(loc)j(lp)
1888 5656 y Fi(111)p eop end
%%Page: 112 114
TeXDict begin 112 113 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(c)m(haracter)208 523 y Fb(<:patt<)40
b($chr:s$)h(>>)208 623 y(MLast.PaChr)e(loc)j(\(Ploc.VaVal)d(s\))208
822 y(<:patt<)h($)p 605 822 27 4 v 31 w(chr:s$)h(>>)208
922 y(MLast.PaChr)e(loc)j(s)0 1105 y Ff(-)32 b(in)m(teger)f(constan)m
(t)208 1238 y Fb(<:patt<)40 b($int:s$)h(>>)208 1337 y(MLast.PaInt)e
(loc)j(\(Ploc.VaVal)d(s\))k("")208 1536 y(<:patt<)d($)p
605 1536 V 31 w(int:s$)h(>>)208 1636 y(MLast.PaInt)e(loc)j(s)h("")0
1819 y Ff(-)32 b(in)m(teger)f(32)g(bits)208 1952 y Fb(<:patt<)40
b($int32:s$)g(>>)208 2052 y(MLast.PaInt)f(loc)j(\(Ploc.VaVal)d(s\))k
("l")208 2251 y(<:patt<)d($)p 605 2251 V 31 w(int32:s$)g(>>)208
2350 y(MLast.PaInt)f(loc)j(s)h("l")0 2533 y Ff(-)32 b(in)m(teger)f(64)g
(bits)208 2666 y Fb(<:patt<)40 b($int64:s$)g(>>)208 2766
y(MLast.PaInt)f(loc)j(\(Ploc.VaVal)d(s\))k("L")208 2965
y(<:patt<)d($)p 605 2965 V 31 w(int:s$)h(>>)208 3065
y(MLast.PaInt)e(loc)j(s)h("L")0 3248 y Ff(-)32 b(nativ)m(e)g(in)m
(teger)208 3381 y Fb(<:patt<)40 b($nativeint:s$)e(>>)208
3480 y(MLast.PaInt)h(loc)j(\(Ploc.VaVal)d(s\))k("n")208
3680 y(<:patt<)d($)p 605 3680 V 31 w(nativeint:s$)f(>>)208
3779 y(MLast.PaInt)g(loc)j(s)h("n")0 3962 y Ff(-)32 b(\015oat)208
4095 y Fb(<:patt<)40 b($flo:s$)h(>>)208 4195 y(MLast.PaFlo)e(loc)j
(\(Ploc.VaVal)d(s\))208 4394 y(<:patt<)h($)p 605 4394
V 31 w(flo:s$)h(>>)208 4494 y(MLast.PaFlo)e(loc)j(s)0
4676 y Ff(-)32 b(lab)s(el)208 4809 y Fb(<:patt<)40 b(~$s$)i(>>)208
4909 y(MLast.PaLab)d(loc)j(\(Ploc.VaVal)d(s\))k(None)208
5108 y(<:patt<)d(~$)p 649 5108 V 31 w(:s$)i(>>)208 5208
y(MLast.PaLab)d(loc)j(s)h(None)208 5407 y(<:patt<)d(~$s$:)85
b($p$)43 b(>>)1888 5656 y Fi(112)p eop end
%%Page: 113 115
TeXDict begin 113 114 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 208 390 a Fb(MLast.PaLab)39 b(loc)j(\(Ploc.VaVal)d(s\))k
(\(Some)e(p\))208 589 y(<:patt<)f(~$)p 649 589 27 4 v
31 w(s$:)86 b($p$)42 b(>>)208 689 y(MLast.PaLab)d(loc)j(s)h(\(Some)f
(p\))0 975 y Ff(-)32 b(lo)m(w)m(ercase)g(iden)m(ti\014er)208
1110 y Fb(<:patt<)40 b($lid:s$)h(>>)208 1210 y(MLast.PaLid)e(loc)j
(\(Ploc.VaVal)d(s\))208 1409 y(<:patt<)h($)p 605 1409
V 31 w(lid:s$)h(>>)208 1509 y(MLast.PaLid)e(loc)j(s)0
1695 y Ff(-)32 b(optional)f(lab)s(el)208 1830 y Fb(<:patt<)40
b(?$s$)i(>>)208 1930 y(MLast.PaOlb)d(loc)j(\(Ploc.VaVal)d(s\))k(None)
208 2129 y(<:patt<)d(?$)p 649 2129 V 31 w(:s$)i(>>)208
2229 y(MLast.PaOlb)d(loc)j(s)h(None)208 2428 y(<:patt<)d(?$s$:)85
b(\($p$\))42 b(>>)208 2527 y(MLast.PaOlb)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Some)e(\(p,)i(Ploc.VaVal)c(None\)\))208 2727 y(<:patt<)h(?$)p
649 2727 V 31 w(:s$:)85 b(\($p$\))42 b(>>)208 2826 y(MLast.PaOlb)d(loc)
j(s)h(\(Some)f(\(p,)g(Ploc.VaVal)d(None\)\))208 3026
y(<:patt<)h(?$s$:)85 b(\($p$)42 b(=)h($e$\))f(>>)208
3125 y(MLast.PaOlb)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Some)e(\(p,)i
(Ploc.VaVal)c(\(Some)j(e\)\)\))208 3324 y(<:patt<)e(?$)p
649 3324 V 31 w(:s$:)85 b(\($p$)42 b(=)h($e$\))f(>>)208
3424 y(MLast.PaOlb)d(loc)j(s)h(\(Some)f(\(p,)g(Ploc.VaVal)d(\(Some)j
(e\)\)\))0 3610 y Ff(-)32 b(or)208 3746 y Fb(<:patt<)40
b($p1$)i(|)h($p2$)f(>>)208 3845 y(MLast.PaOrp)d(loc)j(p1)h(p2)0
4031 y Ff(-)32 b(range)208 4167 y Fb(<:patt<)40 b($p1$)i(..)87
b($p2$)41 b(>>)208 4266 y(MLast.PaRng)e(loc)j(p1)h(p2)0
4452 y Ff(-)32 b(record)208 4588 y Fb(<:patt<)40 b Fh(f)j
Fb($list:lpp$)d Fh(g)j Fb(>>)208 4687 y(MLast.PaRec)c(loc)j
(\(Ploc.VaVal)d(lpp\))208 4887 y(<:patt<)h Fh(f)j Fb($)p
690 4887 V 31 w(list:lpp$)d Fh(g)j Fb(>>)208 4986 y(MLast.PaRec)c(loc)j
(lpp)0 5172 y Ff(-)32 b(string)208 5308 y Fb(<:patt<)40
b($str:s$)h(>>)208 5407 y(MLast.PaStr)e(loc)j(\(Ploc.VaVal)d(s\))1888
5656 y Fi(113)p eop end
%%Page: 114 116
TeXDict begin 114 115 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 208 490 a Fb(<:patt<)40 b($)p 605 490 27 4 v
31 w(str:s$)h(>>)208 589 y(MLast.PaStr)e(loc)j(s)0 774
y Ff(-)32 b(tuple)208 908 y Fb(<:patt<)40 b(\($list:lp$\))f(>>)208
1008 y(MLast.PaTup)g(loc)j(\(Ploc.VaVal)d(lp\))208 1207
y(<:patt<)h(\($)p 649 1207 V 31 w(list:lp$\))g(>>)208
1307 y(MLast.PaTup)f(loc)j(lp)0 1491 y Ff(-)32 b(t)m(yp)s(e)g
(constrain)m(t)208 1625 y Fb(<:patt<)40 b(\($p$)i(:)87
b($t$\))42 b(>>)208 1725 y(MLast.PaTyc)d(loc)j(p)h(t)0
1909 y Ff(-)32 b(t)m(yp)s(e)g(pattern)208 2043 y Fb(<:patt<)40
b(#)j($list:ls$)d(>>)208 2143 y(MLast.PaTyp)f(loc)j(\(Ploc.VaVal)d
(ls\))208 2342 y(<:patt<)h(#)j($)p 692 2342 V 31 w(list:ls$)e(>>)208
2442 y(MLast.PaTyp)e(loc)j(ls)0 2626 y Ff(-)32 b(upp)s(ercase)g(iden)m
(ti\014er)208 2761 y Fb(<:patt<)40 b($uid:s$)h(>>)208
2860 y(MLast.PaUid)e(loc)j(\(Ploc.VaVal)d(s\))208 3059
y(<:patt<)h($)p 605 3059 V 31 w(uid:s$)h(>>)208 3159
y(MLast.PaUid)e(loc)j(s)0 3344 y Ff(-)32 b(v)-5 b(arian)m(t)208
3478 y Fb(<:patt<)40 b(`)j($s$)g(>>)208 3577 y(MLast.PaVrn)c(loc)j
(\(Ploc.VaVal)d(s\))208 3777 y(<:patt<)h(`)j($)p 692
3777 V 31 w(:s$)g(>>)208 3876 y(MLast.PaVrn)c(loc)j(s)0
4061 y Ff(-)32 b(extra)g(no)s(de)g(\(2\))208 4195 y Fb(...)85
b(no)43 b(representation)38 b(...)208 4294 y(MLast.PaXtr)h(loc)j(s)h
(op)0 4480 y Fi(\(1\))28 b(No)r(de)g(used)f(to)h(sp)r(ecify)f(an)h(an)n
(tiquotation)e(area,)h(lik)n(e)g(for)g(the)h(equiv)-5
b(alen)n(t)27 b(no)r(de)h(in)g(expressions.)35 b(See)27
b(ab)r(o)n(v)n(e.)0 4580 y(\(2\))h(Extra)e(no)r(de)i(in)n(ternally)f
(used)g(b)n(y)g(the)h(quotation)f(kit)h(")p Fb(q)p 1984
4580 V 31 w(ast.cmo)p Fi(")c(to)j(build)i(an)n(tiquotations)d(of)h
(patterns.)0 4815 y Fe(15.5.3)113 b(ct)m(yp)0 4970 y
Fi(T)n(yp)r(e)27 b(expressions)f(of)i(the)g(language.)0
5155 y Ff(-)k(access)208 5289 y Fb(<:ctyp<)40 b($t1$)i(.)87
b($t2$)42 b(>>)208 5389 y(MLast.TyAcc)d(loc)j(t1)h(t2)1888
5656 y Fi(114)p eop end
%%Page: 115 117
TeXDict begin 115 116 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(alias)208 522 y Fb(<:ctyp<)40
b($t1$)i(as)h($t2$)f(>>)208 622 y(MLast.TyAli)d(loc)j(t1)h(t2)0
802 y Ff(-)32 b(an)m(y)208 934 y Fb(<:ctyp<)p 561 934
27 4 v 115 w(>>)208 1033 y(MLast.TyAny)39 b(loc)0 1213
y Ff(-)32 b(application)208 1345 y Fb(<:ctyp<)40 b($t1$)i($t2$)g(>>)208
1445 y(MLast.TyApp)d(loc)j(t1)h(t2)0 1624 y Ff(-)32 b(arro)m(w)208
1756 y Fb(<:ctyp<)40 b($t1$)i(->)h($t2$)f(>>)208 1856
y(MLast.TyArr)d(loc)j(t1)h(t2)0 2036 y Ff(-)32 b(class)208
2168 y Fb(<:ctyp<)40 b(#)j($list:ls$)d(>>)208 2267 y(MLast.TyCls)f(loc)
j(\(Ploc.VaVal)d(ls\))208 2467 y(<:ctyp<)h(#)j($)p 692
2467 V 31 w(list:ls$)e(>>)208 2566 y(MLast.TyCls)e(loc)j(ls)0
2746 y Ff(-)32 b(lab)s(el)208 2878 y Fb(<:ctyp<)40 b(~$s$:)85
b($t$)43 b(>>)208 2978 y(MLast.TyLab)c(loc)j(\(Ploc.VaVal)d(s\))k(t)208
3177 y(<:ctyp<)d(~$)p 649 3177 V 31 w(:s$:)85 b($t$)43
b(>>)208 3277 y(MLast.TyLab)c(loc)j(s)h(t)0 3456 y Ff(-)32
b(lo)m(w)m(ercase)g(iden)m(ti\014er)208 3588 y Fb(<:ctyp<)40
b($lid:s$)h(>>)208 3688 y(MLast.TyLid)e(loc)j(\(Ploc.VaVal)d(s\))208
3887 y(<:ctyp<)h($)p 605 3887 V 31 w(lid:s$)h(>>)208
3987 y(MLast.TyLid)e(loc)j(s)0 4166 y Ff(-)32 b(manifest)208
4298 y Fb(<:ctyp<)40 b($t1$)i(==)h($t2$)f(>>)208 4398
y(MLast.TyMan)d(loc)j(t1)h(t2)0 4578 y Ff(-)32 b(ob)5
b(ject)208 4710 y Fb(<:ctyp<)40 b(<)j($list:lst$)d(>)j(>>)208
4809 y(MLast.TyObj)c(loc)j(\(Ploc.VaVal)d(lst\))j(\(Ploc.VaVal)d
(False\))208 5009 y(<:ctyp<)h(<)j($)p 692 5009 V 31 w(list:lst$)d(>)j
(>>)208 5108 y(MLast.TyObj)c(loc)j(lst)g(\(Ploc.VaVal)d(False\))208
5308 y(<:ctyp<)h(<)j($list:lst$)d(..)86 b(>)43 b(>>)208
5407 y(MLast.TyObj)c(loc)j(\(Ploc.VaVal)d(lst\))j(\(Ploc.VaVal)d
(True\))1888 5656 y Fi(115)p eop end
%%Page: 116 118
TeXDict begin 116 117 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 208 490 a Fb(<:ctyp<)40 b(<)j($)p 692 490 27
4 v 31 w(list:lst$)d(..)87 b(>)43 b(>>)208 589 y(MLast.TyObj)c(loc)j
(lst)g(\(Ploc.VaVal)d(True\))208 789 y(<:ctyp<)h(<)j($list:lst$)d
($flag:b$)g(>)j(>>)208 888 y(MLast.TyObj)c(loc)j(\(Ploc.VaVal)d(lst\))j
(\(Ploc.VaVal)d(b\))208 1088 y(<:ctyp<)h(<)j($)p 692
1088 V 31 w(list:lst$)d($)p 1203 1088 V 31 w(flag:b$)h(>)i(>>)208
1187 y(MLast.TyObj)c(loc)j(lst)g(b)0 1361 y Ff(-)32 b(optional)f(lab)s
(el)208 1492 y Fb(<:ctyp<)40 b(?$s$:)85 b($t$)43 b(>>)208
1592 y(MLast.TyOlb)c(loc)j(\(Ploc.VaVal)d(s\))k(t)208
1791 y(<:ctyp<)d(?$)p 649 1791 V 31 w(:s$:)85 b($t$)43
b(>>)208 1891 y(MLast.TyOlb)c(loc)j(s)h(t)0 2064 y Ff(-)32
b(p)s(olymorph)208 2195 y Fb(<:ctyp<)40 b(!)87 b($list:ls$)40
b(.)87 b($t$)42 b(>>)208 2295 y(MLast.TyPol)d(loc)j(\(Ploc.VaVal)d
(ls\))j(t)208 2494 y(<:ctyp<)e(!)87 b($)p 736 2494 V
31 w(list:ls$)40 b(.)87 b($t$)42 b(>>)208 2594 y(MLast.TyPol)d(loc)j
(ls)h(t)0 2768 y Ff(-)32 b(v)-5 b(ariable)208 2899 y
Fb(<:ctyp<)40 b(')j($s$)g(>>)208 2998 y(MLast.TyQuo)c(loc)j
(\(Ploc.VaVal)d(s\))208 3198 y(<:ctyp<)h(')j($)p 692
3198 V 31 w(:s$)g(>>)208 3297 y(MLast.TyQuo)c(loc)j(s)0
3471 y Ff(-)32 b(record)208 3602 y Fb(<:ctyp<)40 b Fh(f)j
Fb($list:llsbt$)c Fh(g)k Fb(>>)208 3702 y(MLast.TyRec)c(loc)j
(\(Ploc.VaVal)d(llsbt\))208 3901 y(<:ctyp<)h Fh(f)j Fb($)p
690 3901 V 31 w(list:llsbt$)c Fh(g)k Fb(>>)208 4001 y(MLast.TyRec)c
(loc)j(llsbt)0 4174 y Ff(-)32 b(sum)208 4305 y Fb(<:ctyp<)40
b([)j($list:llslt$)c(])k(>>)208 4405 y(MLast.TySum)c(loc)j
(\(Ploc.VaVal)d(llslt\))208 4604 y(<:ctyp<)h([)j($)p
692 4604 V 31 w(list:llslt$)c(])44 b(>>)208 4704 y(MLast.TySum)39
b(loc)j(llslt)0 4878 y Ff(-)32 b(tuple)208 5009 y Fb(<:ctyp<)40
b(\()j($list:lt$)d(\))j(>>)208 5108 y(MLast.TyTup)c(loc)j(\(Ploc.VaVal)
d(lt\))208 5308 y(<:ctyp<)h(\()j($)p 692 5308 V 31 w(list:lt$)e(\))i
(>>)208 5407 y(MLast.TyTup)c(loc)j(lt)1888 5656 y Fi(116)p
eop end
%%Page: 117 119
TeXDict begin 117 118 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(upp)s(ercase)g(iden)m(ti\014er)208
531 y Fb(<:ctyp<)40 b($uid:s$)h(>>)208 631 y(MLast.TyUid)e(loc)j
(\(Ploc.VaVal)d(s\))208 830 y(<:ctyp<)h($)p 605 830 27
4 v 31 w(uid:s$)h(>>)208 930 y(MLast.TyUid)e(loc)j(s)0
1125 y Ff(-)32 b(v)-5 b(arian)m(t)208 1266 y Fb(<:ctyp<)40
b([)j(=)h($list:lpv$)39 b(])k(>>)208 1365 y(MLast.TyVrn)c(loc)j
(\(Ploc.VaVal)d(lpv\))j(None)208 1565 y(<:ctyp<)e([)j(=)h($)p
780 1565 V 31 w(list:lpv$)39 b(])44 b(>>)208 1664 y(MLast.TyVrn)39
b(loc)j(lpv)g(None)208 1864 y(<:ctyp<)e([)j(>)h($list:lpv$)39
b(])k(>>)208 1963 y(MLast.TyVrn)c(loc)j(\(Ploc.VaVal)d(lpv\))j(\(Some)f
(None\))208 2162 y(<:ctyp<)f([)j(>)h($)p 780 2162 V 31
w(list:lpv$)39 b(])44 b(>>)208 2262 y(MLast.TyVrn)39
b(loc)j(lpv)g(\(Some)g(None\))208 2461 y(<:ctyp<)e([)j(<)h($list:lpv$)
39 b(])k(>>)208 2561 y(MLast.TyVrn)c(loc)j(\(Ploc.VaVal)d(lpv\))j
(\(Some\(Some)d(\(Ploc.VaVal)g([]\)\)\))208 2760 y(<:ctyp<)h([)j(<)h($)
p 780 2760 V 31 w(list:lpv$)39 b(])44 b(>>)208 2860 y(MLast.TyVrn)39
b(loc)j(lpv)g(\(Some)g(\(Some)f(\(Ploc.VaVal)e([]\)\)\))208
3059 y(<:ctyp<)h([)j(<)h($list:lpv$)39 b(>)k($list:ls$)d(])j(>>)208
3159 y(MLast.TyVrn)c(loc)j(\(Ploc.VaVal)d(lpv\))j(\(Some)f(\(Some)h
(\(Ploc.VaVal)d(ls\)\)\))208 3358 y(<:ctyp<)h([)j(<)h($)p
780 3358 V 31 w(list:lpv$)39 b(>)44 b($)p 1378 3358 V
31 w(list:ls$)c(])j(>>)208 3458 y(MLast.TyVrn)c(loc)j(lpv)g(\(Some)g
(\(Some)f(ls\)\))0 3653 y Ff(-)32 b(extra)g(no)s(de)g(\(1\))208
3794 y Fb(...)85 b(no)43 b(representation)38 b(...)208
3893 y(MLast.TyXtr)h(loc)j(s)h(ot)0 4092 y Fi(\(1\))28
b(Extra)e(no)r(de)i(in)n(ternally)f(used)g(b)n(y)g(the)h(quotation)f
(kit)h(")p Fb(q)p 1984 4092 V 31 w(ast.cmo)p Fi(")c(to)j(build)i(an)n
(tiquotations)d(of)h(t)n(yp)r(es.)0 4347 y Fe(15.5.4)113
b(mo)s(dules...)0 4508 y Ff(str)p 120 4508 29 4 v 34
w(item)0 4668 y Fi(Structure)27 b(items,)h(i.e.)37 b(phrases)27
b(in)h(a)f(".ml")g(\014le)g(or)g("struct"s)g(elemen)n(ts.)0
4868 y Ff(-)32 b(class)f(declaration)208 5009 y Fb(<:str)p
433 5009 27 4 v 29 w(item<)41 b(class)h($list:lcd$)d(>>)208
5108 y(MLast.StCls)g(loc)j(\(Ploc.VaVal)d(lcd\))208 5308
y(<:str)p 433 5308 V 29 w(item<)i(class)h($)p 1029 5308
V 31 w(list:lcd$)e(>>)208 5407 y(MLast.StCls)f(loc)j(lcd)1888
5656 y Fi(117)p eop end
%%Page: 118 120
TeXDict begin 118 119 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(class)f(t)m(yp)s(e)h(declaration)208
534 y Fb(<:str)p 433 534 27 4 v 29 w(item<)41 b(class)h(type)g
($list:lctd$)d(>>)208 633 y(MLast.StClt)g(loc)j(\(Ploc.VaVal)d(lctd\))
208 833 y(<:str)p 433 833 V 29 w(item<)i(class)h(type)g($)p
1247 833 V 31 w(list:lctd$)d(>>)208 932 y(MLast.StClt)g(loc)j(lctd)0
1131 y Ff(-)32 b(declare)208 1274 y Fb(<:str)p 433 1274
V 29 w(item<)41 b(declare)g($list:lstri$)e(end)j(>>)208
1374 y(MLast.StDcl)d(loc)j(\(Ploc.VaVal)d(lstri\))208
1573 y(<:str)p 433 1573 V 29 w(item<)i(declare)g($)p
1116 1573 V 31 w(list:lstri$)e(end)j(>>)208 1673 y(MLast.StDcl)d(loc)j
(lstri)0 1871 y Ff(-)32 b(directiv)m(e)208 2015 y Fb(<:str)p
433 2015 V 29 w(item<)41 b(#)j($s$)e(>>)208 2114 y(MLast.StDir)d(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(None\))208 2314
y(<:str)p 433 2314 V 29 w(item<)i(#)j($)p 855 2314 V
31 w(:s$)e(>>)208 2413 y(MLast.StDir)d(loc)j(s)h(\(Ploc.VaVal)c(None\))
208 2613 y(<:str)p 433 2613 V 29 w(item<)i(#)j($s$)e($e$)g(>>)208
2712 y(MLast.StDir)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(\(Some)i
(e\)\))208 2911 y(<:str)p 433 2911 V 29 w(item<)g(#)j($)p
855 2911 V 31 w(:s$)e($e$)g(>>)208 3011 y(MLast.StDir)d(loc)j(s)h
(\(Ploc.VaVal)c(\(Some)j(e\)\))208 3210 y(<:str)p 433
3210 V 29 w(item<)f(#)j($s$)e($opt:oe$)e(>>)208 3310
y(MLast.StDir)f(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(oe\))208
3509 y(<:str)p 433 3509 V 29 w(item<)i(#)j($)p 855 3509
V 31 w(:s$)e($)p 1104 3509 V 31 w(opt:oe$)f(>>)208 3609
y(MLast.StDir)e(loc)j(s)h(oe)0 3807 y Ff(-)32 b(exception)208
3951 y Fb(<:str)p 433 3951 V 29 w(item<)41 b(exception)f($s$)j(of)f
($list:lt$)e(>>)208 4050 y(MLast.StExc)f(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(lt\))j(\(Ploc.VaVal)d([]\))208 4250 y(<:str)p
433 4250 V 29 w(item<)i(exception)f($)p 1203 4250 V 31
w(:s$)j(of)f($)p 1583 4250 V 31 w(list:lt$)f(>>)208 4349
y(MLast.StExc)e(loc)j(s)h(lt)g(\(Ploc.VaVal)c([]\))208
4549 y(<:str)p 433 4549 V 29 w(item<)i(exception)f($s$)j(of)f
($list:lt$)e(=)j($list:ls$)d(>>)208 4648 y(MLast.StExc)f(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(lt\))j(\(Ploc.VaVal)d(ls\))208
4847 y(<:str)p 433 4847 V 29 w(item<)i(exception)f($)p
1203 4847 V 31 w(:s$)j(of)f($)p 1583 4847 V 31 w(list:lt$)f(=)i($)p
2138 4847 V 31 w(list:ls$)d(>>)208 4947 y(MLast.StExc)f(loc)j(s)h(lt)g
(ls)0 5146 y Ff(-)32 b(expression)208 5289 y Fb(<:str)p
433 5289 V 29 w(item<)41 b($exp:e$)g(>>)208 5389 y(MLast.StExp)e(loc)j
(e)1888 5656 y Fi(118)p eop end
%%Page: 119 121
TeXDict begin 119 120 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(external)208 527 y Fb(<:str)p
433 527 27 4 v 29 w(item<)41 b(external)g($s$)h(:)87
b($t$)42 b(=)h($list:ls$)d(>>)208 626 y(MLast.StExt)f(loc)j
(\(Ploc.VaVal)d(s\))k(t)g(\(Ploc.VaVal)c(ls\))208 826
y(<:str)p 433 826 V 29 w(item<)i(external)g($)p 1160
826 V 31 w(:s$)h(:)87 b($t$)42 b(=)h($)p 1801 826 V 31
w(list:ls$)d(>>)208 925 y(MLast.StExt)f(loc)j(s)h(t)g(ls)0
1113 y Ff(-)32 b(include)208 1250 y Fb(<:str)p 433 1250
V 29 w(item<)41 b(include)g($me$)h(>>)208 1349 y(MLast.StInc)d(loc)j
(me)0 1537 y Ff(-)32 b(mo)s(dule)208 1674 y Fb(<:str)p
433 1674 V 29 w(item<)41 b(module)g($flag:b$)g($list:lsme$)e(>>)208
1774 y(MLast.StMod)g(loc)j(\(Ploc.VaVal)d(b\))k(\(Ploc.VaVal)c(lsme\))
208 1973 y(<:str)p 433 1973 V 29 w(item<)i(module)g($)p
1072 1973 V 31 w(flag:b$)g($)p 1496 1973 V 31 w(list:lsme$)f(>>)208
2072 y(MLast.StMod)f(loc)j(b)h(lsme)0 2260 y Ff(-)32
b(mo)s(dule)e(t)m(yp)s(e)208 2397 y Fb(<:str)p 433 2397
V 29 w(item<)41 b(module)g(type)h($s$)h(=)g($mt$)f(>>)208
2497 y(MLast.StMty)d(loc)j(\(Ploc.VaVal)d(s\))k(mt)208
2696 y(<:str)p 433 2696 V 29 w(item<)e(module)g(type)h($)p
1290 2696 V 31 w(:s$)h(=)g($mt$)f(>>)208 2795 y(MLast.StMty)d(loc)j(s)h
(mt)0 2984 y Ff(-)32 b(op)s(en)208 3120 y Fb(<:str)p
433 3120 V 29 w(item<)41 b(open)h($list:ls$)e(>>)208
3220 y(MLast.StOpn)f(loc)j(\(Ploc.VaVal)d(ls\))208 3419
y(<:str)p 433 3419 V 29 w(item<)i(open)h($)p 985 3419
V 31 w(list:ls$)f(>>)208 3518 y(MLast.StOpn)e(loc)j(ls)0
3707 y Ff(-)32 b(t)m(yp)s(e)g(declaration)208 3843 y
Fb(<:str)p 433 3843 V 29 w(item<)41 b(type)h($list:ltd$)e(>>)208
3943 y(MLast.StTyp)f(loc)j(\(Ploc.VaVal)d(ltd\))208 4142
y(<:str)p 433 4142 V 29 w(item<)i(type)h($)p 985 4142
V 31 w(list:ltd$)e(>>)208 4242 y(MLast.StTyp)f(loc)j(ltd)0
4430 y Ff(-)32 b(use)f(\(1\))208 4566 y Fb(<:str)p 433
4566 V 29 w(item<)41 b(...internal)e(use...)85 b(>>)208
4666 y(MLast.StUse)39 b(loc)j(s)h(lstrib)0 4854 y Ff(-)32
b(v)-5 b(alue)208 4990 y Fb(<:str)p 433 4990 V 29 w(item<)41
b(value)h($flag:b$)e($list:lpe$)g(>>)208 5090 y(MLast.StVal)f(loc)j
(\(Ploc.VaVal)d(b\))k(\(Ploc.VaVal)c(lpe\))208 5289 y(<:str)p
433 5289 V 29 w(item<)i(value)h($)p 1029 5289 V 31 w(flag:b$)f($)p
1453 5289 V 31 w(list:lpe$)e(>>)208 5389 y(MLast.StVal)g(loc)j(b)h(lpe)
1888 5656 y Fi(119)p eop end
%%Page: 120 122
TeXDict begin 120 121 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(extra)g(no)s(de)g(\(2\))208 519
y Fb(...)85 b(no)43 b(representation)38 b(...)208 619
y(MLast.StXtr)h(loc)j(s)h(ot)0 782 y Fi(\(1\))33 b(No)r(de)f(in)n
(ternally)g(used)g(to)h(sp)r(ecify)f(a)g(di\013eren)n(t)h(\014le)f
(name)h(applying)e(to)i(the)f(whole)h(subtree.)51 b(This)32
b(is)g(generated)0 882 y(b)n(y)27 b(the)h(directiv)n(e)f("use")f(and)h
(used)h(when)f(con)n(v)n(erting)f(to)h(the)h(OCaml)f(syn)n(tax)g(tree)g
(whic)n(h)g(needs)g(the)h(\014le)g(name)f(in)h(its)0
982 y(lo)r(cation)f(t)n(yp)r(e.)0 1081 y(\(2\))g(Extra)e(no)r(de)i(in)n
(ternally)f(used)g(b)n(y)h(the)g(quotation)e(kit)i(")p
Fb(q)p 1975 1081 27 4 v 31 w(ast.cmo)p Fi(")c(to)k(build)g(an)n
(tiquotations)e(of)i(structure)f(items.)0 1294 y Ff(sig)p
119 1294 29 4 v 33 w(item)0 1447 y Fi(Signature)h(items,)h(i.e.)37
b(phrases)26 b(in)i(a)f(".mli")g(\014le)h(or)f("sig"s)e(elemen)n(ts.)0
1611 y Ff(-)32 b(class)208 1740 y Fb(<:sig)p 433 1740
27 4 v 29 w(item<)41 b(class)h($list:lcd$)d(>>)208 1839
y(MLast.SgCls)g(loc)j(\(Ploc.VaVal)d(lcd\))208 2039 y(<:sig)p
433 2039 V 29 w(item<)i(class)h($)p 1029 2039 V 31 w(list:lcd$)e(>>)208
2138 y(MLast.SgCls)f(loc)j(lcd)0 2302 y Ff(-)32 b(class)f(t)m(yp)s(e)
208 2431 y Fb(<:sig)p 433 2431 V 29 w(item<)41 b(class)h(type)g
($list:lct$)d(>>)208 2531 y(MLast.SgClt)g(loc)j(\(Ploc.VaVal)d(lct\))
208 2730 y(<:sig)p 433 2730 V 29 w(item<)i(class)h(type)g($)p
1247 2730 V 31 w(list:lct$)e(>>)208 2829 y(MLast.SgClt)f(loc)j(lct)0
2993 y Ff(-)32 b(declare)208 3122 y Fb(<:sig)p 433 3122
V 29 w(item<)41 b(declare)g($list:lsigi$)e(end)j(>>)208
3222 y(MLast.SgDcl)d(loc)j(\(Ploc.VaVal)d(lsigi\))208
3421 y(<:sig)p 433 3421 V 29 w(item<)i(declare)g($)p
1116 3421 V 31 w(list:lsigi$)e(end)j(>>)208 3521 y(MLast.SgDcl)d(loc)j
(lsigi)0 3684 y Ff(-)32 b(directiv)m(e)208 3813 y Fb(<:sig)p
433 3813 V 29 w(item<)41 b(#)j($s$)e(>>)208 3913 y(MLast.SgDir)d(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(None\))208 4112
y(<:sig)p 433 4112 V 29 w(item<)i(#)j($)p 855 4112 V
31 w(:s$)e(>>)208 4212 y(MLast.SgDir)d(loc)j(s)h(\(Ploc.VaVal)c(None\))
208 4411 y(<:sig)p 433 4411 V 29 w(item<)i(#)j($s$)e($e$)g(>>)208
4511 y(MLast.SgDir)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(\(Some)i
(e\)\))208 4710 y(<:sig)p 433 4710 V 29 w(item<)g(#)j($)p
855 4710 V 31 w(:s$)e($e$)g(>>)208 4809 y(MLast.SgDir)d(loc)j(s)h
(\(Ploc.VaVal)c(\(Some)j(e\)\))208 5009 y(<:sig)p 433
5009 V 29 w(item<)f(#)j($s$)e($opt:oe$)e(>>)208 5108
y(MLast.SgDir)f(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(oe\))208
5308 y(<:sig)p 433 5308 V 29 w(item<)i(#)j($)p 855 5308
V 31 w(:s$)e($)p 1104 5308 V 31 w(opt:oe$)f(>>)208 5407
y(MLast.SgDir)e(loc)j(s)h(oe)1888 5656 y Fi(120)p eop
end
%%Page: 121 123
TeXDict begin 121 122 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(exception)208 520 y Fb(<:sig)p
433 520 27 4 v 29 w(item<)41 b(exception)f($s$)j(>>)208
620 y(MLast.SgExc)c(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c([]\))208
819 y(<:sig)p 433 819 V 29 w(item<)i(exception)f($)p
1203 819 V 31 w(:s$)j(>>)208 919 y(MLast.SgExc)c(loc)j(s)h
(\(Ploc.VaVal)c([]\))208 1118 y(<:sig)p 433 1118 V 29
w(item<)i(exception)f($s$)j(of)f($list:lt$)e(>>)208 1218
y(MLast.SgExc)f(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(lt\))208
1417 y(<:sig)p 433 1417 V 29 w(item<)i(exception)f($)p
1203 1417 V 31 w(:s$)j(of)f($)p 1583 1417 V 31 w(list:lt$)f(>>)208
1517 y(MLast.SgExc)e(loc)j(s)h(lt)0 1686 y Ff(-)32 b(external)208
1816 y Fb(<:sig)p 433 1816 V 29 w(item<)41 b(external)g($s$)h(:)87
b($t$)42 b(=)h($list:ls$)d(>>)208 1916 y(MLast.SgExt)f(loc)j
(\(Ploc.VaVal)d(s\))k(t)g(\(Ploc.VaVal)c(ls\))208 2115
y(<:sig)p 433 2115 V 29 w(item<)i(external)g($)p 1160
2115 V 31 w(:s$)h(:)87 b($t$)42 b(=)h($)p 1801 2115 V
31 w(list:ls$)d(>>)208 2215 y(MLast.SgExt)f(loc)j(s)h(t)g(ls)0
2384 y Ff(-)32 b(include)208 2515 y Fb(<:sig)p 433 2515
V 29 w(item<)41 b(include)g($me$)h(>>)208 2614 y(MLast.SgInc)d(loc)j
(me)0 2784 y Ff(-)32 b(mo)s(dule)208 2914 y Fb(<:sig)p
433 2914 V 29 w(item<)41 b(module)g($flag:b$)g($list:lsmt$)e(>>)208
3014 y(MLast.SgMod)g(loc)j(\(Ploc.VaVal)d(b\))k(\(Ploc.VaVal)c(lsmt\))
208 3213 y(<:sig)p 433 3213 V 29 w(item<)i(module)g($)p
1072 3213 V 31 w(flag:b$)g($)p 1496 3213 V 31 w(list:lsmt$)f(>>)208
3312 y(MLast.SgMod)f(loc)j(b)h(lsmt)0 3482 y Ff(-)32
b(mo)s(dule)e(t)m(yp)s(e)208 3612 y Fb(<:sig)p 433 3612
V 29 w(item<)41 b(module)g(type)h($s$)h(=)g($mt$)f(>>)208
3712 y(MLast.SgMty)d(loc)j(\(Ploc.VaVal)d(s\))k(mt)208
3911 y(<:sig)p 433 3911 V 29 w(item<)e(module)g(type)h($)p
1290 3911 V 31 w(:s$)h(=)g($mt$)f(>>)208 4011 y(MLast.SgMty)d(loc)j(s)h
(mt)0 4180 y Ff(-)32 b(op)s(en)208 4310 y Fb(<:sig)p
433 4310 V 29 w(item<)41 b(open)h($list:ls$)e(>>)208
4410 y(MLast.SgOpn)f(loc)j(\(Ploc.VaVal)d(ls\))208 4609
y(<:sig)p 433 4609 V 29 w(item<)i(open)h($)p 985 4609
V 31 w(list:ls$)f(>>)208 4709 y(MLast.SgOpn)e(loc)j(ls)0
4878 y Ff(-)32 b(t)m(yp)s(e)g(declaration)208 5009 y
Fb(<:sig)p 433 5009 V 29 w(item<)41 b(type)h($list:ltd$)e(>>)208
5108 y(MLast.SgTyp)f(loc)j(\(Ploc.VaVal)d(ltd\))208 5308
y(<:sig)p 433 5308 V 29 w(item<)i(type)h($)p 985 5308
V 31 w(list:ltd$)e(>>)208 5407 y(MLast.SgTyp)f(loc)j(ltd)1888
5656 y Fi(121)p eop end
%%Page: 122 124
TeXDict begin 122 123 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(use)f(\(1\))208 519 y Fb(<:sig)p
433 519 27 4 v 29 w(item<)41 b(...internal)e(use...)85
b(>>)208 619 y(MLast.SgUse)39 b(loc)j(s)h(lstrib)0 781
y Ff(-)32 b(v)-5 b(alue)208 910 y Fb(<:sig)p 433 910
V 29 w(item<)41 b(value)h($s$)g(:)87 b($t$)42 b(>>)208
1010 y(MLast.SgVal)d(loc)j(\(Ploc.VaVal)d(s\))k(t)208
1209 y(<:sig)p 433 1209 V 29 w(item<)e(value)h($)p 1029
1209 V 31 w(:s$)g(:)87 b($t$)42 b(>>)208 1308 y(MLast.SgVal)d(loc)j(s)h
(t)0 1471 y Ff(-)32 b(extra)g(no)s(de)g(\(2\))208 1600
y Fb(...)85 b(no)43 b(representation)38 b(...)208 1699
y(MLast.SgXtr)h(loc)j(s)h(ot)0 1862 y Fi(\(1\))28 b(Same)f(remark)f(as)
h(for)g(")p Fb(str)p 1047 1862 V 30 w(item)p Fi(")e(ab)r(o)n(v)n(e.)0
1962 y(\(2\))h(Extra)g(no)r(de)g(in)n(ternally)f(used)i(b)n(y)f(the)g
(quotation)g(kit)h(")p Fb(q)p 1973 1962 V 30 w(ast.cmo)p
Fi(")c(to)j(build)h(an)n(tiquotations)e(of)i(signature)e(items.)0
2174 y Ff(mo)s(dule)p 314 2174 29 4 v 33 w(expr)32 2327
y(-)31 b(access)208 2456 y Fb(<:module)p 565 2456 27
4 v 28 w(expr<)41 b($me1$)h(.)86 b($me2$)42 b(>>)208
2556 y(MLast.MeAcc)d(loc)j(me1)g(me2)32 2718 y Ff(-)31
b(application)208 2847 y Fb(<:module)p 565 2847 V 28
w(expr<)41 b($me1$)h($me2$)f(>>)208 2947 y(MLast.MeApp)e(loc)j(me1)g
(me2)32 3109 y Ff(-)31 b(functor)208 3238 y Fb(<:module)p
565 3238 V 28 w(expr<)41 b(functor)g(\($s$)h(:)87 b($mt$\))41
b(->)i($me$)f(>>)208 3338 y(MLast.MeFun)d(loc)j(\(Ploc.VaVal)d(s\))k
(mt)f(me)208 3537 y(<:module)p 565 3537 V 28 w(expr<)f(functor)g(\($)p
1291 3537 V 30 w(:s$)i(:)86 b($mt$\))42 b(->)h($me$)f(>>)208
3636 y(MLast.MeFun)d(loc)j(s)h(mt)g(me)32 3799 y Ff(-)31
b(struct)208 3928 y Fb(<:module)p 565 3928 V 28 w(expr<)41
b(struct)g($list:lstri$)e(end)j(>>)208 4027 y(MLast.MeStr)d(loc)j
(\(Ploc.VaVal)d(lstri\))208 4227 y(<:module)p 565 4227
V 28 w(expr<)i(struct)g($)p 1203 4227 V 31 w(list:lstri$)e(end)k(>>)208
4326 y(MLast.MeStr)c(loc)j(lstri)32 4489 y Ff(-)31 b(mo)s(dule)g(t)m
(yp)s(e)h(constrain)m(t)208 4618 y Fb(<:module)p 565
4618 V 28 w(expr<)41 b(\($me$)h(:)86 b($mt$\))42 b(>>)208
4717 y(MLast.MeTyc)d(loc)j(me)h(mt)32 4880 y Ff(-)31
b(upp)s(ercase)h(iden)m(ti\014er)208 5009 y Fb(<:module)p
565 5009 V 28 w(expr<)41 b($uid:s$)g(>>)208 5108 y(MLast.MeUid)e(loc)j
(\(Ploc.VaVal)d(s\))208 5308 y(<:module)p 565 5308 V
28 w(expr<)i($)p 898 5308 V 31 w(uid:s$)g(>>)208 5407
y(MLast.MeUid)e(loc)j(s)1888 5656 y Fi(122)p eop end
%%Page: 123 125
TeXDict begin 123 124 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(-)32 b(extra)g(no)s(de)g(\(1\))208
521 y Fb(...)85 b(no)43 b(representation)38 b(...)208
621 y(MLast.MeXtr)h(loc)j(s)h(ot)0 794 y Fi(\(1\))28
b(Extra)f(no)r(de)i(in)n(ternally)e(used)h(b)n(y)g(the)h(quotation)e
(kit)i(")p Fb(q)p 1990 794 27 4 v 30 w(ast.cmo)p Fi(")c(to)j(build)h
(an)n(tiquotations)e(of)h(mo)r(dule)g(expres-)0 893 y(sions.)0
1108 y Ff(mo)s(dule)p 314 1108 29 4 v 33 w(t)m(yp)s(e)0
1261 y(-)k(access)208 1392 y Fb(<:module)p 565 1392 27
4 v 28 w(type<)41 b($mt1$)h(.)86 b($mt2$)42 b(>>)208
1491 y(MLast.MtAcc)d(loc)j(mt1)g(mt2)0 1664 y Ff(-)32
b(application)208 1795 y Fb(<:module)p 565 1795 V 28
w(type<)41 b($mt1$)h($mt2$)f(>>)208 1895 y(MLast.MtApp)e(loc)j(mt1)g
(mt2)0 2068 y Ff(-)32 b(functor)208 2199 y Fb(<:module)p
565 2199 V 28 w(type<)41 b(functor)g(\($s$)h(:)87 b($mt1$\))41
b(->)h($mt2$)g(>>)208 2298 y(MLast.MtFun)d(loc)j(\(Ploc.VaVal)d(s\))k
(mt1)f(mt2)208 2498 y(<:module)p 565 2498 V 28 w(type<)f(functor)g(\($)
p 1291 2498 V 30 w(:s$)i(:)86 b($mt1$\))42 b(->)g($mt2$)g(>>)208
2597 y(MLast.MtFun)d(loc)j(s)h(mt1)f(mt2)0 2770 y Ff(-)32
b(lo)m(w)m(ercase)g(iden)m(ti\014er)208 2901 y Fb(<:module)p
565 2901 V 28 w(type<)41 b($lid:s$)g(>>)208 3001 y(MLast.MtLid)e(loc)j
(\(Ploc.VaVal)d(s\))208 3200 y(<:module)p 565 3200 V
28 w(type<)i($)p 898 3200 V 31 w(lid:s$)g(>>)208 3300
y(MLast.MtLid)e(loc)j(s)0 3473 y Ff(-)32 b(abstract)208
3604 y Fb(<:module)p 565 3604 V 28 w(type<)41 b(')i($s$)g(>>)208
3703 y(MLast.MtQuo)c(loc)j(\(Ploc.VaVal)d(s\))208 3903
y(<:module)p 565 3903 V 28 w(type<)i(')i($)p 985 3903
V 31 w(:s$)g(>>)208 4002 y(MLast.MtQuo)c(loc)j(s)0 4175
y Ff(-)32 b(signature)208 4306 y Fb(<:module)p 565 4306
V 28 w(type<)41 b(sig)h($list:lsigi$)d(end)j(>>)208 4406
y(MLast.MtSig)d(loc)j(\(Ploc.VaVal)d(lsigi\))208 4605
y(<:module)p 565 4605 V 28 w(type<)i(sig)h($)p 1072 4605
V 31 w(list:lsigi$)d(end)k(>>)208 4705 y(MLast.MtSig)c(loc)j(lsigi)0
4878 y Ff(-)32 b(upp)s(ercase)g(iden)m(ti\014er)208 5009
y Fb(<:module)p 565 5009 V 28 w(type<)41 b($uid:s$)g(>>)208
5108 y(MLast.MtUid)e(loc)j(\(Ploc.VaVal)d(s\))208 5308
y(<:module)p 565 5308 V 28 w(type<)i($)p 898 5308 V 31
w(uid:s$)g(>>)208 5407 y(MLast.MtUid)e(loc)j(s)1888 5656
y Fi(123)p eop end
%%Page: 124 126
TeXDict begin 124 125 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(with)f(construction)208 528 y
Fb(<:module)p 565 528 27 4 v 28 w(type<)41 b($mt$)h(with)g($list:lwc$)d
(>>)208 628 y(MLast.MtWit)g(loc)j(mt)h(\(Ploc.VaVal)c(lwc\))208
827 y(<:module)p 565 827 V 28 w(type<)i($mt$)h(with)g($)p
1334 827 V 31 w(list:lwc$)e(>>)208 927 y(MLast.MtWit)f(loc)j(mt)h(lwc)0
1118 y Ff(-)32 b(extra)g(no)s(de)g(\(1\))208 1256 y Fb(...)85
b(no)43 b(representation)38 b(...)208 1355 y(MLast.MtXtr)h(loc)j(s)h
(ot)0 1549 y Fi(\(1\))28 b(Extra)e(no)r(de)i(in)n(ternally)f(used)g(b)n
(y)g(the)h(quotation)f(kit)h(")p Fb(q)p 1984 1549 V 31
w(ast.cmo)p Fi(")c(to)j(build)i(an)n(tiquotations)d(of)h(mo)r(dule)h(t)
n(yp)r(es.)0 1795 y Fe(15.5.5)113 b(classes...)0 1954
y Ff(class)p 197 1954 29 4 v 34 w(expr)0 2112 y(-)32
b(application)208 2250 y Fb(<:class)p 521 2250 27 4 v
28 w(expr<)42 b($ce$)f($e$)i(>>)208 2350 y(MLast.CeApp)c(loc)j(ce)h(e)0
2540 y Ff(-)32 b(constructor)208 2678 y Fb(<:class)p
521 2678 V 28 w(expr<)42 b($list:ls$)d([)44 b($list:lt$)39
b(])44 b(>>)208 2778 y(MLast.CeCon)39 b(loc)j(\(Ploc.VaVal)d(ls\))j
(\(Ploc.VaVal)d(lt\))208 2977 y(<:class)p 521 2977 V
28 w(expr<)j($)p 855 2977 V 31 w(list:ls$)e([)j($)p 1409
2977 V 31 w(list:lt$)d(])j(>>)208 3077 y(MLast.CeCon)c(loc)j(ls)h(lt)0
3268 y Ff(-)32 b(function)208 3406 y Fb(<:class)p 521
3406 V 28 w(expr<)42 b(fun)g($p$)g(->)h($ce$)f(>>)208
3505 y(MLast.CeFun)d(loc)j(p)h(ce)0 3696 y Ff(-)32 b(let)f(binding)208
3834 y Fb(<:class)p 521 3834 V 28 w(expr<)42 b(let)g($flag:b$)e
($list:lpe$)g(in)i($ce$)g(>>)208 3934 y(MLast.CeLet)d(loc)j
(\(Ploc.VaVal)d(b\))k(\(Ploc.VaVal)c(lpe\))j(ce)208 4133
y(<:class)p 521 4133 V 28 w(expr<)g(let)g($)p 1029 4133
V 31 w(flag:b$)f($)p 1453 4133 V 31 w(list:lpe$)e(in)k($ce$)f(>>)208
4233 y(MLast.CeLet)d(loc)j(b)h(lpe)f(ce)0 4424 y Ff(-)32
b(ob)5 b(ject)208 4562 y Fb(<:class)p 521 4562 V 28 w(expr<)42
b(object)f($opt:op$)f($list:lcstri$)e(end)k(>>)208 4661
y(MLast.CeStr)d(loc)j(\(Ploc.VaVal)d(op\))j(\(Ploc.VaVal)d(lcstri\))208
4861 y(<:class)p 521 4861 V 28 w(expr<)j(object)f($)p
1160 4861 V 31 w(opt:op$)f($)p 1583 4861 V 31 w(list:lcstri$)f(end)j
(>>)208 4960 y(MLast.CeStr)d(loc)j(op)h(lcstri)0 5151
y Ff(-)32 b(class)f(t)m(yp)s(e)h(constrain)m(t)208 5289
y Fb(<:class)p 521 5289 V 28 w(expr<)42 b(\($ce$)f(:)87
b($ct$\))41 b(>>)208 5389 y(MLast.CeTyc)e(loc)j(ce)h(ct)1888
5656 y Fi(124)p eop end
%%Page: 125 127
TeXDict begin 125 126 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Ff(class)p 197 390 29 4 v 34 w(t)m(yp)s(e)0
543 y(-)32 b(constructor)208 675 y Fb(<:class)p 521 675
27 4 v 28 w(type<)42 b($list:ls$)d([)44 b($list:lt$)39
b(])44 b(>>)208 775 y(MLast.CtCon)39 b(loc)j(\(Ploc.VaVal)d(ls\))j
(\(Ploc.VaVal)d(lt\))208 974 y(<:class)p 521 974 V 28
w(type<)j($)p 855 974 V 31 w(list:ls$)e([)j($)p 1409
974 V 31 w(list:lt$)d(])j(>>)208 1074 y(MLast.CtCon)c(loc)j(ls)h(lt)0
1253 y Ff(-)32 b(arro)m(w)208 1385 y Fb(<:class)p 521
1385 V 28 w(type<)42 b([)h($t$)f(])h(->)g($ct$)f(>>)208
1484 y(MLast.CtFun)d(loc)j(t)h(ct)0 1663 y Ff(-)32 b(ob)5
b(ject)208 1795 y Fb(<:class)p 521 1795 V 28 w(type<)42
b(object)f($list:lcsigi$)d(end)k(>>)208 1895 y(MLast.CtSig)d(loc)j
(\(Ploc.VaVal)d(None\))i(\(Ploc.VaVal)f(lcsigi\))208
2094 y(<:class)p 521 2094 V 28 w(type<)i(object)f($)p
1160 2094 V 31 w(list:lcsigi$)d(end)43 b(>>)208 2193
y(MLast.CtSig)c(loc)j(\(Ploc.VaVal)d(None\))i(lcsigi)208
2393 y(<:class)p 521 2393 V 28 w(type<)h(object)f(\($t$\))g
($list:lcsigi$)d(end)43 b(>>)208 2492 y(MLast.CtSig)c(loc)j
(\(Ploc.VaVal)d(\(Some)i(t\)\))i(\(Ploc.VaVal)c(lcsigi\))208
2692 y(<:class)p 521 2692 V 28 w(type<)j(object)f(\($t$\))g($)p
1421 2692 V 31 w(list:lcsigi$)e(end)j(>>)208 2791 y(MLast.CtSig)d(loc)j
(\(Ploc.VaVal)d(\(Some)i(t\)\))i(lcsigi)208 2990 y(<:class)p
521 2990 V 28 w(type<)f(object)f($opt:ot$)f($list:lcsigi$)e(end)k(>>)
208 3090 y(MLast.CtSig)d(loc)j(\(Ploc.VaVal)d(ot\))j(\(Ploc.VaVal)d
(lcsigi\))208 3289 y(<:class)p 521 3289 V 28 w(type<)j(object)f($)p
1160 3289 V 31 w(opt:ot$)f($)p 1583 3289 V 31 w(list:lcsigi$)f(end)j
(>>)208 3389 y(MLast.CtSig)d(loc)j(ot)h(lcsigi)0 3604
y Ff(class)p 197 3604 29 4 v 34 w(str)p 345 3604 V 35
w(item)0 3757 y(-)32 b(t)m(yp)s(e)g(constrain)m(t)208
3889 y Fb(<:class)p 521 3889 27 4 v 28 w(str)p 681 3889
V 30 w(item<)42 b(type)g($t1$)g(=)h($t2$)f(>>)208 3989
y(MLast.CrCtr)d(loc)j(t1)h(t2)0 4168 y Ff(-)32 b(declaration)g(list)208
4300 y Fb(<:class)p 521 4300 V 28 w(str)p 681 4300 V
30 w(item<)42 b(declare)e($list:lcstri$)f(end)j(>>)208
4399 y(MLast.CrDcl)d(loc)j(\(Ploc.VaVal)d(lcstri\))208
4598 y(<:class)p 521 4598 V 28 w(str)p 681 4598 V 30
w(item<)j(declare)e($)p 1365 4598 V 31 w(list:lcstri$)f(end)j(>>)208
4698 y(MLast.CrDcl)d(loc)j(lcstri)0 4877 y Ff(-)32 b(inheritance)208
5009 y Fb(<:class)p 521 5009 V 28 w(str)p 681 5009 V
30 w(item<)42 b(inherit)e($ce$)i(>>)208 5108 y(MLast.CrInh)d(loc)j(ce)h
(\(Ploc.VaVal)c(None\))208 5308 y(<:class)p 521 5308
V 28 w(str)p 681 5308 V 30 w(item<)j(inherit)e($ce$)i($)p
1583 5308 V 31 w(opt:os$)f(>>)208 5407 y(MLast.CrInh)e(loc)j(ce)h(os)
1888 5656 y Fi(125)p eop end
%%Page: 126 128
TeXDict begin 126 127 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 0 390 a Ff(-)k(initialization)208 535 y Fb(<:class)p
521 535 27 4 v 28 w(str)p 681 535 V 30 w(item<)42 b(initializer)d($e$)j
(>>)208 634 y(MLast.CrIni)d(loc)j(e)0 834 y Ff(-)32 b(metho)s(d)208
978 y Fb(<:class)p 521 978 V 28 w(str)p 681 978 V 30
w(item<)42 b(method)f($s$)h(=)h($e$)g(>>)208 1078 y(MLast.CrMth)c(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(False\))i(e)i(\(Ploc.VaVal)c
(None\))208 1277 y(<:class)p 521 1277 V 28 w(str)p 681
1277 V 30 w(item<)j(method)f($)p 1322 1277 V 31 w(:s$)h(=)h($e$)g(>>)
208 1377 y(MLast.CrMth)c(loc)j(s)h(\(Ploc.VaVal)c(False\))i(e)i
(\(Ploc.VaVal)c(None\))208 1576 y(<:class)p 521 1576
V 28 w(str)p 681 1576 V 30 w(item<)j(method)f($s$)h(:)87
b($t$)42 b(=)h($e$)g(>>)208 1676 y(MLast.CrMth)c(loc)j(\(Ploc.VaVal)d
(s\))k(\(Ploc.VaVal)c(False\))i(e)i(\(Ploc.VaVal)c(\(Some)j(t\)\))208
1875 y(<:class)p 521 1875 V 28 w(str)p 681 1875 V 30
w(item<)g(method)f($)p 1322 1875 V 31 w(:s$)h(:)87 b($t$)42
b(=)h($e$)g(>>)208 1975 y(MLast.CrMth)c(loc)j(s)h(\(Ploc.VaVal)c
(False\))i(e)i(\(Ploc.VaVal)c(\(Some)j(t\)\))208 2174
y(<:class)p 521 2174 V 28 w(str)p 681 2174 V 30 w(item<)g(method)f
(private)f($s$)j(=)g($e$)f(>>)208 2273 y(MLast.CrMth)d(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(True\))i(e)i(\(Ploc.VaVal)c
(None\))208 2473 y(<:class)p 521 2473 V 28 w(str)p 681
2473 V 30 w(item<)j(method)f(private)f($)p 1670 2473
V 31 w(:s$)j(=)g($e$)f(>>)208 2572 y(MLast.CrMth)d(loc)j(s)h
(\(Ploc.VaVal)c(True\))j(e)h(\(Ploc.VaVal)c(None\))208
2772 y(<:class)p 521 2772 V 28 w(str)p 681 2772 V 30
w(item<)j(method)f(private)f($s$)j(:)87 b($t$)42 b(=)h($e$)f(>>)208
2871 y(MLast.CrMth)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(True\))i
(e)i(\(Ploc.VaVal)c(\(Some)j(t\)\))208 3070 y(<:class)p
521 3070 V 28 w(str)p 681 3070 V 30 w(item<)g(method)f(private)f($)p
1670 3070 V 31 w(:s$)j(:)87 b($t$)42 b(=)h($e$)f(>>)208
3170 y(MLast.CrMth)d(loc)j(s)h(\(Ploc.VaVal)c(True\))j(e)h
(\(Ploc.VaVal)c(\(Some)i(t\)\))208 3369 y(<:class)p 521
3369 V 28 w(str)p 681 3369 V 30 w(item<)h(method)f($flag:b$)f($s$)i
($opt:ot$)f(=)i($e$)f(>>)208 3469 y(MLast.CrMth)d(loc)j(\(Ploc.VaVal)d
(s\))k(\(Ploc.VaVal)c(b\))k(e)g(\(Ploc.VaVal)c(ot\))208
3569 y(<:class)p 521 3569 V 28 w(str)p 681 3569 V 30
w(item<)j(method)f($)p 1322 3569 V 31 w(flag:b$)f($)p
1745 3569 V 31 w(:s$)j($)p 1995 3569 V 31 w(opt:ot$)d(=)k($e$)e(>>)208
3668 y(MLast.CrMth)d(loc)j(s)h(b)g(e)g(ot)0 3868 y Ff(-)32
b(v)-5 b(alue)208 4012 y Fb(<:class)p 521 4012 V 28 w(str)p
681 4012 V 30 w(item<)42 b(value)f($s$)i(=)g($e$)f(>>)208
4112 y(MLast.CrVal)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(False\))
i(e)208 4311 y(<:class)p 521 4311 V 28 w(str)p 681 4311
V 30 w(item<)h(value)f($)p 1278 4311 V 31 w(:s$)i(=)g($e$)f(>>)208
4411 y(MLast.CrVal)d(loc)j(s)h(\(Ploc.VaVal)c(False\))i(e)208
4610 y(<:class)p 521 4610 V 28 w(str)p 681 4610 V 30
w(item<)h(value)f(mutable)g($s$)h(=)h($e$)g(>>)208 4710
y(MLast.CrVal)c(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(True\))i(e)
208 4909 y(<:class)p 521 4909 V 28 w(str)p 681 4909 V
30 w(item<)h(value)f(mutable)g($)p 1627 4909 V 31 w(:s$)h(=)h($e$)g(>>)
208 5009 y(MLast.CrVal)c(loc)j(s)h(\(Ploc.VaVal)c(True\))j(e)208
5208 y(<:class)p 521 5208 V 28 w(str)p 681 5208 V 30
w(item<)g(value)f($flag:b$)f($s$)j(=)g($e$)f(>>)208 5308
y(MLast.CrVal)d(loc)j(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(b\))k(e)1888
5656 y Fi(126)p eop end
%%Page: 127 129
TeXDict begin 127 128 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 208 390 a Fb(<:class)p 521 390 27 4 v 28 w(str)p
681 390 V 30 w(item<)42 b(value)f($)p 1278 390 V 31 w(flag:b$)g($)p
1702 390 V 31 w(:s$)h(=)h($e$)g(>>)208 490 y(MLast.CrVal)c(loc)j(s)h(b)
g(e)0 666 y Ff(-)32 b(virtual)g(metho)s(d)208 797 y Fb(<:class)p
521 797 V 28 w(str)p 681 797 V 30 w(item<)42 b(method)f(virtual)f($s$)j
(:)87 b($t$)42 b(>>)208 897 y(MLast.CrVir)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(False\))i(t)208 1096 y(<:class)p 521
1096 V 28 w(str)p 681 1096 V 30 w(item<)h(method)f(virtual)f($)p
1670 1096 V 31 w(:s$)j(:)87 b($t$)42 b(>>)208 1196 y(MLast.CrVir)d(loc)
j(s)h(\(Ploc.VaVal)c(False\))i(t)208 1395 y(<:class)p
521 1395 V 28 w(str)p 681 1395 V 30 w(item<)h(method)f(virtual)f
(private)h($s$)i(:)86 b($t$)43 b(>>)208 1495 y(MLast.CrVir)c(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(True\))i(t)208 1694
y(<:class)p 521 1694 V 28 w(str)p 681 1694 V 30 w(item<)h(method)f
(virtual)f(private)h($)p 2019 1694 V 31 w(:s$)h(:)87
b($t$)43 b(>>)208 1794 y(MLast.CrVir)c(loc)j(s)h(\(Ploc.VaVal)c(True\))
j(t)208 1993 y(<:class)p 521 1993 V 28 w(str)p 681 1993
V 30 w(item<)g(method)f(virtual)f($flag:b$)h($s$)h(:)87
b($t$)42 b(>>)208 2092 y(MLast.CrVir)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(b\))k(t)208 2292 y(<:class)p 521 2292
V 28 w(str)p 681 2292 V 30 w(item<)f(method)f(virtual)f($)p
1670 2292 V 31 w(flag:b$)h($)p 2094 2292 V 31 w(:s$)h(:)87
b($t$)43 b(>>)208 2391 y(MLast.CrVir)c(loc)j(s)h(b)g(t)0
2606 y Ff(class)p 197 2606 29 4 v 34 w(sig)p 344 2606
V 33 w(item)0 2759 y(-)32 b(t)m(yp)s(e)g(constrain)m(t)208
2891 y Fb(<:class)p 521 2891 27 4 v 28 w(sig)p 681 2891
V 30 w(item<)42 b(type)g($t1$)g(=)h($t2$)f(>>)208 2990
y(MLast.CgCtr)d(loc)j(t1)h(t2)0 3166 y Ff(-)32 b(declare)208
3298 y Fb(<:class)p 521 3298 V 28 w(sig)p 681 3298 V
30 w(item<)42 b(declare)e($list:lcsigi$)f(end)j(>>)208
3397 y(MLast.CgDcl)d(loc)j(\(Ploc.VaVal)d(lcsigi\))208
3597 y(<:class)p 521 3597 V 28 w(sig)p 681 3597 V 30
w(item<)j(declare)e($)p 1365 3597 V 31 w(list:lcsigi$)f(end)j(>>)208
3696 y(MLast.CgDcl)d(loc)j(lcsigi)0 3872 y Ff(-)32 b(inheritance)208
4004 y Fb(<:class)p 521 4004 V 28 w(sig)p 681 4004 V
30 w(item<)42 b(inherit)e($ct$)i(>>)208 4103 y(MLast.CgInh)d(loc)j(ct)0
4279 y Ff(-)32 b(metho)s(d)208 4411 y Fb(<:class)p 521
4411 V 28 w(sig)p 681 4411 V 30 w(item<)42 b(method)f($s$)h(:)87
b($t$)42 b(>>)208 4511 y(MLast.CgMth)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(False\))i(t)208 4710 y(<:class)p 521
4710 V 28 w(sig)p 681 4710 V 30 w(item<)h(method)f($)p
1322 4710 V 31 w(:s$)h(:)87 b($t$)42 b(>>)208 4809 y(MLast.CgMth)d(loc)
j(s)h(\(Ploc.VaVal)c(False\))i(t)208 5009 y(<:class)p
521 5009 V 28 w(sig)p 681 5009 V 30 w(item<)h(method)f(private)f($s$)j
(:)87 b($t$)42 b(>>)208 5108 y(MLast.CgMth)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(True\))i(t)208 5308 y(<:class)p 521 5308
V 28 w(sig)p 681 5308 V 30 w(item<)h(method)f(private)f($)p
1670 5308 V 31 w(:s$)j(:)87 b($t$)42 b(>>)208 5407 y(MLast.CgMth)d(loc)
j(s)h(\(Ploc.VaVal)c(True\))j(t)1888 5656 y Fi(127)p
eop end
%%Page: 128 130
TeXDict begin 128 129 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 208 490 a Fb(<:class)p 521 490 27 4 v 28 w(sig)p
681 490 V 30 w(item<)42 b(method)f($flag:b$)f($s$)i(:)87
b($t$)43 b(>>)208 589 y(MLast.CgMth)c(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(b\))k(t)208 789 y(<:class)p 521 789 V
28 w(sig)p 681 789 V 30 w(item<)f(method)f($)p 1322 789
V 31 w(flag:b$)f($)p 1745 789 V 31 w(:s$)j(:)87 b($t$)42
b(>>)208 888 y(MLast.CgMth)d(loc)j(s)h(b)g(t)0 1065 y
Ff(-)32 b(v)-5 b(alue)208 1197 y Fb(<:class)p 521 1197
V 28 w(sig)p 681 1197 V 30 w(item<)42 b(value)f($s$)i(:)86
b($t$)43 b(>>)208 1296 y(MLast.CgVal)c(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(False\))i(t)208 1495 y(<:class)p 521
1495 V 28 w(sig)p 681 1495 V 30 w(item<)h(value)f($)p
1278 1495 V 31 w(:s$)i(:)86 b($t$)43 b(>>)208 1595 y(MLast.CgVal)c(loc)
j(s)h(\(Ploc.VaVal)c(False\))i(t)208 1794 y(<:class)p
521 1794 V 28 w(sig)p 681 1794 V 30 w(item<)h(value)f(mutable)g($s$)h
(:)87 b($t$)42 b(>>)208 1894 y(MLast.CgVal)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(True\))i(t)208 2093 y(<:class)p 521 2093
V 28 w(sig)p 681 2093 V 30 w(item<)h(value)f(mutable)g($)p
1627 2093 V 31 w(:s$)h(:)87 b($t$)42 b(>>)208 2193 y(MLast.CgVal)d(loc)
j(s)h(\(Ploc.VaVal)c(True\))j(t)208 2392 y(<:class)p
521 2392 V 28 w(sig)p 681 2392 V 30 w(item<)g(value)f($flag:b$)f($s$)j
(:)87 b($t$)42 b(>>)208 2492 y(MLast.CgVal)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(b\))k(t)208 2691 y(<:class)p 521 2691
V 28 w(sig)p 681 2691 V 30 w(item<)f(value)f($)p 1278
2691 V 31 w(flag:b$)g($)p 1702 2691 V 31 w(:s$)h(:)87
b($t$)42 b(>>)208 2791 y(MLast.CgVal)d(loc)j(s)h(b)g(t)0
2967 y Ff(-)32 b(metho)s(d)e(virtual)208 3099 y Fb(<:class)p
521 3099 V 28 w(sig)p 681 3099 V 30 w(item<)42 b(method)f(virtual)f
($s$)j(:)87 b($t$)42 b(>>)208 3198 y(MLast.CgVir)d(loc)j(\(Ploc.VaVal)d
(s\))k(\(Ploc.VaVal)c(False\))i(t)208 3398 y(<:class)p
521 3398 V 28 w(sig)p 681 3398 V 30 w(item<)h(method)f(virtual)f($)p
1670 3398 V 31 w(:s$)j(:)87 b($t$)42 b(>>)208 3497 y(MLast.CgVir)d(loc)
j(s)h(\(Ploc.VaVal)c(False\))i(t)208 3696 y(<:class)p
521 3696 V 28 w(sig)p 681 3696 V 30 w(item<)h(method)f(virtual)f
(private)h($s$)i(:)86 b($t$)43 b(>>)208 3796 y(MLast.CgVir)c(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(True\))i(t)208 3995
y(<:class)p 521 3995 V 28 w(sig)p 681 3995 V 30 w(item<)h(method)f
(virtual)f(private)h($)p 2019 3995 V 31 w(:s$)h(:)87
b($t$)43 b(>>)208 4095 y(MLast.CgVir)c(loc)j(s)h(\(Ploc.VaVal)c(True\))
j(t)208 4294 y(<:class)p 521 4294 V 28 w(sig)p 681 4294
V 30 w(item<)g(method)f(virtual)f($flag:b$)h($s$)h(:)87
b($t$)42 b(>>)208 4394 y(MLast.CgVir)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(b\))k(t)208 4593 y(<:class)p 521 4593
V 28 w(sig)p 681 4593 V 30 w(item<)f(method)f(virtual)f($)p
1670 4593 V 31 w(flag:b$)h($)p 2094 4593 V 31 w(:s$)h(:)87
b($t$)43 b(>>)208 4693 y(MLast.CgVir)c(loc)j(s)h(b)g(t)0
4924 y Fe(15.5.6)113 b(other)0 5077 y Ff(with)p 192 5077
29 4 v 34 w(constr)0 5231 y Fi("With")27 b(p)r(ossibly)h(follo)n(wing)e
(a)h(mo)r(dule)h(t)n(yp)r(e.)0 5407 y Ff(-)k(with)f(t)m(yp)s(e)1888
5656 y Fi(128)p eop end
%%Page: 129 131
TeXDict begin 129 130 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 208 390 a Fb(<:with)p 477 390 27 4 v 28 w(constr<)41
b(type)h($s$)g($list:ltv$)e(=)j($t$)f(>>)208 490 y(MLast.WcTyp)d(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(ltv\))j(\(Ploc.VaVal)d(False\))i
(t)208 689 y(<:with)p 477 689 V 28 w(constr<)g(type)h($)p
1116 689 V 31 w(:s$)g($)p 1365 689 V 31 w(list:ltv$)e(=)j($t$)g(>>)208
789 y(MLast.WcTyp)c(loc)j(s)h(ltv)f(\(Ploc.VaVal)d(False\))j(t)208
988 y(<:with)p 477 988 V 28 w(constr<)f(type)h($s$)g($list:ltv$)e(=)j
(private)e($t$)h(>>)208 1088 y(MLast.WcTyp)d(loc)j(\(Ploc.VaVal)d(s\))k
(\(Ploc.VaVal)c(ltv\))j(\(Ploc.VaVal)d(True\))i(t)208
1287 y(<:with)p 477 1287 V 28 w(constr<)g(type)h($)p
1116 1287 V 31 w(:s$)g($)p 1365 1287 V 31 w(list:ltv$)e(=)j(private)e
($t$)h(>>)208 1386 y(MLast.WcTyp)d(loc)j(s)h(ltv)f(\(Ploc.VaVal)d
(True\))j(t)208 1586 y(<:with)p 477 1586 V 28 w(constr<)f(type)h($s$)g
($list:ltv$)e(=)j($flag:b$)d($t$)j(>>)208 1685 y(MLast.WcTyp)c(loc)j
(\(Ploc.VaVal)d(s\))k(\(Ploc.VaVal)c(ltv\))j(\(Ploc.VaVal)d(b\))j(t)208
1885 y(<:with)p 477 1885 V 28 w(constr<)f(type)h($)p
1116 1885 V 31 w(:s$)g($)p 1365 1885 V 31 w(list:ltv$)e(=)j($)p
1963 1885 V 31 w(flag:b$)e($t$)h(>>)208 1984 y(MLast.WcTyp)d(loc)j(s)h
(ltv)f(b)i(t)0 2172 y Ff(-)32 b(with)f(mo)s(dule)208
2308 y Fb(<:with)p 477 2308 V 28 w(constr<)41 b(module)g($list:ls$)f(=)
j($me$)f(>>)208 2408 y(MLast.WcMod)d(loc)j(\(Ploc.VaVal)d(ls\))j(me)208
2607 y(<:with)p 477 2607 V 28 w(constr<)f(module)g($)p
1203 2607 V 31 w(list:ls$)f(=)k($me$)e(>>)208 2707 y(MLast.WcMod)d(loc)
j(ls)h(me)0 2932 y Ff(p)s(oly)p 187 2932 29 4 v 34 w(v)-5
b(arian)m(t)0 3089 y Fi(P)n(olymorphic)26 b(v)-5 b(arian)n(ts.)0
3278 y Ff(-)32 b(constructor)208 3415 y Fb(<:poly)p 477
3415 27 4 v 28 w(variant<)41 b(`)i($s$)f(>>)208 3514
y(MLast.PvTag)d(\(Ploc.VaVal)g(s\))j(\(Ploc.VaVal)d(True\))j
(\(Ploc.VaVal)d([]\))208 3714 y(<:poly)p 477 3714 V 28
w(variant<)i(`)i($)p 1029 3714 V 31 w(:s$)f(>>)208 3813
y(MLast.PvTag)d(s)k(\(Ploc.VaVal)c(True\))i(\(Ploc.VaVal)e([]\))208
4012 y(<:poly)p 477 4012 V 28 w(variant<)i(`)i($s$)f(of)h($list:lt$)d
(>>)208 4112 y(MLast.PvTag)f(\(Ploc.VaVal)g(s\))j(\(Ploc.VaVal)d
(False\))j(\(Ploc.VaVal)d(lt\))208 4311 y(<:poly)p 477
4311 V 28 w(variant<)i(`)i($)p 1029 4311 V 31 w(:s$)f(of)h($)p
1409 4311 V 31 w(list:lt$)d(>>)208 4411 y(MLast.PvTag)f(s)k
(\(Ploc.VaVal)c(False\))i(lt)208 4610 y(<:poly)p 477
4610 V 28 w(variant<)g(`)i($s$)f(of)h(&)g($list:lt$)d(>>)208
4710 y(MLast.PvTag)f(\(Ploc.VaVal)g(s\))j(\(Ploc.VaVal)d(True\))j
(\(Ploc.VaVal)d(lt\))208 4909 y(<:poly)p 477 4909 V 28
w(variant<)i(`)i($)p 1029 4909 V 31 w(:s$)f(of)h(&)g($)p
1496 4909 V 31 w(list:lt$)d(>>)208 5009 y(MLast.PvTag)f(s)k
(\(Ploc.VaVal)c(True\))i(lt)208 5208 y(<:poly)p 477 5208
V 28 w(variant<)g(`)i($s$)f(of)h($flag:b$)d($list:lt$)g(>>)208
5308 y(MLast.PvTag)f(\(Ploc.VaVal)g(s\))j(\(Ploc.VaVal)d(b\))k
(\(Ploc.VaVal)c(lt\))1888 5656 y Fi(129)p eop end
%%Page: 130 132
TeXDict begin 130 131 bop 0 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)e(-)g(STRICT)h(MODE)p 0 103
3900 4 v 208 390 a Fb(<:poly)p 477 390 27 4 v 28 w(variant<)41
b(`)i($)p 1029 390 V 31 w(:s$)f(of)h($)p 1409 390 V 31
w(flag:b$)e($)p 1833 390 V 31 w(list:lt$)f(>>)208 490
y(MLast.PvTag)f(s)k(b)g(lt)0 697 y Ff(-)32 b(t)m(yp)s(e)208
847 y Fb(<:poly)p 477 847 V 28 w(variant<)41 b($t$)h(>>)208
946 y(MLast.PvInh)d(t)0 1265 y Fc(15.6)136 b(No)t(des)45
b(without)g(quotations)0 1462 y Fi(Some)27 b(t)n(yp)r(es)h(de\014ned)g
(in)g(the)g(AST)g(tree)f(mo)r(dule)h(")p Fb(MLast)p Fi(")d(don't)i(ha)n
(v)n(e)g(an)g(asso)r(ciated)f(quotation.)37 b(They)27
b(are:)125 1678 y Fh(\017)41 b Fb(type)p 389 1678 V 29
w(var)125 1877 y Fh(\017)g Fb(type)p 389 1877 V 29 w(decl)125
2076 y Fh(\017)g Fb(class)p 433 2076 V 29 w(infos)0 2353
y Fe(15.6.1)113 b(t)m(yp)s(e)p 622 2353 34 4 v 40 w(v)-6
b(ar)0 2522 y Fi(The)28 b(t)n(yp)r(e)f(")p Fb(type)p
580 2522 27 4 v 30 w(var)p Fi(")f(is)h(de\014ned)h(as:)87
2746 y Fb(type)42 b(type_var)e(=)k(\(Ploc.vala)39 b(string)i(*)i
(\(bool)f(*)h(bool\)\);)0 2961 y Fi(The)36 b(\014rst)f(b)r(o)r(olean)h
(is)f(")p Fb(True)p Fi(")e(if)k(the)f(t)n(yp)r(e)g(v)-5
b(ariable)35 b(is)g(pre\014xed)h(b)n(y)f(")p Fb(+)p Fi(")g(\("plus")g
(sign\).)61 b(The)36 b(second)f(b)r(o)r(olean)g(is)0
3061 y(")p Fb(True)p Fi(")25 b(if)j(the)g(t)n(yp)r(e)g(v)-5
b(ariable)26 b(is)i(pre\014xed)f(b)n(y)g(")p Fb(-)p Fi(")g(\("min)n
(us")g(sign\).)0 3337 y Fe(15.6.2)113 b(t)m(yp)s(e)p
622 3337 34 4 v 40 w(decl)0 3506 y Fi(The)28 b(t)n(yp)r(e)f(")p
Fb(type)p 580 3506 27 4 v 30 w(decl)p Fi(")e(is)j(a)f(record)f(t)n(yp)r
(e)i(corresp)r(onding)d(to)j(a)f(t)n(yp)r(e)h(declaration.)35
b(Its)28 b(de\014nition)g(is:)87 3730 y Fb(type)42 b(type_decl)e(=)174
3830 y({)k(tdNam)d(:)i(\(loc)f(*)h(Ploc.vaval)d(string\);)262
3930 y(tdPrm)h(:)i(Ploc.vala)d(\(list)i(type_var\);)262
4029 y(tdPrv)f(:)i(Ploc.vala)d(bool;)262 4129 y(tdDef)h(:)i(ctyp;)262
4228 y(tdCon)e(:)i(Ploc.vala)d(\(list)i(\(ctyp)f(*)i(ctyp\)\))e(})87
4328 y(;)0 4544 y Fi(The)28 b(\014eld)g(")p Fb(tdNam)p
Fi(")c(is)k(the)g(t)n(yp)r(e)f(iden)n(ti\014er)h(\(together)f(with)h
(its)g(lo)r(cation)f(in)h(the)g(source\).)0 4760 y(The)g(\014eld)g(")p
Fb(tdPrm)p Fi(")c(is)k(the)g(list)f(of)h(its)g(p)r(ossible)f
(parameters.)0 4976 y(The)h(\014eld)g(")p Fb(tdPrv)p
Fi(")c(tells)k(if)g(the)g(t)n(yp)r(e)g(is)f(priv)-5 b(ate)28
b(or)e(not.)0 5191 y(The)i(\014eld)g(")p Fb(tdDef)p Fi(")c(is)k(the)g
(de\014nition)g(of)f(the)h(t)n(yp)r(e.)0 5407 y(The)g(\014eld)g(")p
Fb(tdCon)p Fi(")c(is)k(the)g(p)r(ossible)f(list)h(of)f(t)n(yp)r(e)h
(constrain)n(ts.)1888 5656 y(130)p eop end
%%Page: 131 133
TeXDict begin 131 132 bop 1985 70 a Fi(CHAPTER)27 b(15.)64
b(SYNT)-7 b(AX)29 b(TREE)d(-)i(STRICT)f(MODE)p 0 103
3900 4 v 0 390 a Fe(15.6.3)113 b(class)p 629 390 34 4
v 41 w(infos)0 543 y Fi(The)28 b(t)n(yp)r(e)f(")p Fb(class)p
624 543 27 4 v 29 w(infos)p Fi(")e(is)j(a)f(record)f(t)n(yp)r(e)i
(parametrized)e(with)i(a)g(t)n(yp)r(e)f(v)-5 b(ariable.)36
b(It)28 b(is)g(common)f(to:)125 726 y Fh(\017)41 b Fi(the)28
b("class)e(declaration")f(\(")p Fb(class)42 b(...)p Fi(")26
b(as)h(structure)g(item\),)h(the)g(t)n(yp)r(e)g(v)-5
b(ariable)26 b(b)r(eing)i(")p Fb(class)p 3427 726 V 29
w(expr)p Fi(",)125 892 y Fh(\017)41 b Fi(the)28 b("class)e
(description")g(\(")p Fb(class)42 b(...)p Fi(")25 b(as)i(signature)g
(item\),)h(the)g(t)n(yp)r(e)g(v)-5 b(ariable)27 b(b)r(eing)g(")p
Fb(class)p 3427 892 V 29 w(type)p Fi(",)125 1058 y Fh(\017)41
b Fi(the)28 b("class)e(t)n(yp)r(e)h(declaration")f(\(")p
Fb(class)41 b(type)h(...)p Fi("\),)27 b(the)h(t)n(yp)r(e)f(v)-5
b(ariable)27 b(b)r(eing)h(")p Fb(class)p 3185 1058 V
29 w(type)p Fi(".)0 1241 y(It)g(is)f(de\014ned)h(as:)87
1423 y Fb(type)42 b(class_infos)d('a)k(=)174 1523 y({)h(ciLoc)d(:)i
(loc;)262 1623 y(ciVir)e(:)i(Ploc.vala)d(bool;)262 1722
y(ciPrm)h(:)i(\(loc)f(*)h(Ploc.vala)d(\(list)i(type_var\)\);)262
1822 y(ciNam)f(:)i(Ploc.vala)d(string;)262 1922 y(ciExp)h(:)i('a)g(})87
2021 y(;)0 2204 y Fi(The)28 b(\014eld)g(")p Fb(ciLoc)p
Fi(")c(is)k(the)g(lo)r(cation)f(of)g(the)h(whole)f(de\014nition.)0
2403 y(The)h(\014eld)g(")p Fb(ciVir)p Fi(")c(tells)k(whether)f(the)h(t)
n(yp)r(e)g(is)g(virtual)f(or)f(not.)0 2602 y(The)i(\014eld)g(")p
Fb(ciPrm)p Fi(")c(is)k(the)g(list)f(of)h(its)g(p)r(ossible)f
(parameters.)0 2802 y(The)h(\014eld)g(")p Fb(ciNam)p
Fi(")c(is)k(the)g(class)e(iden)n(ti\014er.)0 3001 y(The)i(\014eld)g(")p
Fb(ciExp)p Fi(")c(is)k(the)g(class)e(de\014nition,)i(dep)r(ending)g(of)
g(its)g(kind.)1888 5656 y(131)p eop end
%%Page: 132 134
TeXDict begin 132 133 bop eop end
%%Page: 133 135
TeXDict begin 133 134 bop 0 1019 a Fd(Chapter)65 b(16)0
1440 y Fg(Syn)-6 b(tax)77 b(tree)h(quotations)f(in)g(user)g(syn)-6
b(tax)0 1877 y Fi(The)31 b(quotation)g(kit)g(")p Fb(q)p
775 1877 27 4 v 30 w(ast.cmo)p Fi(")d(allo)n(ws)i(to)h(use)g(syn)n(tax)
f(tree)h(quotations)f(in)h(user)f(syn)n(tax.)47 b(It)31
b(fully)h(w)n(orks)d(only)i(in)0 1977 y("strict")26 b(mo)r(de.)37
b(In)28 b("transitional")e(mo)r(de,)i(there)f(is)g(no)h(w)n(a)n(y)e(to)
i(use)f(an)n(tiquotations,)f(whic)n(h)i(restricts)f(its)g(utilit)n(y)-7
b(.)0 2188 y(If)28 b(this)g(kit)g(is)g(loaded,)f(when)h(a)f(quotation)g
(of)h(syn)n(tax)f(tree)g(is)h(found,)g(the)g(curren)n(t)f(OCaml)g
(language)g(parser)f(is)h(called.)0 2288 y(Then,)h(the)f(resulting)g
(tree)g(is)g(rei\014ed)g(\(except)g(the)h(an)n(tiquotations\))e(to)h
(represen)n(t)f Fa(the)j(syntax)g(tr)l(e)l(e)g(of)h(the)g(syntax)e(tr)l
(e)l(e)p Fi(.)0 2593 y Fc(16.1)136 b(An)l(tiquotations)0
2786 y Fi(The)26 b(OCaml)e(langage)g(parser)g(used,)i(and)f(its)h(p)r
(ossible)f(extensions,)h(m)n(ust)f(ha)n(v)n(e)g(b)r(een)g(built)i(to)e
(allo)n(w)f(the)i(places)f(of)h(the)0 2886 y(an)n(tiquotations.)35
b(The)27 b(sym)n(b)r(ols)e(enclosed)h(b)n(y)g(the)h(meta-sym)n(b)r(ol)e
(")p Fb(V)p Fi(")g(\(see)h(the)h(c)n(hapter)f(ab)r(out)g(extensible)g
(grammars,)0 2985 y(section)h("sym)n(b)r(ols"\),)f(de\014ne)i(where)f
(an)n(tiquotations)g(can)g(tak)n(e)g(place.)0 3196 y(There)k(is)h(no)g
(need)g(to)g(sp)r(ecify)g(an)n(tiquotations)f(for)h(the)g(main)g(t)n
(yp)r(es)g(de\014ned)g(in)h(the)f(AST)g(tree)g(mo)r(dule)g(\(")p
Fb(MLast)p Fi("\):)0 3296 y(")p Fb(expr)p Fi(",)24 b(")p
Fb(patt)p Fi(",)h(")p Fb(expr)p Fi(",)f(")p Fb(str)p
1101 3296 V 30 w(item)p Fi(",)h(")p Fb(sig)p 1571 3296
V 30 w(item)p Fi(",)g(and)h(so)g(on.)37 b(All)27 b(syn)n(tax)f(parts)g
(of)h(these)f(t)n(yp)r(es)h(are)f(automati-)0 3396 y(cally)h(an)n
(tiquotable.)0 3607 y(F)-7 b(or)27 b(example,)g(in)h(Camlp5)f(sources,)
f(the)i(grammar)e(rule)h(de\014ning)h(the)g("let..in")f(statemen)n(t)h
(is:)131 3819 y Fb("let";)41 b(r)i(=)g(V)g(\(FLAG)f("rec"\))f("flag")g
("opt";)174 3918 y(l)j(=)f(V)g(\(LIST1)e(let_binding)e(SEP)j("and"\);)f
("in";)h(x)h(=)g(expr)0 4125 y Fi(All)28 b(sym)n(b)r(ols)f(of)g(these)h
(rules,)f(except)h(the)g(k)n(eyw)n(ords,)d(are)i(an)n(tiquotable:)125
4331 y Fh(\017)41 b Fi(The)30 b("rec")f(\015ag,)i(b)r(ecause)f
(enclosed)g(b)n(y)h(the)g("V")f(meta)h(sym)n(b)r(ol.)45
b(The)31 b(t)n(w)n(o)f(strings)g(whic)n(h)g(follo)n(w)g(it)h(giv)n(es)f
(the)208 4430 y(p)r(ossible)35 b(an)n(tiquotation)h(kinds:)54
b("\015ag")34 b(\(the)j(normal)e(an)n(tiquotation)g(kind\))i(and)f
("opt")f(\(k)n(ept)h(b)n(y)g(bac)n(kw)n(ard)208 4530
y(compatibilit)n(y)-7 b(,)38 b(but)e(not)g(recommended\).)62
b(It)36 b(is)g(therefore)f(p)r(ossible)h(to)f(an)n(tiquote)h(it)g(as:)
53 b(")p Fb($flag:...$)p Fi(")31 b(or)208 4630 y(")p
Fb($opt:...$)p Fi(")20 b(where)25 b(the)g(")p Fb(...)p
Fi(")e(is)i(an)g(expression)f(or)g(a)h(pattern)g(dep)r(ending)g(on)g
(the)h(p)r(osition)e(of)i(the)f(enclosing)208 4729 y(quotation)125
4919 y Fh(\017)41 b Fi(The)21 b(binding)h(list)f(is)g(also)g(an)n
(tiquotable,)g(since)h(it)f(is)h(also)e(enclosed)g(b)n(y)i(the)f("V")g
(meta)g(sym)n(b)r(ol.)35 b(Its)21 b(an)n(tiquotation)208
5018 y(kind)28 b(is)h("list")f(\(the)h(default)g(when)g(the)g(meta)g
(sym)n(b)r(ol)f(parameter)f(is)h(a)h(list\).)40 b(It)29
b(is)g(therefore)e(p)r(ossible)i(to)f(write)208 5118
y(")p Fb($list:...$)p Fi(")22 b(at)28 b(the)g(place)f(of)g(the)h
(binding)g(list.)125 5308 y Fh(\017)41 b Fi(The)27 b(expression)e
(after)i(the)h("in")e(is)h(also)f(an)n(tiquotable,)g(b)r(ecause)h(it)h
(b)r(elongs)e(to)h(the)h(main)f(t)n(yp)r(es)g(de\014ned)g(in)h(the)208
5407 y(mo)r(dule)f(")p Fb(MLast)p Fi(".)1888 5656 y(133)p
eop end
%%Page: 134 136
TeXDict begin 134 135 bop 0 70 a Fi(CHAPTER)27 b(16.)64
b(SYNT)-7 b(AX)29 b(TREE)e(QUOT)-7 b(A)g(TIONS)27 b(IN)h(USER)g(SYNT)-7
b(AX)p 0 103 3900 4 v 0 390 a(In)25 b(that)h(example,)f(the)h(v)-5
b(ariable)24 b(")p Fb(r)p Fi(")g(is)h(of)g(t)n(yp)r(e)g(")p
Fb(Ploc.vala)40 b(bool)p Fi(",)24 b(the)h(v)-5 b(ariable)24
b(")p Fb(r)p Fi(")g(of)h(t)n(yp)r(e)h(")p Fb(Ploc.vala)39
b(\(list)0 490 y(\(patt)j(*)h(expr\)\))p Fi(")24 b(and)k(the)g(v)-5
b(ariable)26 b(")p Fb(x)p Fi(")h(of)g(t)n(yp)r(e)h(")p
Fb(MLast.expr)p Fi(".)0 689 y(...)37 b(to)28 b(b)r(e)g(completed)f(...)
1888 5656 y(134)p eop end
%%Page: 135 137
TeXDict begin 135 136 bop 0 1014 a Fd(Chapter)65 b(17)0
1431 y Fg(The)77 b(Pcaml)g(mo)6 b(dule)0 1864 y Fi(All)37
b(ab)r(out)g(language)f(parsing)f(en)n(tries,)k(language)c(prin)n(ting)
i(functions,)j(quotation)c(managemen)n(t)g(at)h(parsing)f(time,)0
1964 y(extensible)28 b(directiv)n(es,)e(extensible)i(options,)f(and)g
(generalities)g(ab)r(out)g(Camlp5.)0 2246 y Fc(17.1)136
b(Language)45 b(parsing)0 2448 y Fe(17.1.1)113 b(Main)38
b(parsing)h(functions)0 2604 y Fi(The)31 b(t)n(w)n(o)f(functions)h(b)r
(elo)n(w)g(are)f(called)g(when)h(parsing)f(an)g(in)n(terface)h(\(.mli)g
(\014le\))h(or)e(an)g(implemen)n(tation)h(\(.ml)h(\014le\))f(to)0
2703 y(build)g(the)g(syn)n(tax)e(tree;)j(the)f(returned)f(list)h(con)n
(tains)e(the)i(phrases)e(\(signature)h(items)g(or)g(structure)g
(items\))h(and)f(their)0 2803 y(lo)r(cations;)g(the)g(b)r(o)r(olean)f
(tells)h(whether)f(the)h(parser)e(has)h(encoun)n(tered)g(a)g(directiv)n
(e;)h(in)g(this)g(case,)f(since)h(the)g(directiv)n(e)0
2903 y(ma)n(y)d(c)n(hange)f(the)i(syn)n(tax,)f(the)h(parsing)e(stops,)h
(the)h(directiv)n(e)f(is)h(ev)-5 b(aluated,)27 b(and)h(this)g(function)
g(is)f(called)g(again.)0 3002 y(These)34 b(functions)g(are)f
(references,)h(b)r(ecause)g(they)g(can)f(b)r(e)i(c)n(hanged)d(to)i(use)
g(another)f(tec)n(hnology)f(than)i(the)h(Camlp5)0 3102
y(extended)28 b(grammars.)34 b(By)28 b(default,)g(they)g(use)f(the)h
(grammars)d(en)n(tries)i([implem])i(and)e([in)n(terf)6
b(])28 b(de\014ned)g(b)r(elo)n(w.)0 3292 y Fb(value)42
b(parse_interf)c(:)87 3392 y(ref)43 b(\(Stream.t)c(char)j(->)h(\(list)f
(\(MLast.sig_item)37 b(*)43 b(MLast.loc\))d(*)j(bool\)\);)201
3579 y Fi(F)-7 b(unction)28 b(called)f(when)h(parsing)e(an)h(in)n
(terface)g(\(".mli"\))h(\014le)0 3767 y Fb(value)42 b(parse_implem)c(:)
87 3867 y(ref)43 b(\(Stream.t)c(char)j(->)h(\(list)f(\(MLast.str_item)
37 b(*)43 b(MLast.loc\))d(*)j(bool\)\);)201 4054 y Fi(F)-7
b(unction)28 b(called)f(when)h(parsing)e(an)h(implemen)n(tation)h
(\(".ml"\))g(\014le)0 4295 y Fe(17.1.2)113 b(Grammar)0
4451 y Fb(value)42 b(gram)f(:)87 b(Grammar.g;)208 4587
y Fi(Grammar)26 b(v)-5 b(ariable)26 b(of)i(the)g(language.)0
4827 y Fe(17.1.3)113 b(En)m(tries)0 4983 y Fi(Grammar)25
b(en)n(tries)h(whic)n(h)g(return)g(syn)n(tax)f(trees.)36
b(These)26 b(are)g(set)g(b)n(y)g(the)h(parsing)e(kit)h(of)h(the)g
(curren)n(t)e(syn)n(tax,)h(through)0 5083 y(the)i(statemen)n(t)g
(EXTEND.)f(They)h(are)e(usable)h(b)n(y)h(other)f(p)r(ossible)g(user)g
(syn)n(tax)g(extensions.)0 5271 y Fb(value)42 b(expr)f(:)87
b(Grammar.Entry.e)38 b(MLast.expr;)208 5407 y Fi(Expressions.)1888
5656 y(135)p eop end
%%Page: 136 138
TeXDict begin 136 137 bop 0 70 a Fi(CHAPTER)27 b(17.)64
b(THE)27 b(PCAML)h(MODULE)p 0 103 3900 4 v 0 390 a Fb(value)42
b(patt)f(:)87 b(Grammar.Entry.e)38 b(MLast.patt;)208
525 y Fi(P)n(atterns.)0 696 y Fb(value)k(ctyp)f(:)87
b(Grammar.Entry.e)38 b(MLast.ctyp;)208 831 y Fi(T)n(yp)r(es.)0
1017 y Fb(value)k(sig)p 399 1017 27 4 v 30 w(item)g(:)86
b(Grammar.Entry.e)38 b(MLast.sig)p 1871 1017 V 27 w(item;)208
1152 y Fi(Signature)26 b(items,)i(i.e.)37 b(items)28
b(b)r(et)n(w)n(een)g(")p Fb(sig)p Fi(")d(and)j(")p Fb(end)p
Fi(",)d(or)i(inside)g(an)h(in)n(terface)f(\(".mli"\))g(\014le.)0
1323 y Fb(value)42 b(str)p 399 1323 V 30 w(item)g(:)86
b(Grammar.Entry.e)38 b(MLast.str)p 1871 1323 V 27 w(item;)208
1458 y Fi(Structure)27 b(items,)h(i.e.)37 b(items)28
b(b)r(et)n(w)n(een)f(")p Fb(struct)p Fi(")e(and)i(")p
Fb(end)p Fi(",)e(or)i(inside)h(an)f(implemen)n(tation)h(\(".ml"\))f
(\014le.)0 1644 y Fb(value)42 b(module)p 531 1644 V 28
w(type)g(:)87 b(Grammar.Entry.e)37 b(MLast.module)p 2133
1644 V 27 w(type;)208 1779 y Fi(Mo)r(dule)27 b(t)n(yp)r(es,)h(e.g.)36
b(signatures,)27 b(functors,)g(iden)n(ti\014ers.)0 1949
y Fb(value)42 b(module)p 531 1949 V 28 w(expr)g(:)87
b(Grammar.Entry.e)37 b(MLast.module)p 2133 1949 V 27
w(expr;)208 2084 y Fi(Mo)r(dule)27 b(expressions,)f(e.g.)37
b(structures,)27 b(functors,)g(iden)n(ti\014ers.)0 2270
y Fb(value)42 b(let)p 399 2270 V 30 w(binding)e(:)87
b(Grammar.Entry.e)37 b(\(MLast.patt)j(*)j(MLast.expr\);)208
2406 y Fi(Sp)r(eci\014c)28 b(en)n(try)f(for)g(the)h("let)f(binding",)h
(i.e.)37 b(the)27 b(asso)r(ciation)f("let)i(pattern)f(=)h(expression".)
0 2576 y Fb(value)42 b(type)p 443 2576 V 29 w(declaration)d(:)87
b(Grammar.Entry.e)37 b(MLast.type)p 2263 2576 V 28 w(decl;)208
2711 y Fi(Sp)r(eci\014c)28 b(en)n(try)f(for)g(the)h("t)n(yp)r(e)f
(declaration",)f(i.e.)37 b(the)28 b(asso)r(ciation)e("t)n(yp)r(e)h
(name)g(=)h(t)n(yp)r(e-expression")0 2897 y Fb(value)42
b(class)p 487 2897 V 29 w(sig)p 648 2897 V 30 w(item)g(:)87
b(Grammar.Entry.e)37 b(MLast.class)p 2208 2897 V 27 w(sig)p
2367 2897 V 30 w(item;)208 3032 y Fi(Class)26 b(signature)h(items,)h
(i.e.)37 b(items)27 b(of)h(class)f(ob)5 b(jects)27 b(t)n(yp)r(es.)0
3203 y Fb(value)42 b(class)p 487 3203 V 29 w(str)p 648
3203 V 30 w(item)g(:)87 b(Grammar.Entry.e)37 b(MLast.class)p
2208 3203 V 27 w(str)p 2367 3203 V 30 w(item;)208 3338
y Fi(Class)26 b(structure)h(items,)h(i.e.)37 b(items)28
b(of)g(class)e(ob)5 b(jects.)0 3508 y Fb(value)42 b(class)p
487 3508 V 29 w(type)g(:)87 b(Grammar.Entry.e)37 b(MLast.class)p
2046 3508 V 27 w(type;)208 3644 y Fi(Class)26 b(t)n(yp)r(es,)i(e.g.)36
b(ob)5 b(ject)28 b(t)n(yp)r(es,)f(class)g(t)n(yp)r(es)g(functions,)h
(iden)n(ti\014ers.)0 3814 y Fb(value)42 b(class)p 487
3814 V 29 w(expr)g(:)87 b(Grammar.Entry.e)37 b(MLast.class)p
2046 3814 V 27 w(expr;)208 3949 y Fi(Class)26 b(expressions,)g(e.g.)37
b(ob)5 b(jects,)27 b(class)f(functions,)i(iden)n(ti\014ers.)0
4135 y Fb(value)42 b(interf)f(:)86 b(Grammar.Entry.e)38
b(\(list)j(\(MLast.sig)p 2101 4135 V 28 w(item)g(*)j(MLast.loc\))39
b(*)k(bool\);)208 4270 y Fi(In)n(terface,)23 b(i.e.)35
b(\014les)24 b(with)f(extension)g(".mli".)35 b(The)23
b(lo)r(cation)g(is)g(the)g(top)h(of)f(the)g(tree.)35
b(The)24 b(b)r(o)r(olean)e(sa)n(ys)g(whether)208 4370
y(the)i(parsing)f(stopp)r(ed)h(b)r(ecause)g(of)g(the)h(presence)e(of)h
(a)g(directiv)n(e)g(\(whic)n(h)g(p)r(oten)n(tially)g(could)g(c)n(hange)
f(the)i(syn)n(tax\).)0 4540 y Fb(value)42 b(implem)f(:)86
b(Grammar.Entry.e)38 b(\(list)j(\(MLast.str)p 2101 4540
V 28 w(item)g(*)j(MLast.loc\))39 b(*)k(bool\);)208 4676
y Fi(Implemen)n(tation,)27 b(i.e.)37 b(\014les)28 b(with)g(extension)f
(".ml".)36 b(Same)28 b(remark)e(ab)r(out)h(the)h(lo)r(cation)f(and)h
(the)g(b)r(o)r(olean.)0 4846 y Fb(value)42 b(top)p 399
4846 V 30 w(phrase)f(:)87 b(Grammar.Entry.e)37 b(\(option)k(MLast.str)p
2307 4846 V 27 w(item\);)208 4981 y Fi(Phrases)25 b(of)j(the)g(OCaml)f
(in)n(teractiv)n(e)f(toplev)n(el.)37 b(Return)27 b("None")g(in)h(case)e
(of)i(end)g(of)f(\014le.)0 5152 y Fb(value)42 b(use)p
399 5152 V 30 w(file)g(:)86 b(Grammar.Entry.e)38 b(\(list)j(MLast.str)p
2132 5152 V 28 w(item)h(*)h(bool\);)208 5287 y Fi(Phrases)26
b(in)j(\014les)f(included)h(b)n(y)g(the)g(directiv)n(e)e(")p
Fb(#use)p Fi(".)38 b(The)28 b(b)r(o)r(olean)g(indicates)g(whether)h
(the)g(parsing)e(stopp)r(ed)208 5386 y(b)r(ecause)g(of)g(a)g(directiv)n
(e)g(\(as)h(for)f(")p Fb(interf)p Fi(")d(ab)r(o)n(v)n(e\).)1888
5656 y(136)p eop end
%%Page: 137 139
TeXDict begin 137 138 bop 2368 70 a Fi(CHAPTER)27 b(17.)63
b(THE)28 b(PCAML)f(MODULE)p 0 103 3900 4 v 0 390 a Fc(17.2)136
b(Language)45 b(prin)l(ting)0 589 y Fe(17.2.1)113 b(Main)38
b(prin)m(ting)g(functions)0 742 y Fi(The)26 b(t)n(w)n(o)g(function)g(b)
r(elo)n(w)g(are)f(called)h(when)h(prin)n(ting)e(an)h(in)n(terface)g
(\(.mli)h(\014le\))g(of)f(an)g(implemen)n(tation)g(\(.ml)h(\014le\))f
(from)0 842 y(the)i(syn)n(tax)f(tree;)g(the)h(list)g(is)f(the)h(result)
g(of)f(the)h(corresp)r(onding)e(parsing)g(function.)0
941 y(These)h(functions)h(are)f(references,)f(to)i(allo)n(w)e(using)i
(other)f(tec)n(hnologies)f(than)h(the)h(Camlp5)f(extended)h(prin)n
(ters.)0 1117 y Fb(value)42 b(print_interf)c(:)87 1217
y(ref)43 b(\(list)e(\(MLast.sig_item)c(*)44 b(MLast.loc\))39
b(->)k(unit\);)201 1393 y Fi(F)-7 b(unction)28 b(called)f(when)h(prin)n
(ting)f(an)g(in)n(terface)g(\(".mli"\))h(\014le)0 1569
y Fb(value)42 b(print_implem)c(:)87 1668 y(ref)43 b(\(list)e
(\(MLast.str_item)c(*)44 b(MLast.loc\))39 b(->)k(unit\);)201
1844 y Fi(F)-7 b(unction)28 b(called)f(when)h(prin)n(ting)f(an)g
(implemen)n(tation)h(\(".ml"\))f(\014le)0 2020 y(By)32
b(default,)i(these)e(functions)g(fail.)50 b(The)33 b(prin)n(ter)e(kit)h
(")p Fb(pr)p 1929 2020 27 4 v 30 w(dump.cmo)p Fi(")d(\(loaded)i(b)n(y)h
(most)g(Camlp5)g(commands\))f(sets)0 2120 y(them)j(to)g(functions)g
(dumping)g(the)g(syn)n(tax)f(tree)g(in)h(binary)f(\(for)h(the)g(OCaml)f
(compiler\).)55 b(The)34 b(prett)n(y)f(prin)n(ter)g(kits,)0
2219 y(suc)n(h)26 b(as)g(")p Fb(pr)p 422 2219 V 30 w(r.cmo)p
Fi(")e(and)i(")p Fb(pr)p 1028 2219 V 30 w(o.cmo)p Fi(")e(set)i(them)h
(to)f(functions)h(calling)e(the)i(prede\014ned)f(prin)n(ters)f(\(see)i
(next)f(section\).)0 2450 y Fe(17.2.2)113 b(Prin)m(ters)0
2604 y Fi(Prin)n(ters)20 b(taking)h(syn)n(tax)g(trees)g(as)g
(parameters)f(and)h(returning)g(prett)n(y)h(prin)n(ted)f(strings.)34
b(These)22 b(are)e(set)i(b)n(y)f(the)h(prin)n(ting)0
2703 y(kits,)g(through)d(the)i(statemen)n(t)f(EXTEND)p
1363 2703 25 4 v 30 w(PRINTER.)g(They)g(are)g(usable)f(b)n(y)h(other)g
(p)r(ossible)g(user)g(prin)n(ting)g(extensions.)0 2879
y Fb(value)42 b(pr)p 355 2879 27 4 v 30 w(expr)g(:)87
b(Eprinter.t)39 b(MLast.expr;)208 3011 y Fi(Expressions.)0
3174 y Fb(value)j(pr)p 355 3174 V 30 w(patt)g(:)87 b(Eprinter.t)39
b(MLast.patt;)208 3306 y Fi(P)n(atterns.)0 3469 y Fb(value)j(pr)p
355 3469 V 30 w(ctyp)g(:)87 b(Eprinter.t)39 b(MLast.ctyp;)208
3600 y Fi(T)n(yp)r(es.)0 3776 y Fb(value)j(pr)p 355 3776
V 30 w(sig)p 517 3776 V 30 w(item)g(:)87 b(Eprinter.t)39
b(MLast.sig)p 1771 3776 V 28 w(item;)208 3908 y Fi(Signature)26
b(items,)i(i.e.)37 b(items)28 b(b)r(et)n(w)n(een)g(")p
Fb(sig)p Fi(")d(and)j(")p Fb(end)p Fi(",)d(or)i(inside)g(an)h(in)n
(terface)f(\(".mli"\))g(\014le.)0 4071 y Fb(value)42
b(pr)p 355 4071 V 30 w(str)p 517 4071 V 30 w(item)g(:)87
b(Eprinter.t)39 b(MLast.str)p 1771 4071 V 28 w(item;)208
4203 y Fi(Structure)27 b(items,)h(i.e.)37 b(items)28
b(b)r(et)n(w)n(een)f(")p Fb(struct)p Fi(")e(and)i(")p
Fb(end)p Fi(",)e(or)i(inside)h(an)f(implemen)n(tation)h(\(".ml"\))f
(\014le.)0 4379 y Fb(value)42 b(pr)p 355 4379 V 30 w(module)p
649 4379 V 29 w(type)g(:)87 b(Eprinter.t)39 b(MLast.module)p
2034 4379 V 27 w(type;)208 4510 y Fi(Mo)r(dule)27 b(t)n(yp)r(es,)h
(e.g.)36 b(signatures,)27 b(functors,)g(iden)n(ti\014ers.)0
4673 y Fb(value)42 b(pr)p 355 4673 V 30 w(module)p 649
4673 V 29 w(expr)g(:)87 b(Eprinter.t)39 b(MLast.module)p
2034 4673 V 27 w(expr;)208 4805 y Fi(Mo)r(dule)27 b(expressions,)f
(e.g.)37 b(structures,)27 b(functors,)g(iden)n(ti\014ers.)0
4981 y Fb(value)42 b(pr)p 355 4981 V 30 w(class)p 605
4981 V 29 w(sig)p 766 4981 V 31 w(item)f(:)87 b(Eprinter.t)40
b(MLast.class)p 2109 4981 V 26 w(sig)p 2267 4981 V 31
w(item;)208 5112 y Fi(Class)26 b(signature)h(items,)h(i.e.)37
b(items)27 b(of)h(class)f(ob)5 b(jects)27 b(t)n(yp)r(es.)0
5276 y Fb(value)42 b(pr)p 355 5276 V 30 w(class)p 605
5276 V 29 w(str)p 766 5276 V 31 w(item)f(:)87 b(Eprinter.t)40
b(MLast.class)p 2109 5276 V 26 w(str)p 2267 5276 V 31
w(item;)208 5407 y Fi(Class)26 b(structure)h(items,)h(i.e.)37
b(items)28 b(of)g(class)e(ob)5 b(jects.)1888 5656 y(137)p
eop end
%%Page: 138 140
TeXDict begin 138 139 bop 0 70 a Fi(CHAPTER)27 b(17.)64
b(THE)27 b(PCAML)h(MODULE)p 0 103 3900 4 v 0 390 a Fb(value)42
b(pr)p 355 390 27 4 v 30 w(class)p 605 390 V 29 w(type)g(:)87
b(Eprinter.t)40 b(MLast.class)p 1947 390 V 26 w(type;)208
524 y Fi(Class)26 b(t)n(yp)r(es,)i(e.g.)36 b(ob)5 b(ject)28
b(t)n(yp)r(es,)f(class)g(t)n(yp)r(es)g(functions,)h(iden)n(ti\014ers.)0
693 y Fb(value)42 b(pr)p 355 693 V 30 w(class)p 605 693
V 29 w(expr)g(:)87 b(Eprinter.t)40 b(MLast.class)p 1947
693 V 26 w(expr;)208 827 y Fi(Class)26 b(expressions,)g(e.g.)37
b(ob)5 b(jects,)27 b(class)f(functions,)i(iden)n(ti\014ers.)0
1105 y Fc(17.3)136 b(Quotation)46 b(managemen)l(t)0 1288
y Fb(value)c(handle)p 531 1288 V 28 w(expr)p 735 1288
V 30 w(quotation)e(:)87 b(MLast.loc)40 b(->)i(\(string)f(*)i(string\))e
(->)i(MLast.expr;)208 1422 y Fi(Called)27 b(in)h(the)g(seman)n(tic)f
(actions)g(of)g(the)h(rules)f(parsing)f(a)i(quotation)f(in)g(p)r
(osition)h(of)f(expression.)0 1590 y Fb(value)42 b(handle)p
531 1590 V 28 w(patt)p 735 1590 V 30 w(quotation)e(:)87
b(MLast.loc)40 b(->)i(\(string)f(*)i(string\))e(->)i(MLast.patt;)208
1724 y Fi(Called)27 b(in)h(the)g(seman)n(tic)f(actions)g(of)g(the)h
(rules)f(parsing)f(a)i(quotation)f(in)g(p)r(osition)h(of)f(pattern.)0
1909 y Fb(value)42 b(quotation)p 663 1909 V 27 w(dump)p
866 1909 V 30 w(file)g(:)87 b(ref)42 b(\(option)f(string\);)208
2043 y Fi(")p Fb(Pcaml.quotatio)o(n)p 914 2043 V 25 w(dump)p
1115 2043 V 30 w(file)p Fi(")33 b(optionally)i(tells)g(the)h(compiler)f
(to)g(dump)h(the)g(result)f(of)g(an)g(expander)g(\(of)208
2142 y(kind)d("generating)e(a)i(string"\))g(if)h(this)f(result)g(is)g
(syn)n(tactically)g(incorrect.)49 b(If)33 b(")p Fb(None)p
Fi(")d(\(default\),)35 b(this)d(result)g(is)208 2242
y(not)27 b(dump)r(ed.)37 b(If)28 b(")p Fb(Some)41 b(fname)p
Fi(",)25 b(the)j(result)f(is)g(dump)r(ed)h(in)f(the)h(\014le)f(")p
Fb(fname)p Fi(".)34 b(The)27 b(same)f(e\013ect)i(can)f(b)r(e)g(done)208
2342 y(with)h(the)g(option)f(")p Fb(-QD)p Fi(")e(of)j(Camlp5)f
(commands.)0 2510 y Fb(value)42 b(quotation)p 663 2510
V 27 w(location)e(:)87 b(unit)42 b(->)h(Ploc.t;)208 2644
y Fi(While)21 b(expanding)g(a)g(quotation,)h(returns)f(the)g(lo)r
(cation)g(of)g(the)h(quotation)f(text)g(\(b)r(et)n(w)n(een)h(the)g
(quotation)e(quotes\))208 2744 y(in)27 b(the)h(source;)f(raises)f(")p
Fb(Failure)p Fi(")e(if)k(not)f(in)h(the)g(con)n(text)g(of)f(a)g
(quotation)g(expander.)0 3022 y Fc(17.4)136 b(Extensible)46
b(directiv)l(es)g(and)f(options)0 3205 y Fb(type)d(directive)p
619 3205 V 28 w(fun)g(=)h(option)e(MLast.expr)f(->)i(unit;)208
3339 y Fi(The)31 b(t)n(yp)r(e)h(of)g(functions)f(called)h(to)f(treat)g
(a)g(directiv)n(e)g(with)h(its)g(syn)n(tactic)f(parameter.)48
b(Directiv)n(es)31 b(act)g(b)n(y)g(side)208 3438 y(e\013ect.)0
3607 y Fb(value)42 b(add)p 399 3607 V 30 w(directive)e(:)86
b(string)41 b(->)i(directive)p 1827 3607 V 28 w(fun)f(->)h(unit;)208
3741 y Fi(Add)28 b(a)f(new)h(directiv)n(e.)0 3910 y Fb(value)42
b(find)p 443 3910 V 29 w(directive)e(:)87 b(string)41
b(->)i(directive)p 1871 3910 V 27 w(fun;)208 4044 y Fi(Find)28
b(the)g(function)g(asso)r(ciated)e(with)i(a)f(directiv)n(e.)37
b(Raises)26 b(")p Fb(Not)p 2330 4044 V 30 w(found)p Fi(")f(if)j(the)g
(directiv)n(e)f(do)r(es)g(not)h(exists.)0 4228 y Fb(value)42
b(add)p 399 4228 V 30 w(option)f(:)87 b(string)41 b(->)h(Arg.spec)f(->)
h(string)g(->)g(unit;)208 4362 y Fi(Add)28 b(an)f(option)g(to)h(the)g
(command)f(line)h(of)f(the)h(Camlp5)f(command.)0 4640
y Fc(17.5)136 b(Equalities)47 b(o)l(v)l(er)e(syn)l(tax)h(trees)0
4823 y Fi(These)27 b(equalities)g(skip)h(the)g(lo)r(cations.)0
5009 y Fb(value)42 b(eq_expr)e(:)j(MLast.expr)d(->)j(MLast.expr)c(->)k
(bool;)0 5108 y(value)f(eq_patt)e(:)j(MLast.patt)d(->)j(MLast.patt)c
(->)k(bool;)0 5208 y(value)f(eq_ctyp)e(:)j(MLast.ctyp)d(->)j
(MLast.ctyp)c(->)k(bool;)0 5308 y(value)f(eq_str_item)d(:)k
(MLast.str_item)38 b(->)k(MLast.str_item)c(->)43 b(bool;)0
5407 y(value)f(eq_sig_item)d(:)k(MLast.sig_item)38 b(->)k
(MLast.sig_item)c(->)43 b(bool;)1888 5656 y Fi(138)p
eop end
%%Page: 139 141
TeXDict begin 139 140 bop 2368 70 a Fi(CHAPTER)27 b(17.)63
b(THE)28 b(PCAML)f(MODULE)p 0 103 3900 4 v 0 390 a Fb(value)42
b(eq_module_expr)37 b(:)43 b(MLast.module_expr)37 b(->)43
b(MLast.module_exp)o(r)37 b(->)43 b(bool;)0 490 y(value)f
(eq_module_type)37 b(:)43 b(MLast.module_type)37 b(->)43
b(MLast.module_typ)o(e)37 b(->)43 b(bool;)0 589 y(value)f
(eq_class_sig_it)o(em)37 b(:)43 b(MLast.class_sig_i)o(te)o(m)38
b(->)k(MLast.class_sig_i)o(te)o(m)c(->)k(bool;)0 689
y(value)g(eq_class_str_it)o(em)37 b(:)43 b(MLast.class_str_i)o(te)o(m)
38 b(->)k(MLast.class_str_i)o(te)o(m)c(->)k(bool;)0 789
y(value)g(eq_class_type)c(:)43 b(MLast.class_type)37
b(->)43 b(MLast.class_typ)o(e)38 b(->)k(bool;)0 888 y(value)g
(eq_class_expr)c(:)43 b(MLast.class_expr)37 b(->)43 b(MLast.class_exp)o
(r)38 b(->)k(bool;)0 1163 y Fc(17.6)136 b(Generalities)0
1345 y Fb(value)42 b(version)e(:)87 b(string;)208 1478
y Fi(The)27 b(curren)n(t)g(v)n(ersion)f(of)i(Camlp5.)0
1660 y Fb(value)42 b(syntax)p 531 1660 27 4 v 28 w(name)g(:)87
b(ref)42 b(string;)208 1793 y Fi(The)27 b(name)h(of)f(the)h(curren)n(t)
f(syn)n(tax.)36 b(Set)28 b(b)n(y)f(the)h(loaded)f(syn)n(tax)g(kit.)0
1976 y Fb(value)42 b(input)p 487 1976 V 29 w(file)g(:)87
b(ref)42 b(string;)208 2109 y Fi(The)27 b(\014le)h(curren)n(tly)f(b)r
(eing)g(parsed.)0 2291 y Fb(value)42 b(output)p 531 2291
V 28 w(file)g(:)87 b(ref)42 b(\(option)f(string\);)208
2424 y Fi(The)27 b(output)h(\014le,)g(stdout)g(if)g(None)f
(\(default\).)0 2607 y Fb(value)42 b(no)p 355 2607 V
30 w(constructors)p 913 2607 V 26 w(arity)g(:)87 b(ref)42
b(bool;)208 2739 y Fi(T)-7 b(rue)26 b(if)h(the)g(curren)n(t)e(syn)n
(tax)h(do)r(es)g(not)h(generate)e(constructor)g(arit)n(y)-7
b(,)26 b(whic)n(h)g(is)h(the)f(case)g(of)h(the)f(normal)g(syn)n(tax,)
208 2839 y(and)36 b(not)h(of)f(the)i(revised)d(one.)64
b(This)37 b(has)f(an)g(impact)h(when)g(con)n(v)n(erting)e(Camlp5)h(syn)
n(tax)g(tree)g(in)n(to)h(OCaml)208 2939 y(compiler)26
b(syn)n(tax)h(tree.)1888 5656 y(139)p eop end
%%Page: 140 142
TeXDict begin 140 141 bop eop end
%%Page: 141 143
TeXDict begin 141 142 bop 0 1014 a Fd(Chapter)65 b(18)0
1430 y Fg(Extensions)76 b(of)i(syn)-6 b(tax)0 1863 y
Fi(Camlp5)27 b(allo)n(ws)f(one)h(to)h(extend)g(the)g(syn)n(tax)e(of)i
(the)g(OCaml)f(language,)f(and)h(ev)n(en)g(c)n(hange)g(the)h(en)n(tire)
f(syn)n(tax.)0 2064 y(It)h(uses)f(for)g(that)h(one)f(of)h(its)g
(parsing)e(to)r(ols:)36 b(the)28 b(extensible)g(grammars.)0
2265 y(T)-7 b(o)26 b(understand)g(the)g(whole)g(syn)n(tax)f(in)i(the)f
(examples)g(giv)n(en)f(in)i(this)f(c)n(hapter,)g(it)g(is)g(go)r(o)r(d)g
(to)g(understand)g(this)g(parsing)0 2365 y(to)r(ol)k(\(the)h
(extensible)g(grammars\),)e(but)i(w)n(e)f(shall)g(try)h(to)f(giv)n(e)g
(some)f(minimal)i(explanations)f(to)g(allo)n(w)f(the)i(reader)e(to)0
2464 y(follo)n(w)e(them.)0 2665 y(A)h(syn)n(tax)e(extension)h(is)h(an)f
(OCaml)g(ob)5 b(ject)27 b(\014le)h(\(ending)f(with)h(".cmo")e(or)h
(".cma"\))g(whic)n(h)g(is)g(loaded)g(inside)h(Camlp5.)0
2765 y(The)d(source)f(of)g(this)i(\014le)f(uses)f(calls)g(to)h(the)g
(sp)r(eci\014c)g(statemen)n(t)g(EXTEND)g(applied)g(to)g(en)n(tries)f
(de\014ned)h(in)g(the)h(Camlp5)0 2865 y(mo)r(dule)i(")p
Fb(Pcaml)p Fi(".)0 3144 y Fc(18.1)136 b(En)l(tries)0
3328 y Fi(The)26 b(grammar)e(of)i(OCaml)g(con)n(tains)f(sev)n(eral)f
(en)n(tries,)i(corresp)r(onding)e(to)i(the)g(ma)5 b(jor)25
b(notions)h(of)g(the)g(language,)f(whic)n(h)0 3428 y(are)i(mo)r
(di\014able)g(this)h(w)n(a)n(y)-7 b(,)27 b(and)g(ev)n(en)g(erasable.)35
b(They)28 b(are)e(de\014ned)i(in)g(this)g(mo)r(dule)g(")p
Fb(Pcaml)p Fi(".)0 3629 y(Most)f(imp)r(ortan)n(t)h(en)n(tries:)125
3815 y Fh(\017)41 b Fb(expr)p Fi(:)35 b(the)28 b(expressions.)125
3985 y Fh(\017)41 b Fb(patt)p Fi(:)35 b(the)28 b(patterns.)125
4155 y Fh(\017)41 b Fb(ctyp)p Fi(:)35 b(the)28 b(t)n(yp)r(es.)125
4325 y Fh(\017)41 b Fb(str)p 345 4325 27 4 v 30 w(item)p
Fi(:)35 b(the)28 b(structure)e(items,)i(i.e.)37 b(the)28
b(items)f(b)r(et)n(w)n(een)h("struct")e(and)h("end",)g(and)g(the)h
(toplev)n(el)f(phrases)f(in)208 4425 y(a)h(".ml")g(\014le.)125
4595 y Fh(\017)41 b Fb(sig)p 345 4595 V 30 w(item)p Fi(:)e(the)30
b(signature)e(items,)j(i.e.)43 b(the)30 b(items)g(b)r(et)n(w)n(een)f
("sig")f(and)i("end",)f(and)g(the)h(toplev)n(el)f(phrases)g(in)g(a)208
4694 y(".mli")e(\014le.)125 4864 y Fh(\017)41 b Fb(module)p
477 4864 V 28 w(expr)p Fi(:)36 b(the)28 b(mo)r(dule)g(expressions.)125
5034 y Fh(\017)41 b Fb(module)p 477 5034 V 28 w(type)p
Fi(:)36 b(the)28 b(mo)r(dule)g(t)n(yp)r(es.)0 5221 y(En)n(tries)f(of)g
(ob)5 b(ject)27 b(programming:)125 5407 y Fh(\017)41
b Fb(class)p 433 5407 V 29 w(expr)p Fi(:)35 b(the)28
b(class)f(expressions.)1888 5656 y(141)p eop end
%%Page: 142 144
TeXDict begin 142 143 bop 0 70 a Fi(CHAPTER)27 b(18.)64
b(EXTENSIONS)27 b(OF)h(SYNT)-7 b(AX)p 0 103 3900 4 v
125 390 a Fh(\017)41 b Fb(class)p 433 390 27 4 v 29 w(type)p
Fi(:)35 b(the)28 b(class)f(t)n(yp)r(es.)125 556 y Fh(\017)41
b Fb(class)p 433 556 V 29 w(str)p 594 556 V 30 w(item)p
Fi(:)35 b(the)28 b(ob)5 b(jects)27 b(items.)125 721 y
Fh(\017)41 b Fb(class)p 433 721 V 29 w(sig)p 594 721
V 30 w(item)p Fi(:)35 b(the)28 b(ob)5 b(jects)27 b(t)n(yp)r(es)h
(items.)0 903 y(Main)f(en)n(tries)g(of)h(\014les)f(and)h(in)n(teractiv)
n(e)e(toplev)n(el)h(parsing:)125 1085 y Fh(\017)41 b
Fb(implem)p Fi(:)34 b(the)28 b(phrases)e(that)i(can)f(b)r(e)h(found)g
(in)g(a)f(".ml")g(\014le.)125 1250 y Fh(\017)41 b Fb(interf)p
Fi(:)34 b(the)28 b(phrases)e(that)i(can)f(b)r(e)h(found)g(in)g(a)f
(".mli")g(\014le.)125 1416 y Fh(\017)41 b Fb(top)p 345
1416 V 30 w(phrase)p Fi(:)34 b(the)28 b(phrases)e(of)i(the)g(in)n
(teractiv)n(e)e(toplev)n(el.)125 1581 y Fh(\017)41 b
Fb(use)p 345 1581 V 30 w(file)p Fi(:)35 b(the)28 b(phrases)e(that)i
(can)f(b)r(e)h(found)g(in)g(a)f(\014le)h(included)g(b)n(y)g(the)g
(directiv)n(e)e("use".)0 1763 y(Extra)g(useful)i(en)n(tries)f(also)g
(accessible:)125 1945 y Fh(\017)41 b Fb(let)p 345 1945
V 30 w(binding)p Fi(:)34 b(the)28 b(bindings)f("expression)f(=)h
(pattern")g(found)h(in)g(the)g("let")f(statemen)n(t.)125
2110 y Fh(\017)41 b Fb(type)p 389 2110 V 29 w(declaration)p
Fi(:)33 b(the)28 b(bindings)f("name)g(=)g(t)n(yp)r(e")h(found)g(in)f
(the)h("t)n(yp)r(e")f(statemen)n(t.)0 2385 y Fc(18.2)136
b(Syn)l(tax)45 b(tree)h(quotations)0 2566 y Fi(A)32 b(grammar)f(rule)g
(is)h(a)g(list)g(of)g(rule)g(sym)n(b)r(ols)f(follo)n(w)n(ed)g(b)n(y)h
(the)h(seman)n(tic)e(action,)i(i.e.)50 b(the)33 b(result)f(of)g(the)g
(rule.)50 b(This)0 2666 y(result)33 b(is)g(a)f(syn)n(tax)g(tree,)i
(whose)f(t)n(yp)r(e)g(is)g(the)g(t)n(yp)r(e)h(of)f(the)g(extended)g(en)
n(try)-7 b(.)53 b(The)33 b(description)f(of)h(the)h(t)n(yp)r(es)f(of)g
(the)0 2766 y(syn)n(tax)27 b(tree)g(are)g(in)g(the)h(Camlp5)f(mo)r
(dule)h(")p Fb(MLast)p Fi(".)0 2965 y(There)39 b(is)g(ho)n(w)n(ev)n(er)
e(a)h(simpler)h(w)n(a)n(y)f(to)h(mak)n(e)f(v)-5 b(alues)39
b(of)g(these)g(syn)n(tax)f(tree)h(t)n(yp)r(es:)60 b(the)39
b(system)g(quotations)f(\(see)0 3065 y(c)n(hapters)d(ab)r(out)h
(quotations)e(and)i(syn)n(tax)f(tree\).)62 b(With)36
b(this)h(system,)g(it)g(is)e(p)r(ossible)h(to)g(represen)n(t)e(syn)n
(tax)h(tree)h(in)0 3164 y(concrete)27 b(syn)n(tax,)f(b)r(et)n(w)n(een)i
(sp)r(eci\014c)g(paren)n(theses,)e(namely)h(")p Fb(<<)p
Fi(")f(and)i(")p Fb(>>)p Fi(",)e(or)g(b)r(et)n(w)n(een)i(")p
Fb(<:name<)p Fi(")c(and)j(")p Fb(>>)p Fi(".)0 3363 y(F)-7
b(or)27 b(example,)g(the)h(syn)n(tax)f(no)r(de)h(of)f(the)h("if")f
(statemen)n(t)h(is,)f(normally:)87 3545 y Fb(MLast.ExIfe)39
b(loc)k(e1)f(e2)h(e3)0 3727 y Fi(where)36 b(lo)r(c)h(is)g(the)g(source)
f(lo)r(cation,)i(and)f(e1,)i(e2,)f(e3)f(are)f(the)h(expressions)e
(constituting)i(the)g(if)h(statemen)n(t.)64 b(With)0
3826 y(quotations,)31 b(it)h(is)f(p)r(ossible)f(to)h(write)g(it)h(lik)n
(e)e(this)i(\(whic)n(h)f(is)g(stricly)g(equiv)-5 b(alen)n(t)30
b(b)r(ecause)h(this)g(is)g(ev)-5 b(aluated)31 b(at)g(parse)0
3926 y(time,)d(not)g(execution)f(time\):)87 4107 y Fb(<:expr<)41
b(if)i($e1$)f(then)f($e2$)h(else)g($e3$)g(>>)0 4289 y
Fi(With)36 b(quotations,)h(it)f(is)f(p)r(ossible)h(to)f(build)h(pieces)
f(of)h(program)d(as)i(complex)g(as)g(desired.)60 b(See)36
b(the)f(c)n(hapter)g(ab)r(out)0 4389 y(syn)n(tax)27 b(trees.)0
4663 y Fc(18.3)136 b(An)44 b(example)i(:)60 b(rep)t(eat..un)l(til)0
4845 y Fi(A)34 b(classical)f(extension)g(is)h(the)g(creation)e(of)i
(the)g("rep)r(eat")f(statemen)n(t.)55 b(The)34 b("rep)r(eat")f
(statemen)n(t)g(is)h(lik)n(e)f(a)h("while")0 4944 y(except)26
b(that)g(the)g(lo)r(op)f(is)h(executed)g(at)g(least)f(one)g(time)i(and)
e(that)h(the)h(test)f(is)f(at)h(the)g(end)g(of)g(the)g(lo)r(op)g(and)f
(is)h(in)n(v)n(erted.)0 5044 y(The)i(equiv)-5 b(alen)n(t)27
b(of:)87 5226 y Fb(repeat)41 b(x;)i(y;)g(z)g(until)e(c)0
5407 y Fi(is:)1888 5656 y(142)p eop end
%%Page: 143 145
TeXDict begin 143 144 bop 2214 70 a Fi(CHAPTER)27 b(18.)64
b(EXTENSIONS)27 b(OF)h(SYNT)-7 b(AX)p 0 103 3900 4 v
87 390 a Fb(do)43 b({)174 490 y(x;)g(y;)g(z;)174 589
y(while)f(not)g(c)h(do)g({)g(x;)g(y;)g(z)g(})87 689 y(})0
850 y Fi(or,)27 b(with)h(a)f(lo)r(op:)87 1011 y Fb(loop)42
b(\(\))h(where)e(rec)i(loop)f(\(\))g(=)i(do)e({)174 1110
y(x;)h(y;)g(z;)174 1210 y(if)g(c)g(then)f(\(\))h(else)f(loop)g(\(\))87
1310 y(})0 1538 y Fe(18.3.1)113 b(The)37 b(co)s(de)0
1691 y Fi(This)d(syn)n(tax)f(extension)g(could)g(b)r(e)i(written)f(lik)
n(e)f(this)h(\(see)g(the)g(detail)g(of)f(syn)n(tax)g(in)h(the)g(c)n
(hapter)f(ab)r(out)h(extensible)0 1791 y(grammars)25
b(and)j(the)g(syn)n(tax)e(tree)i(quotations)e(in)i(the)g(c)n(hapter)f
(ab)r(out)g(them\):)87 1952 y Fb(#load)42 b("pa_extend.cmo")o(;)87
2051 y(#load)g("q_MLast.cmo";)87 2151 y(open)g(Pcaml;)87
2251 y(EXTEND)174 2350 y(expr:)262 2450 y([)h([)g("repeat";)d(el)i(=)i
(LIST1)d(expr)h(SEP)g(";";)g("until";)f(c)i(=)g(expr)f(->)523
2550 y(let)g(el)h(=)g(el)g(@)g([<:expr<)e(while)g(not)h($c$)h(do)f({)i
($list:el$)c(})j(>>])f(in)523 2649 y(<:expr<)f(do)h({)i($list:el$)c(})j
(>>)f(])i(])174 2749 y(;)87 2848 y(END;)0 3009 y Fi(Alternativ)n(ely)-7
b(,)27 b(with)h(the)g(lo)r(op)f(v)n(ersion:)87 3170 y
Fb(#load)42 b("pa_extend.cmo")o(;)87 3270 y(#load)g("q_MLast.cmo";)87
3369 y(open)g(Pcaml;)87 3469 y(EXTEND)174 3569 y(expr:)262
3668 y([)h([)g("repeat";)d(el)i(=)i(LIST1)d(expr)h(SEP)g(";";)g
("until";)f(c)i(=)g(expr)f(->)523 3768 y(let)g(el)h(=)g(el)g(@)g
([<:expr<)e(if)h($c$)h(then)f(\(\))g(else)g(loop)g(\(\))h(>>])f(in)523
3867 y(<:expr<)f(loop)h(\(\))g(where)g(rec)g(loop)g(\(\))h(=)g(do)g({)g
($list:el$)d(})j(>>)g(])g(])174 3967 y(;)87 4067 y(END;)0
4227 y Fi(The)25 b(\014rst)g(")p Fb(#load)p Fi(")d(in)j(the)g(co)r(de)g
(\(in)g(b)r(oth)h(\014les\))f(means)f(that)i(a)e(syn)n(tax)g(extension)
h(has)f(b)r(een)h(used)g(in)g(the)h(\014le,)f(namely)0
4327 y(the)f("EXTEND")f(statemen)n(t.)36 b(The)24 b(second)f(")p
Fb(#load)p Fi(")e(means)i(that)h(abstract)f(tree)g(quotations)g(has)h
(b)r(een)g(used,)g(namely)0 4427 y(the)k(")p Fb(<:expr<)40
b(...)86 b(>>)p Fi(".)0 4626 y(The)28 b(quotation,)f(found)h(in)f(the)h
(second)f(v)n(ersion:)87 4787 y Fb(<:expr<)41 b(loop)h(\(\))h(where)e
(rec)h(loop)g(\(\))h(=)g(do)g({)g($list:el$)d(})j(>>)0
4948 y Fi(is)27 b(esp)r(ecially)h(in)n(teresting.)36
b(W)-7 b(ritten)28 b(with)g(abstract)f(syn)n(tax)f(tree,)i(it)g(w)n
(ould)f(b)r(e:)87 5108 y Fb(MLast.ExLet)39 b(loc)k(True)174
5208 y([\(MLast.PaLid)c(loc)j("loop",)262 5308 y(MLast.ExFun)d(loc)j
([\(MLast.PaUid)c(loc)k("\(\)",)g(None,)f(MLast.ExSeq)f(loc)i(el\)]\)])
174 5407 y(\(MLast.ExApp)d(loc)j(\(MLast.ExLid)d(loc)j("loop"\))f
(\(MLast.ExUid)e(loc)j("\(\)"\)\);)1888 5656 y Fi(143)p
eop end
%%Page: 144 146
TeXDict begin 144 145 bop 0 70 a Fi(CHAPTER)27 b(18.)64
b(EXTENSIONS)27 b(OF)h(SYNT)-7 b(AX)p 0 103 3900 4 v
0 390 a(This)39 b(sho)n(ws)e(the)i(in)n(terest)f(of)h(writing)f
(abstract)f(syn)n(tax)h(tree)g(with)h(quotations:)58
b(it)39 b(is)g(easier)e(to)h(program)f(and)h(to)0 490
y(understand.)0 749 y Fe(18.3.2)113 b(Compilation)0 911
y Fi(If)28 b(the)g(\014le)g("fo)r(o.ml")e(con)n(tains)h(one)g(of)h
(these)f(v)n(ersions,)f(it)i(is)g(p)r(ossible)f(to)h(compile)f(it)h
(lik)n(e)f(this:)87 1119 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(-I)j(+camlp5)
e(-c)i(foo.ml)0 1322 y Fi(Notice)23 b(that)h(the)g(o)r(camlc)e(option)h
("-c")f(means)h(that)h(w)n(e)f(are)f(in)n(terested)h(only)g(in)g
(generating)f(the)i(ob)5 b(ject)23 b(\014le)h("fo)r(o.cmo",)0
1421 y(not)j(ac)n(hieving)e(the)i(compilation)f(b)n(y)g(creating)g(an)g
(executable.)36 b(An)n(yw)n(a)n(y)26 b(the)h(link)f(w)n(ould)h(not)f(w)
n(ork)f(b)r(ecause)i(of)f(usage)0 1521 y(of)i(mo)r(dules)f(sp)r
(eci\014c)h(to)f(Camlp5.)0 1780 y Fe(18.3.3)113 b(T)-9
b(esting)0 1942 y Ff(In)32 b(the)g(OCaml)f(toplev)m(el)87
2105 y Fb(ocaml)42 b(-I)g(+camlp5)f(camlp5r.cma)436 2204
y(Objective)f(Caml)i(version)e(...)436 2404 y(Camlp5)h(Parsing)g
(version)f(...)87 2603 y(#)j(#load)f("foo.cmo";)87 2703
y(#)h(value)f(x)h(=)g(ref)g(42;)87 2802 y(value)f(x)h(:)g(ref)f(int)h
(=)g({val=42})87 2902 y(#)g(repeat)262 3001 y(print_int)c(x.val;)i
(print_endline)e("";)j(x.val)g(:=)g(x.val)g(+)h(3)174
3101 y(until)f(x.val)f(>)j(70;)87 3201 y(42)87 3300 y(45)87
3400 y(48)87 3500 y(51)87 3599 y(54)87 3699 y(57)87 3798
y(60)87 3898 y(63)87 3998 y(66)87 4097 y(69)87 4197 y(-)f(:)h(unit)d(=)
j(\(\))0 4439 y Ff(In)32 b(a)g(\014le)0 4602 y Fi(The)c(co)r(de,)f(ab)r
(o)n(v)n(e,)f(used)i(in)g(the)g(toplev)n(el,)f(can)g(b)r(e)h(written)g
(in)g(a)f(\014le,)h(sa)n(y)e("bar.ml":)87 4809 y Fb(#load)42
b("./foo.cmo";)87 4909 y(value)g(x)h(=)g(ref)f(42;)87
5009 y(repeat)174 5108 y(print_int)e(x.val;)174 5208
y(print_endline)f("";)174 5308 y(x.val)j(:=)h(x.val)e(+)i(3)87
5407 y(until)f(x.val)f(>)i(70;)1888 5656 y Fi(144)p eop
end
%%Page: 145 147
TeXDict begin 145 146 bop 2214 70 a Fi(CHAPTER)27 b(18.)64
b(EXTENSIONS)27 b(OF)h(SYNT)-7 b(AX)p 0 103 3900 4 v
0 390 a(with)24 b(a)g(subtile)g(di\013erence:)35 b(the)25
b(loaded)e(\014le)h(m)n(ust)g(b)r(e)h(")p Fb(./foo.cmo)p
Fi(")19 b(and)24 b(not)g(just)g(")p Fb(foo.cmo)p Fi(")c(b)r(ecause)k
(Camlp5)f(do)r(es)0 490 y(not)28 b(ha)n(v)n(e,)e(b)n(y)h(default,)h
(the)g(curren)n(t)f(directory)g(in)g(its)h(path.)0 689
y(The)g(\014le)f(can)h(b)r(e)g(compiled)f(lik)n(e)g(this:)87
872 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(bar.ml)0 1054 y
Fi(or)27 b(in)h(nativ)n(e)f(co)r(de:)87 1237 y Fb(ocamlopt)40
b(-pp)j(camlp5r)d(bar.ml)0 1420 y Fi(And)28 b(it)g(is)g(p)r(ossible)f
(to)g(c)n(hec)n(k)g(the)h(resulting)f(program)f(b)n(y)h(t)n(yping:)87
1602 y Fb(camlp5r)41 b(pr_r.cmo)f(bar.ml)0 1785 y Fi(whose)27
b(displa)n(y)n(ed)f(result)i(is:)87 1968 y Fb(#load)42
b("./foo.cmo";)87 2067 y(value)g(x)h(=)g(ref)f(42;)87
2167 y(do)h({)174 2267 y(print_int)d(x.val;)174 2366
y(print_endline)f("";)174 2466 y(x.val)j(:=)h(x.val)e(+)i(3;)174
2565 y(while)f(not)g(\(x.val)f(>)i(70\))g(do)g({)262
2665 y(print_int)c(x.val;)262 2765 y(print_endline)f("";)262
2864 y(x.val)j(:=)i(x.val)e(+)i(3)174 2964 y(})87 3064
y(};)0 3246 y Fi(See)28 b(also)e(the)i(same)f(example)g(prett)n(y)h
(prin)n(ted)f(in)h(its)g(original)e(syn)n(tax,)g(using)i(the)g
(extendable)f(programs)e(prin)n(ting.)1888 5656 y(145)p
eop end
%%Page: 146 148
TeXDict begin 146 147 bop eop end
%%Page: 147 149
TeXDict begin 147 148 bop 0 1013 a Fd(Chapter)65 b(19)0
1428 y Fg(Extensions)76 b(of)i(prin)-6 b(ting)0 1860
y Fi(Camlp5)26 b(pro)n(vides)f(extensions)i(kits)f(to)h(prett)n(y)f
(prin)n(t)h(programs)d(in)j(revised)f(syn)n(tax)g(and)h(normal)e(syn)n
(tax.)36 b(Some)27 b(other)0 1959 y(extensions)32 b(kits)h(also)f(allo)
n(w)g(to)h(rebuild)g(the)h(parsers,)e(or)h(the)g(EXTEND)g(statemen)n
(ts)g(in)g(their)g(initial)h(syn)n(tax.)52 b(The)0 2059
y(prett)n(y)30 b(prin)n(t)h(system)f(is)h(itself)g(extensible,)h(b)n(y)
e(adding)g(new)h(rules.)45 b(W)-7 b(e)31 b(presen)n(t)f(here)h(ho)n(w)f
(it)h(w)n(orks)e(in)i(the)g(Camlp5)0 2159 y(sources.)0
2358 y(The)h(prett)n(y)f(prin)n(t)h(system)f(of)h(Camlp5)f(uses)g(the)h
(library)e(mo)r(dules)i(Prett)n(y)-7 b(,)32 b(an)f(original)f(system)i
(to)f(format)g(output\))0 2457 y(and)c(Extfun,)h(another)f(original)f
(system)h(of)h(extensible)g(functions.)0 2657 y(This)i(c)n(hapter)e(is)
i(designed)f(for)g(programmers)e(that)j(w)n(an)n(t)f(to)h(understand)f
(ho)n(w)g(the)h(prett)n(y)f(prin)n(ting)h(of)f(OCaml)g(pro-)0
2756 y(grams)40 b(w)n(ork)f(in)i(Camlp5,)j(w)n(an)n(t)d(to)g(adapt,)j
(mo)r(dify)d(or)f(debug)h(it,)k(or)40 b(w)n(an)n(t)h(to)g(add)f(their)h
(o)n(wn)g(prett)n(y)f(prin)n(ting)0 2856 y(extensions.)0
3129 y Fc(19.1)136 b(In)l(tro)t(duction)0 3311 y Fi(The)25
b(\014les)f(doing)g(the)h(prett)n(y)g(prin)n(tings)f(are)f(lo)r(cated)i
(in)g(Camlp5)f(sources)f(in)i(the)g(directory)e("etc".)35
b(P)n(eruse)23 b(them)j(if)f(y)n(ou)0 3410 y(are)i(in)n(terested)g(in)h
(creating)e(new)i(ones.)36 b(The)28 b(main)f(ones)g(are:)125
3585 y Fh(\017)41 b Fi("etc/pr)p 482 3585 25 4 v 28 w(r.ml":)36
b(prett)n(y)28 b(prin)n(t)f(in)h(revised)f(syn)n(tax.)125
3747 y Fh(\017)41 b Fi("etc/pr)p 482 3747 V 28 w(o.ml":)36
b(prett)n(y)28 b(prin)n(t)f(in)h(normal)f(syn)n(tax.)125
3910 y Fh(\017)41 b Fi("etc/pr)p 482 3910 V 28 w(rp.ml":)c(rebuilding)
27 b(parsers)f(in)h(their)h(original)e(revised)h(syn)n(tax.)125
4072 y Fh(\017)41 b Fi("etc/pr)p 482 4072 V 28 w(op.ml":)c(rebuilding)
27 b(parsers)f(in)h(their)h(original)e(normal)h(syn)n(tax.)125
4235 y Fh(\017)41 b Fi("etc/pr)p 482 4235 V 28 w(extend.ml":)c
(rebuilding)27 b(EXTEND)h(in)g(its)g(original)e(syn)n(tax.)0
4409 y(W)-7 b(e)27 b(presen)n(t)f(here)g(ho)n(w)g(this)h(system)f(w)n
(orks)f(inside)i(these)f(\014les.)37 b(First,)27 b(the)g(general)e
(principles.)36 b(Second,)27 b(more)e(details)0 4509
y(of)j(the)g(implemen)n(tation.)0 4782 y Fc(19.2)136
b(Principles)0 4980 y Fe(19.2.1)113 b(Using)38 b(mo)s(dule)g(Prett)m(y)
0 5133 y Fi(All)30 b(functions)g(in)g(OCaml)f(prett)n(y)h(prin)n(ting)f
(tak)n(e)g(a)g(parameter)f(named)i("the)f(prin)n(ting)h(con)n(text")f
(\(v)-5 b(ariable)28 b Fb(pc)p Fi(\).)43 b(It)30 b(is)0
5233 y(a)d(record)f(holding)i(:)125 5407 y Fh(\017)41
b Fi(The)27 b(curren)n(t)g(indendation)h(:)37 b Fb(pc.ind)1888
5656 y Fi(147)p eop end
%%Page: 148 150
TeXDict begin 148 149 bop 0 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 125
390 a Fh(\017)41 b Fi(What)27 b(should)h(b)r(e)g(prin)n(ted)f(b)r
(efore,)h(in)g(the)g(same)f(line)g(:)37 b Fb(pc.bef)125
556 y Fh(\017)k Fi(What)27 b(should)h(b)r(e)g(prin)n(ted)f(after,)h(in)
g(the)g(same)f(line)g(:)37 b Fb(pc.aft)125 721 y Fh(\017)k
Fi(The)27 b(dangling)g(tok)n(en,)g(useful)h(in)g(normal)e(syn)n(tax)h
(to)h(kno)n(w)e(whether)i(paren)n(theses)e(are)h(necessary)f(:)36
b Fb(pc.dang)0 902 y Fi(A)20 b(t)n(ypical)f(prett)n(y)g(prin)n(ting)g
(function)h(calls)f(the)g(function)h Fb(horiz)p 2065
902 27 4 v 30 w(vertic)d Fi(of)i(the)h(library)e(mo)r(dule)i(Prett)n(y)
-7 b(.)33 b(This)20 b(function)0 1002 y(tak)n(es)27 b(t)n(w)n(o)f
(functions)i(as)f(parameter:)125 1183 y Fh(\017)41 b
Fi(The)27 b(w)n(a)n(y)g(to)g(prin)n(t)h(the)f(data)h(in)f(one)h(only)f
(line)h(\()p Fa(horizontal)38 b Fi(prin)n(ting\))125
1349 y Fh(\017)j Fi(The)27 b(w)n(a)n(y)g(to)g(prin)n(t)h(the)f(data)h
(in)f(t)n(w)n(o)g(or)g(more)g(lines)g(\()p Fa(vertic)l(al)38
b Fi(prin)n(ting\))0 1530 y(Both)g(functions)g(catenate)g(the)h
(strings)e(b)n(y)h(using)g(the)g(function)h Fb(sprintf)c
Fi(of)j(the)h(library)e(mo)r(dule)h Fb(Pretty)e Fi(whic)n(h)0
1630 y(con)n(trols)e(whether)h(the)h(prin)n(ted)f(data)g(holds)f(in)i
(the)g(line)f(or)g(not.)59 b(They)36 b(generally)d(call,)k(recursiv)n
(ely)-7 b(,)36 b(other)e(prett)n(y)0 1729 y(prin)n(ting)27
b(functions)h(with)g(the)g(same)f(b)r(eha)n(viour.)0
1929 y(Let)g(us)g(see)g(an)g(example)g(\(\014ctitious\))h(of)f(prin)n
(ting)f(an)h(OCaml)g(application.)36 b(Let)27 b(us)g(supp)r(ose)g(w)n
(e)g(ha)n(v)n(e)f(an)h(application)0 2028 y(expression)37
b(")p Fb(e1)42 b(e2)p Fi(")37 b(to)i(prett)n(y)f(prin)n(t)g(where)g
Fb(e1)f Fi(and)i Fb(e2)e Fi(are)h(sub-expressions.)67
b(If)38 b(b)r(oth)h(expressions)e(and)h(their)0 2128
y(application)27 b(holds)g(on)g(one)h(only)f(line,)h(w)n(e)f(w)n(an)n
(t)g(to)g(see:)87 2309 y Fb(e1)43 b(e2)0 2490 y Fi(On)33
b(the)h(other)f(hand,)h(if)g(they)g(do)f(not)g(hold)g(on)g(one)g(only)g
(line,)i(w)n(e)e(w)n(an)n(t)g(to)g(see)g Fb(e2)g Fi(in)g(another)g
(line)g(with,)j(sa)n(y)-7 b(,)33 b(an)0 2590 y(indendation)28
b(of)f(2)g(spaces:)87 2771 y Fb(e1)174 2871 y(e2)0 3052
y Fi(Here)i(is)h(a)f(p)r(ossible)g(implemen)n(tation.)42
b(The)30 b(function)g(has)f(b)r(een)h(named)f Fb(expr)p
2597 3052 V 30 w(app)f Fi(and)i(can)f(call)g(the)h(function)g
Fb(expr)0 3152 y Fi(to)d(prin)n(t)h(the)g(sub-expressions)d
Fb(e1)i Fi(and)h Fb(e2)p Fi(:)87 3333 y Fb(value)42 b(expr_app)e(pc)j
(e1)f(e2)h(=)174 3433 y(horiz_vertic)262 3532 y(\(fun)e(\(\))i(->)392
3632 y(let)g(s1)f(=)i(expr)d({\(pc\))h(with)g(aft)g(=)h(""})g(e1)g(in)
392 3732 y(let)g(s2)f(=)i(expr)d({\(pc\))h(with)g(bef)g(=)h(""})g(e2)g
(in)392 3831 y(sprintf)e("\\\045s)h(\\\045s")g(s1)h(s2\))262
3931 y(\(fun)e(\(\))i(->)392 4030 y(let)g(s1)f(=)i(expr)d({\(pc\))h
(with)g(aft)g(=)h(""})g(e1)g(in)392 4130 y(let)g(s2)f(=)479
4230 y(expr)567 4329 y({\(pc\))f(with)697 4429 y(ind)i(=)g(pc.ind)e(+)i
(2;)697 4529 y(bef)g(=)g(tab)f(\(pc.ind)f(+)i(2\)})567
4628 y(e2)392 4728 y(in)392 4827 y(sprintf)e("\\\045s\\n\\\045s")e(s1)k
(s2\))87 4927 y(;)0 5108 y Fi(The)31 b(\014rst)g(function)g(is)g(the)g
Fa(horizontal)41 b Fi(prin)n(ting.)47 b(It)31 b(ends)g(with)g(a)g
Fb(sprintf)d Fi(separating)h(the)i(prin)n(ting)g(of)37
b Fb(e1)30 b Fi(and)h Fb(e2)0 5208 y Fi(b)n(y)f(a)g(space.)45
b(The)31 b(p)r(ossible)f("b)r(efore)f(part")h(\()p Fb(pc.bef)p
Fi(\))f(and)h("after)f(part")h(\()p Fb(pc.aft)p Fi(\))f(are)g
(transmitted)i(in)f(the)h(calls)f(of)0 5308 y(the)e(sub-functions.)1888
5656 y(148)p eop end
%%Page: 149 151
TeXDict begin 149 150 bop 2135 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 0 390
a(The)d(second)f(function)i(is)f(the)g Fa(vertic)l(al)35
b Fi(prin)n(ting.)g(It)26 b(ends)e(with)i(a)e Fb(sprintf)f
Fi(separating)g(the)i(prin)n(ting)g(of)31 b Fb(e1)24
b Fi(and)h Fb(e2)f Fi(b)n(y)0 490 y(a)29 b(newline.)42
b(The)29 b(second)g(line)g(starts)f(with)i(an)f(indendation,)h(using)f
(the)g("b)r(efore)g(part")f(\()p Fb(pc.bef)p Fi(\))f(of)i(the)h(second)
e(call)0 589 y(to)f Fb(expr)p Fi(.)0 789 y(The)d(prett)n(y)g(prin)n
(ting)f(library)g(function)i Fb(Pretty.horiz)p 1847 789
27 4 v 26 w(vertic)d Fi(calls)h(the)h(\014rst)g(\()p
Fa(horizontal)9 b Fi(\))26 b(function,)f(and)f(if)h(it)f(fails)0
888 y(\(either)30 b(b)r(ecause)g Fb(s1)f Fi(or)h Fb(s2)f
Fi(are)g(to)r(o)h(long)f(or)g(hold)h(newlines,)h(or)e(b)r(ecause)h(the)
h(\014nal)f(string)f(pro)r(duced)h(b)n(y)h Fb(sprintf)c
Fi(is)0 988 y(to)r(o)g(long\),)h(calls)e(the)i(second)f(\()p
Fa(vertic)l(al)9 b Fi(\))29 b(function.)0 1187 y(Notice)23
b(that)g(the)g(parameter)f Fb(pc)g Fi(con)n(tains)g(a)h(\014eld)g
Fb(pc.bef)d Fi(\(what)j(should)g(b)r(e)g(prin)n(ted)g(b)r(efore)g(in)g
(the)g(same)g(line\),)h(whic)n(h)0 1287 y(in)j(b)r(oth)f(cases)g(is)g
(transmitted)g(to)g(the)h(prin)n(ting)f(of)33 b Fb(e1)25
b Fi(\(since)i(the)f(syn)n(tax)g Fh(f)p Fb(\(pc\))41
b(with)h(aft)g(=)i("")p Fh(g)25 b Fi(is)h(a)g(record)f(with)0
1386 y Fb(pc.bef)g Fi(k)n(ept\).)37 b(Same)28 b(for)f(the)h(\014eld)g
Fb(pc.aft)d Fi(transmitted)i(to)h(the)g(prin)n(ting)f(of)34
b Fb(e2)p Fi(.)0 1619 y Fe(19.2.2)113 b(Using)38 b(EXTEND)p
1208 1619 34 4 v 38 w(PRINTER)d(statemen)m(t)0 1772 y
Fi(This)28 b(system)f(is)g(com)n(bined)h(to)f(the)h(extensible)g(prin)n
(ters)e(to)i(allo)n(w)e(the)i(extensibilit)n(y)g(of)f(the)h(prett)n(y)g
(prin)n(ting.)0 1971 y(The)g(co)r(de)f(ab)r(o)n(v)n(e)f(actually)h(lo)r
(oks)g(lik)n(e:)87 2151 y Fb(EXTEND_PRINTER)174 2251
y(pr_expr:)262 2351 y([)43 b([)g(<:expr<)e($e1$)g($e2$)h(>>)h(->)523
2450 y(horiz_vertic)610 2550 y(\(fun)f(\(\))h(->)741
2650 y(let)f(s1)h(=)g(curr)f({\(pc\))g(with)g(aft)g(=)h(""})f(e1)h(in)
741 2749 y(let)f(s2)h(=)g(next)f({\(pc\))g(with)g(bef)g(=)h(""})f(e2)h
(in)741 2849 y(sprintf)e("\\\045s)h(\\\045s")g(s1)g(s2\))610
2949 y(\(fun)g(\(\))h(->)741 3048 y(let)f(s1)h(=)g(curr)f({\(pc\))g
(with)g(aft)g(=)h(""})f(e1)h(in)741 3148 y(let)f(s2)h(=)828
3247 y(next)915 3347 y({\(pc\))f(with)1046 3447 y(ind)g(=)i(pc.ind)d(+)
i(2;)1046 3546 y(bef)f(=)i(tab)e(\(pc.ind)f(+)i(2\)})915
3646 y(e2)741 3746 y(in)741 3845 y(sprintf)e("\\\045s\\n\\\045s")e(s1)k
(s2\))f(])h(])174 3945 y(;)87 4044 y(END;)0 4225 y Fi(The)28
b(v)-5 b(ariable)28 b(")p Fb(pc)p Fi(")e(is)j(implicit)g(in)f(the)h
(seman)n(tic)f(actions)f(of)i(the)g(syn)n(tax)e(")p Fb(EXTEND)p
2757 4225 27 4 v 28 w(PRINTER)p Fi(",)f(as)h(w)n(ell)h(as)g(t)n(w)n(o)g
(other)0 4325 y(v)-5 b(ariables:)36 b(")p Fb(curr)p Fi(")25
b(and)i(")p Fb(next)p Fi(".)0 4524 y(These)j(parameters,)f(")p
Fb(curr)p Fi(")f(and)i(")p Fb(next)p Fi(",)e(corresp)r(ond)h(to)h(the)h
(prett)n(y)f(prin)n(ting)f(of,)i(resp)r(ectiv)n(ely)-7
b(,)31 b(the)f(curren)n(t)g(lev)n(el)0 4623 y(and)f(the)h(next)g(lev)n
(el.)42 b(Since)30 b(the)g(application)f(in)h(OCaml)f(is)g(left)h(asso)
r(ciativ)n(e,)e(the)i(\014rst)g(sub-expression)d(is)j(prin)n(ted)f(at)0
4723 y(the)i(same)f(\(curren)n(t\))h(lev)n(el)f(and)h(the)g(second)f
(one)h(is)f(prin)n(ted)h(at)g(the)g(next)g(lev)n(el.)46
b(W)-7 b(e)31 b(also)f(see)g(a)g(call)h(to)f Fb(next)g
Fi(in)h(the)0 4823 y(last)c(\(2nd\))h(case)f(of)h(the)g(function)g(to)f
(treat)g(the)h(other)f(cases)g(in)h(the)g(next)f(lev)n(el.)0
5055 y Fe(19.2.3)113 b(Dangling)38 b(else,)g(bar,)g(semicolon)0
5208 y Fi(In)20 b(normal)f(syn)n(tax,)i(there)f(are)f(cases)g(where)h
(it)h(is)f(necessary)e(to)i(enclose)f(expressions)g(b)r(et)n(w)n(een)h
(paren)n(theses)f(\(or)g(b)r(et)n(w)n(een)0 5308 y(b)r(egin)g(and)f
(end,)j(whic)n(h)e(is)f(equiv)-5 b(alen)n(t)19 b(in)f(that)h(syn)n
(tax\).)34 b(Three)18 b(tok)n(ens)g(ma)n(y)g(cause)g(problems:)31
b(the)19 b(")p Fb(else)p Fi(",)f(the)h(v)n(ertical)0
5407 y(bar)j(")p Fb(|)p Fi(")f(and)h(the)h(semicolon)e(")p
Fb(;)p Fi(".)34 b(Here)22 b(are)f(examples)h(where)g(the)h(presence)e
(of)i(these)f(tok)n(ens)f(constrains)g(the)i(previous)1888
5656 y(149)p eop end
%%Page: 150 152
TeXDict begin 150 151 bop 0 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 0 390
a(expression)k(to)h(b)r(e)g(paren)n(thesized.)53 b(In)34
b(these)f(three)g(examples,)h(remo)n(ving)e(the)h(b)r(egin..end)h
(enclosers)d(w)n(ould)i(c)n(hange)0 490 y(the)28 b(meaning)f(of)h(the)g
(expression)e(b)r(ecause)h(the)h(dangling)f(tok)n(en)g(w)n(ould)g(b)r
(e)h(included)g(in)g(that)g(expression:)0 689 y(Dangling)f(else:)87
838 y Fb(if)43 b(a)g(then)f(begin)g(if)g(b)h(then)f(c)i(end)e(else)g(d)
0 986 y Fi(Dangling)27 b(bar:)87 1134 y Fb(function)174
1234 y(A)44 b(->)262 1334 y(begin)d(match)h(a)h(with)349
1433 y(B)g(->)g(c)262 1533 y(|)g(D)g(->)g(e)262 1633
y(end)87 1732 y(|)g(F)h(->)e(g)0 1881 y Fi(Dangling)27
b(semicolon:)87 2029 y Fb(if)43 b(a)g(then)f(b)87 2129
y(else)g(begin)174 2228 y(let)h(c)g(=)g(d)g(in)174 2328
y(e)87 2428 y(end;)87 2527 y(f)0 2676 y Fi(The)38 b(information)f(is)h
(transmitted)g(b)n(y)g(the)g(v)-5 b(alue)38 b Fb(pc.dang)p
Fi(.)66 b(In)38 b(the)g(\014rst)g(example)f(ab)r(o)n(v)n(e,)j(while)e
(displa)n(ying)f(the)0 2775 y(")p Fb(then)p Fi(")25 b(part)j(of)g(the)g
(outer)f(")p Fb(if)p Fi(",)g(the)h(sub-expression)e(is)i(called)g(with)
g(the)g(v)-5 b(alue)28 b Fb(pc.dang)d Fi(set)j(to)g Fb("else")d
Fi(to)j(inform)0 2875 y(the)f(last)f(sub-sub-expression)e(that)j(it)g
(is)f(going)f(to)i(b)r(e)g(follo)n(w)n(ed)e(b)n(y)h(that)h(tok)n(en.)36
b(When)27 b(a)f(")p Fb(if)p Fi(")e(expression)h(should)i(b)r(e)0
2975 y(displa)n(y)n(ed)g(without)h(")p Fb(else)p Fi(")d(part,)i(and)g
(that)h(its)g(")p Fb(pc.dang)p Fi(")c(is)j("else",)g(it)h(should)f(b)r
(e)h(enclosed)f(with)h(spaces.)0 3174 y(This)39 b(problem)f(do)r(es)h
(not)g(exist)g(in)g(revised)f(syn)n(tax.)70 b(While)40
b(prett)n(y)e(prin)n(ting)h(in)g(revised)f(syn)n(tax,)j(the)f
(parameter)0 3273 y Fb(pc.dang)25 b Fi(is)i(not)h(necessary)e(and)h
(remains)g(the)h(empt)n(y)g(string.)0 3500 y Fe(19.2.4)113
b(By)37 b(lev)m(el)0 3653 y Fi(As)20 b(explained)g(in)g(the)h(c)n
(hapter)e(ab)r(out)h(the)g(extensible)g(prin)n(ters)f(\(with)i(the)g
(EXTEND)p 2753 3653 25 4 v 30 w(PRINTER)e(statemen)n(t\),)j(prin)n
(ters)0 3753 y(con)n(tain)35 b(lev)n(els.)59 b(The)36
b(global)e(prin)n(ter)h(v)-5 b(ariable)34 b(of)i(expressions)e(is)h
(named)g(")p Fb(pr)p 2656 3753 27 4 v 30 w(expr)p Fi(")f(and)h(con)n
(tain)g(all)g(de\014nitions)0 3852 y(for)e(prett)n(y)g(prin)n(ting)g
(expressions,)g(organized)e(b)n(y)j(lev)n(els,)g(just)g(lik)n(e)f(the)g
(parsing)f(of)i(expressions.)52 b(The)33 b(de\014nition)h(of)0
3952 y(")p Fb(pr)p 135 3952 V 30 w(expr)p Fi(")26 b(actually)h(lo)r
(oks)f(lik)n(e)h(this:)87 4101 y Fb(EXTEND_PRINTER)174
4200 y(pr_expr:)262 4300 y([)43 b("top")349 4399 y([)g(\(*)g(code)f
(for)g(level)f("top")h(*\))h(])262 4499 y(|)g("add")349
4599 y([)g(\(*)g(code)f(for)g(level)f("add")h(*\))h(])262
4698 y(|)g("mul")349 4798 y([)g(\(*)g(code)f(for)g(level)f("mul")h(*\))
h(])262 4898 y(|)g("apply")349 4997 y([)g(\(*)g(code)f(for)g(level)f
("apply")g(*\))i(])262 5097 y(|)g("simple")349 5196 y([)g(\(*)g(code)f
(for)g(level)f("add")h(*\))h(])g(])174 5296 y(;)87 5396
y(END;)1888 5656 y Fi(150)p eop end
%%Page: 151 153
TeXDict begin 151 152 bop 2135 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 0 390
a Fc(19.3)136 b(The)44 b(Prto)t(ols)i(mo)t(dule)0 576
y Fi(The)27 b(Prto)r(ols)f(mo)r(dule)h(is)g(de\014ned)h(inside)f
(Camlp5)f(for)h(prett)n(y)g(prin)n(ting)f(kits.)37 b(It)27
b(pro)n(vides)f(v)-5 b(ariables)26 b(and)h(functions)g(to)0
676 y(pro)r(cess)f(commen)n(ts,)i(and)f(meta-functions)h(to)f(pro)r
(cess)f(lists)i(\(horizon)n(tally)-7 b(,)26 b(v)n(ertically)-7
b(,)27 b(paragraphly\).)0 920 y Fe(19.3.1)113 b(Commen)m(ts)0
1078 y Fb(value)42 b(comm)p 443 1078 27 4 v 29 w(bef)h(:)86
b(int)43 b(->)f(MLast.loc)e(->)j(string;)208 1215 y Fi(")p
Fb(comm)p 431 1215 V 29 w(bef)f(ind)g(loc)p Fi(")36 b(get)g(the)i
(commen)n(t)e(from)h(the)g(source)f(just)h(b)r(efore)g(the)g(giv)n(en)f
(lo)r(cation)h(")p Fb(loc)p Fi(".)62 b(This)208 1315
y(commen)n(t)27 b(ma)n(y)g(b)r(e)h(reinden)n(ted)f(using)h(")p
Fb(ind)p Fi(".)34 b(Returns)28 b(the)g(empt)n(y)f(string)g(if)h(no)g
(commen)n(t)f(found.)0 1504 y Fb(value)42 b(source)f(:)86
b(ref)43 b(string;)208 1642 y Fi(The)27 b(initial)h(source)e(string,)h
(whic)n(h)h(m)n(ust)g(b)r(e)g(set)f(b)n(y)h(the)g(prett)n(y)f(prin)n
(ting)g(kit.)37 b(Used)28 b(b)n(y)f([comm)p 3366 1642
25 4 v 30 w(b)r(ef)6 b(])29 b(ab)r(o)n(v)n(e.)0 1817
y Fb(value)42 b(set)p 399 1817 27 4 v 30 w(comm)p 605
1817 V 29 w(min)p 766 1817 V 31 w(pos)g(:)87 b(int)42
b(->)h(unit;)208 1954 y Fi(Set)23 b(the)f(minim)n(um)i(p)r(osition)e
(of)h(the)g(source)e(where)h(commen)n(ts)g(can)g(b)r(e)h(found,)h(\(to)
f(prev)n(en)n(t)f(p)r(ossible)g(duplication)208 2054
y(of)27 b(commen)n(ts\).)0 2298 y Fe(19.3.2)113 b(Meta)37
b(functions)i(for)e(lists)0 2456 y Fb(type)42 b(pr)p
311 2456 V 30 w(fun)h('a)g(=)g(pr)p 822 2456 V 30 w(context)e(->)i('a)g
(->)f(string;)208 2593 y Fi(T)n(yp)r(e)27 b(of)h(prin)n(ter)e
(functions.)0 2783 y Fb(value)42 b(hlist)f(:)87 b(pr)p
747 2783 V 30 w(fun)43 b('a)f(->)h(pr)p 1301 2783 V 31
w(fun)f(\(list)g('a\);)208 2920 y Fi([hlist)d(elem)h(p)r(c)g(el])g
(returns)e(the)i(horizon)n(tally)e(prett)n(y)h(prin)n(ted)h(string)f
(of)g(a)g(list)h(of)f(elemen)n(ts;)46 b(elemen)n(ts)39
b(are)208 3020 y(separated)26 b(with)i(spaces.)208 3119
y(The)g(list)g(is)g(displa)n(y)n(ed)f(in)h(one)g(only)f(line.)39
b(If)28 b(this)g(function)h(is)f(called)g(in)g(the)g(con)n(text)g(of)g
(the)g([horiz])g(function)g(of)208 3219 y(the)k(function)g([horiz)p
893 3219 25 4 v 29 w(v)n(ertic])f(of)h(the)g(mo)r(dule)h(Prin)n(ting,)f
(and)f(if)i(the)f(line)g(o)n(v)n(er\015o)n(ws)d(or)i(con)n(tains)g
(newlines,)i(the)208 3319 y(function)28 b(in)n(ternally)f(fails)g
(\(the)h(exception)g(is)f(catc)n(hed)g(b)n(y)g([horiz)p
2336 3319 V 30 w(v)n(ertic])f(for)h(a)h(v)n(ertical)e(prett)n(y)h(prin)
n(t\).)0 3494 y Fb(value)42 b(hlist2)f(:)86 b(pr)p 790
3494 27 4 v 31 w(fun)42 b('a)h(->)g(pr)p 1345 3494 V
30 w(fun)g('a)f(->)h(pr)p 1899 3494 V 31 w(fun)f(\(list)g('a\);)208
3631 y Fi(horizon)n(tal)26 b(list)h(with)h(a)g(di\013eren)n(t)f
(function)i(from)e(2nd)g(elemen)n(t)h(on.)0 3806 y Fb(value)42
b(hlistl)f(:)86 b(pr)p 790 3806 V 31 w(fun)42 b('a)h(->)g(pr)p
1345 3806 V 30 w(fun)g('a)f(->)h(pr)p 1899 3806 V 31
w(fun)f(\(list)g('a\);)208 3944 y Fi(horizon)n(tal)26
b(list)h(with)h(a)g(di\013eren)n(t)f(function)i(for)e(the)h(last)f
(elemen)n(t.)0 4133 y Fb(value)42 b(vlist)f(:)87 b(pr)p
747 4133 V 30 w(fun)43 b('a)f(->)h(pr)p 1301 4133 V 31
w(fun)f(\(list)g('a\);)208 4270 y Fi([vlist)22 b(elem)h(p)r(c)g(el])g
(returns)f(the)h(v)n(ertically)f(prett)n(y)g(prin)n(ted)h(string)f(of)h
(a)f(list)h(of)g(elemen)n(ts;)h(elemen)n(ts)f(are)e(separated)208
4370 y(with)28 b(newlines)f(and)h(inden)n(tations.)0
4545 y Fb(value)42 b(vlist2)f(:)86 b(pr)p 790 4545 V
31 w(fun)42 b('a)h(->)g(pr)p 1345 4545 V 30 w(fun)g('a)f(->)h(pr)p
1899 4545 V 31 w(fun)f(\(list)g('a\);)208 4683 y Fi(v)n(ertical)26
b(list)i(with)g(di\013eren)n(t)g(function)g(from)f(2nd)g(elemen)n(t)h
(on.)0 4858 y Fb(value)42 b(vlist3)f(:)86 b(pr)p 790
4858 V 31 w(fun)42 b(\('a)h(*)g(bool\))e(->)i(pr)p 1737
4858 V 31 w(fun)f(\('a)g(*)h(bool\))f(->)h(pr)p 2684
4858 V 30 w(fun)g(\(list)e('a\);)208 4995 y Fi(v)n(ertical)34
b(list)h(with)h(di\013eren)n(t)g(function)g(from)f(2nd)g(elemen)n(t)h
(on,)h(the)f(b)r(o)r(olean)f(v)-5 b(alue)35 b(b)r(eing)h(T)-7
b(rue)35 b(for)g(the)g(last)208 5095 y(elemen)n(t)27
b(of)h(the)g(list.)0 5270 y Fb(value)42 b(vlistl)f(:)86
b(pr)p 790 5270 V 31 w(fun)42 b('a)h(->)g(pr)p 1345 5270
V 30 w(fun)g('a)f(->)h(pr)p 1899 5270 V 31 w(fun)f(\(list)g('a\);)208
5407 y Fi(v)n(ertical)26 b(list)i(with)g(di\013eren)n(t)g(function)g
(for)f(the)h(last)f(elemen)n(t.)1888 5656 y(151)p eop
end
%%Page: 152 154
TeXDict begin 152 153 bop 0 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 0 390
a Fb(value)42 b(plist)f(:)87 b(pr)p 747 390 27 4 v 30
w(fun)43 b('a)f(->)h(int)g(->)f(pr)p 1606 390 V 31 w(fun)g(\(list)g
(\('a)g(*)h(string\)\);)208 524 y Fi([plist)23 b(elem)g(sh)g(p)r(c)g
(el])g(returns)f(the)h(prett)n(y)g(prin)n(ted)g(string)f(of)h(a)f(list)
h(of)g(elemen)n(ts)g(with)g(separators.)33 b(The)23 b(elemen)n(ts)208
623 y(are)f(prin)n(ted)h(horizon)n(tally)e(as)i(far)g(as)f(p)r
(ossible.)35 b(When)24 b(an)f(elemen)n(t)g(do)r(es)g(not)g(\014t)h(on)f
(the)h(line,)g(a)f(newline)g(is)g(added)208 723 y(and)i(the)g(elemen)n
(t)h(is)f(displa)n(y)n(ed)f(in)h(the)h(next)f(line)h(with)g(an)f(inden)
n(tation)g(of)g([sh].)36 b([elem])26 b(is)f(the)g(function)h(to)f(prin)
n(t)208 823 y(elemen)n(ts,)i([el])h(a)f(list)h(of)f(pairs)g(\(elemen)n
(t)h(*)f(separator\))f(\(the)i(last)f(separator)f(b)r(eing)h
(ignored\).)0 990 y Fb(value)42 b(plistb)f(:)86 b(pr)p
790 990 V 31 w(fun)42 b('a)h(->)g(int)f(->)h(pr)p 1650
990 V 30 w(fun)g(\(list)e(\('a)i(*)g(string\)\);)208
1124 y Fi([plist)32 b(elem)g(sh)g(p)r(c)g(el])g(returns)f(the)i(prett)n
(y)e(prin)n(ted)h(string)g(of)f(the)i(list)f(of)g(elemen)n(ts,)h(lik)n
(e)e(with)i([plist])f(but)h(the)208 1223 y(v)-5 b(alue)32
b(of)h([p)r(c.b)r(ef)6 b(])35 b(corresp)r(onds)c(to)i(an)f(elemen)n(t)h
(already)f(prin)n(ted,)i(as)e(it)h(w)n(ere)f(on)h(the)g(list.)53
b(Therefore,)33 b(if)h(the)208 1323 y(\014rst)27 b(elemen)n(t)h(of)f
([el])h(do)r(es)f(not)h(\014t)g(in)g(the)g(line,)g(a)f(newline)h(and)f
(a)g(tabulation)g(is)h(added)f(after)h([p)r(c.b)r(ef)6
b(].)0 1491 y Fb(value)42 b(plistl)f(:)86 b(pr)p 790
1491 V 31 w(fun)42 b('a)h(->)g(pr)p 1345 1491 V 30 w(fun)g('a)f(->)h
(int)g(->)f(pr)p 2204 1491 V 31 w(fun)g(\(list)g(\('a)g(*)h
(string\)\);)208 1624 y Fi(paragraph)25 b(list)j(with)g(a)f(di\013eren)
n(t)h(function)g(for)f(the)h(last)f(elemen)n(t.)0 1808
y Fb(value)42 b(hvlistl)e(:)87 b(pr)p 834 1808 V 31 w(fun)42
b('a)h(->)f(pr)p 1388 1808 V 31 w(fun)g('a)h(->)g(pr)p
1943 1808 V 30 w(fun)g(\(list)e('a\);)208 1942 y Fi(applies)27
b(")p Fb(hlistl)p Fi(")d(if)k(the)g(con)n(text)f(is)h(horizon)n(tal;)e
(else)h(applies)g(")p Fb(vlistl)p Fi(".)0 2176 y Fe(19.3.3)113
b(Miscellaneous)0 2330 y Fb(value)42 b(tab)g(:)87 b(int)42
b(->)h(string;)208 2464 y Fi([tab)27 b(ind])h(is)g(equiv)-5
b(alen)n(t)27 b(to)h([String.mak)n(e)e(ind)i(')g('])0
2647 y Fb(value)42 b(flatten)p 575 2647 V 28 w(sequence)e(:)87
b(MLast.expr)39 b(->)k(option)e(\(list)h(MLast.expr\);)208
2781 y Fi([\015atten)p 471 2781 25 4 v 30 w(sequence)33
b(e].)57 b(If)34 b([e])g(is)g(an)g(expression)f(represen)n(ting)f(a)i
(sequence,)h(return)f(the)g(list)h(of)f(expressions)e(of)208
2881 y(the)27 b(sequence.)36 b(If)28 b(some)e(of)i(these)f(expressions)
e(are)h(already)g(sequences,)g(they)i(are)e(\015attened)h(in)h(the)f
(list.)37 b(If)28 b(that)208 2980 y(list)d(con)n(tains)f(expressions)g
(of)h(the)h(form)e(let..in)i(sequence,)f(this)h(sub-sequence)e(is)h
(also)g(\015attened)g(with)h(the)f(let..in)208 3080 y(applying)g(only)g
(to)h(the)g(\014rst)f(expression)f(of)i(the)g(sequence.)36
b(If)26 b([e])g(is)f(a)h(let..in)g(sequence,)g(it)g(w)n(orks)e(the)i
(same)f(w)n(a)n(y)-7 b(.)208 3180 y(If)28 b([e])f(is)h(not)f(a)h
(sequence)f(nor)f(a)i(let..in)g(sequence,)f(return)g(None.)0
3456 y Fc(19.4)136 b(Example)46 b(:)60 b(rep)t(eat..un)l(til)0
3639 y Fi(This)29 b(prett)n(y)g(prin)n(ts)g(the)h(example)e(rep)r
(eat..un)n(til)i(statemen)n(t)f(programmed)e(in)j(the)f(c)n(hapter)g
(Syn)n(tax)g(extensions)f(\(\014rst)0 3738 y(v)n(ersion)e(generating)g
(a)h(")p Fb(while)p Fi(")e(statemen)n(t\).)0 3973 y Fe(19.4.1)113
b(The)37 b(co)s(de)0 4127 y Fi(The)25 b(pattern)f(generated)f(b)n(y)i
(the)g("rep)r(eat")e(statemen)n(t)i(is)f(recognized)f(\(sequence)h
(ending)h(with)g(a)f(")p Fb(while)p Fi(")e(whose)i(con-)0
4226 y(ten)n(ts)f(is)g(the)h(same)e(than)h(the)h(b)r(eginning)f(of)g
(the)g(sequence\))g(b)n(y)g(the)g(function)h("is)p 2599
4226 V 29 w(rep)r(eat")e(and)h(the)g(rep)r(eat)g(statemen)n(t)g(is)0
4326 y(prett)n(y)d(prin)n(ted)h(in)g(its)g(initial)f(form)h(using)f
(the)h(function)g("horiz)p 2037 4326 V 29 w(v)n(ertic")e(of)i(the)g
(Prett)n(y)e(mo)r(dule.)35 b(File)21 b(")p Fb(pr)p 3418
4326 27 4 v 30 w(repeat.ml)p Fi(":)87 4511 y Fb(#load)42
b("pa_extprint.cm)o(o";)87 4610 y(#load)g("q_MLast.cmo";)87
4809 y(open)g(Pcaml;)87 4909 y(open)g(Pretty;)87 5009
y(open)g(Prtools;)87 5208 y(value)g(eq_expr_list)c(el1)43
b(el2)f(=)174 5308 y(if)h(List.length)c(el1)j(<>)h(List.length)c(el2)k
(then)f(False)174 5407 y(else)g(List.for_all2)c(eq_expr)j(el1)i(el2)
1888 5656 y Fi(152)p eop end
%%Page: 153 155
TeXDict begin 153 154 bop 2135 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 87 390
a Fb(;)87 589 y(value)42 b(is_repeat)e(el)i(=)174 689
y(match)g(List.rev)e(el)j(with)174 789 y([)h([<:expr<)c(while)h(not)i
($e$)f(do)h({)g($list:el2$)c(})44 b(>>)e(::)h(rel1])f(->)349
888 y(eq_expr_list)c(\(List.rev)i(rel1\))i(el2)174 988
y(|)i(_)f(->)f(False)g(])87 1088 y(;)87 1287 y(value)g(semi_after)d(pr)
k(pc)g(=)g(pr)g({\(pc\))e(with)h(aft)g(=)i(sprintf)c("\\\045s;")h
(pc.aft};)87 1486 y(EXTEND_PRINTER)174 1586 y(pr_expr:)262
1685 y([)i([)g(<:expr<)e(do)h({)h($list:el$)d(})k(>>)e(when)g
(is_repeat)e(el)j(->)523 1785 y(match)f(List.rev)e(el)j(with)523
1885 y([)g([<:expr<)d(while)i(not)g($e$)h(do)f({)i($list:el$)39
b(})44 b(>>)e(::)h(_])g(->)697 1984 y(horiz_vertic)785
2084 y(\(fun)e(\(\))i(->)915 2183 y(sprintf)e("\\\045srepeat)e(\\\045s)
k(until)e(\\\045s\\\045s")g(pc.bef)1002 2283 y(\(hlistl)g(\(semi_after)
e(curr\))j(curr)1133 2383 y({\(pc\))g(with)g(bef)g(=)h("";)g(aft)f(=)h
(""})f(el\))1002 2482 y(\(curr)g({\(pc\))g(with)f(bef)i(=)g("";)f(aft)h
(=)g(""})f(e\))1002 2582 y(pc.aft\))785 2682 y(\(fun)f(\(\))i(->)915
2781 y(let)g(s1)f(=)i(sprintf)c("\\\045srepeat")f(\(tab)j(pc.ind\))f
(in)915 2881 y(let)i(s2)f(=)1002 2980 y(vlistl)g(\(semi_after)d(curr\))
i(curr)1090 3080 y({\(pc\))g(with)1133 3180 y(ind)i(=)g(pc.ind)e(+)i
(2;)1133 3279 y(bef)g(=)g(tab)f(\(pc.ind)f(+)i(2\);)1133
3379 y(aft)g(=)g(""})1090 3479 y(el)915 3578 y(in)915
3678 y(let)g(s3)f(=)1002 3778 y(sprintf)f("\\\045suntil)f(\\\045s")i
(\(tab)g(pc.ind\))1090 3877 y(\(curr)f({\(pc\))h(with)g(bef)g(=)h(""})f
(e\))915 3977 y(in)915 4076 y(sprintf)f("\\\045s\\n\\\045s\\n\\\045s")c
(s1)43 b(s2)g(s3\))523 4176 y(|)g(_)g(->)g(assert)e(False)h(])h(])g(])
174 4276 y(;)87 4375 y(END;)0 4605 y Fe(19.4.2)113 b(Compilation)87
4758 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(-I)j(+camlp5)e(-c)i(pr_repeat.ml)
0 4988 y Fe(19.4.3)113 b(T)-9 b(esting)0 5141 y Fi(Getting)28
b(the)g(same)f(\014les)g("fo)r(o.ml")g(and)h("bar.ml")e(of)h(the)h(rep)
r(eat)g(syn)n(tax)e(example:)87 5308 y Fb($)43 b(cat)g(bar.ml)87
5407 y(#load)f("./foo.cmo";)1888 5656 y Fi(153)p eop
end
%%Page: 154 156
TeXDict begin 154 155 bop 0 70 a Fi(CHAPTER)27 b(19.)64
b(EXTENSIONS)27 b(OF)h(PRINTING)p 0 103 3900 4 v 87 390
a Fb(value)42 b(x)h(=)g(ref)f(42;)87 490 y(repeat)174
589 y(print_int)e(x.val;)174 689 y(print_endline)f("";)174
789 y(x.val)j(:=)h(x.val)e(+)i(3)87 888 y(until)f(x.val)f(>)i(70;)87
1088 y($)g(camlp)0 1270 y Fi(Without)28 b(the)g(prett)n(y)g(prin)n
(ting)f(kit:)87 1453 y Fb($)43 b(camlp5r)e(pr_r.cmo)f(bar.ml)87
1553 y(#load)i("./foo.cmo";)87 1652 y(value)g(x)h(=)g(ref)f(42;)87
1752 y(do)h({)174 1851 y(print_int)d(x.val;)174 1951
y(print_endline)f("";)174 2051 y(x.val)j(:=)h(x.val)e(+)i(3;)174
2150 y(while)f(not)g(\(x.val)f(>)i(70\))g(do)g({)262
2250 y(print_int)c(x.val;)262 2350 y(print_endline)f("";)262
2449 y(x.val)j(:=)i(x.val)e(+)i(3)174 2549 y(})87 2648
y(};)0 2831 y Fi(With)28 b(the)g(prett)n(y)g(prin)n(ting)f(kit:)87
3014 y Fb($)43 b(camlp5r)e(pr_r.cmo)f(./pr_repeat.cmo)e(bar.ml)j(-l)i
(75)87 3113 y(#load)f("./foo.cmo";)87 3213 y(value)g(x)h(=)g(ref)f(42;)
87 3313 y(repeat)174 3412 y(print_int)e(x.val;)174 3512
y(print_endline)f("";)174 3611 y(x.val)j(:=)h(x.val)e(+)i(3)87
3711 y(until)f(x.val)f(>)i(70;)1888 5656 y Fi(154)p eop
end
%%Page: 155 157
TeXDict begin 155 156 bop 0 1014 a Fd(Chapter)65 b(20)0
1430 y Fg(Quotations)0 1863 y Fi(Quotations)28 b(are)g(a)g(syn)n(tax)h
(extension)f(in)h(Camlp5)g(to)g(build)g(expressions)f(and)g(patterns)h
(in)g(an)n(y)g(syn)n(tax)f(indep)r(endan)n(t)0 1962 y(from)e(the)g(one)
g(of)g(OCaml.)36 b(Quotations)25 b(are)g Fa(exp)l(ande)l(d)p
Fi(,)i(i.e.)36 b(transformed,)26 b(at)g(parse)f(time)h(to)g(pro)r(duce)
g(normal)f(syn)n(tax)0 2062 y(trees,)39 b(lik)n(e)e(the)h(rest)f(of)g
(the)h(program.)64 b(Quotations)37 b Fa(exp)l(anders)45
b Fi(are)36 b(normal)g(OCaml)h(functions)h(writable)f(b)n(y)g(an)n(y)0
2162 y(programmer.)0 2363 y(The)d(aim)g(of)g(quotations)f(is)h(to)g
(use)g(concrete)g(syn)n(tax)f(for)g(manipulating)h(abstract)f(v)-5
b(alues.)56 b(That)34 b(mak)n(es)f(programs)0 2463 y(easier)e(to)i
(write,)g(read,)h(mo)r(dify)-7 b(,)34 b(and)e(understand.)52
b(The)33 b(dra)n(wbac)n(k)d(is)j(that)f(quotations)g(are)g
(linguistically)g(isolated)0 2562 y(from)27 b(the)h(rest)f(of)h(the)g
(program,)e(in)h(opp)r(osition)g(to)h(syn)n(tax)f(extensions,)g(whic)n
(h)g(are)g(included)h(in)g(the)g(language.)0 2842 y Fc(20.1)136
b(In)l(tro)t(duction)0 3026 y Fi(A)28 b(quotation)f(is)g(syn)n
(tactically)g(enclosed)g(b)n(y)g(sp)r(eci\014c)h(quotes)f(formed)g(b)n
(y)g(less)h(\()p Fb(<)p Fi(\))f(and)h(greater)e(\()p
Fb(>)p Fi(\))h(signs.)37 b(Namely:)125 3213 y Fh(\017)k
Fi(starting)26 b(with)i(either)g(")p Fb(<<)p Fi(")e(or)g(")p
Fb(<:ident<)p Fi(")e(where)j(")p Fb(ident)p Fi(")d(is)k(the)g
(quotation)f(name,)125 3383 y Fh(\017)41 b Fi(ending)27
b(with)h(")p Fb(>>)p Fi(")0 3570 y(Examples:)87 3757
y Fb(<<)43 b(\\x.x)f(x)h(>>)87 3857 y(<:foo<)e(hello,)g(world)h(>>)87
3957 y(<:bar<)f(@#$\\\045;*)g(>>)0 4143 y Fi(The)25 b(text)h(b)r(et)n
(w)n(een)f(these)g(particular)f(paren)n(theses)g(can)h(b)r(e)g(an)n(y)f
(text.)37 b(It)25 b(ma)n(y)g(con)n(tain)f(enclosing)g(quotations)h(and)
g(the)0 4243 y(c)n(haracters)f(")p Fb(<)p Fi(",)i(")p
Fb(>)p Fi(")f(and)i(")p Fh(n)p Fi(")e(can)i(b)r(e)g(escap)r(ed)f(b)n(y)
h(")p Fh(n)p Fi(".)35 b(Notice)27 b(that)g(p)r(ossible)f(double-quote,)
g(paren)n(theses,)g(OCaml)0 4343 y(commen)n(ts)h(do)h(not)f
(necessarily)f(ha)n(v)n(e)g(to)i(balanced)f(inside)h(them.)0
4544 y(As)g(far)f(as)g(the)h(lexer)f(is)g(concerned,)g(a)g(quotation)g
(is)g(just)i(a)e(kind)h(of)f(string.)0 4824 y Fc(20.2)136
b(Quotation)46 b(expander)0 5008 y Fi(Quotations)37 b(are)h(treated)g
(at)g(parse)f(time.)70 b(Eac)n(h)37 b(quotation)h(name)g(is)h(asso)r
(ciated)e(with)i(a)f Fa(quotation)i(exp)l(ander)p Fi(,)h(a)0
5107 y(function)34 b(transforming)f(the)h(con)n(ten)n(t)g(of)f(the)i
(quotation)e(in)n(to)g(a)h(syn)n(tax)f(tree.)55 b(There)34
b(are)e(actually)i(t)n(w)n(o)f(expanding)0 5207 y(functions,)28
b(dep)r(ending)f(on)g(whether)g(the)h(quotation)e(is)i(in)f(the)h(con)n
(text)f(of)g(an)g(expression)e(or)i(if)g(it)h(is)f(in)h(the)f(con)n
(text)g(of)0 5307 y(a)g(pattern.)1888 5656 y(155)p eop
end
%%Page: 156 158
TeXDict begin 156 157 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a(If)28
b(a)f(quotation)g(has)g(no)g(asso)r(ciated)g(quotation)g(expander,)f(a)
i(parsing)e(error)f(is)j(displa)n(y)n(ed)f(and)g(the)h(compilation)f
(fails.)0 589 y(The)i(quotation)f(expander,)h(or,)g(rather,)f
(expanders,)g(are)g(functions)i(taking)e(the)i(quotation)e(string)g(as)
h(parameter)e(and)0 689 y(returning)k(a)g(syn)n(tax)g(tree.)49
b(There)31 b(is)g(no)h(constrain)n(t)e(ab)r(out)i(whic)n(h)f(parsing)g
(tec)n(hnology)f(is)h(used.)50 b(It)32 b(can)f(b)r(e)h(stream)0
789 y(parsers,)26 b(extensible)h(grammars,)f(string)h(scanning,)g(o)r
(camllex)f(and)i(y)n(acc,)e(an)n(y)-7 b(.)0 988 y(T)g(o)24
b(build)h(syn)n(tax)e(trees,)i(Camlp5)f(pro)n(vides)e(a)i(w)n(a)n(y)g
(to)g(easily)f(build)i(them)g(see)f(the)h(c)n(hapter)e(ab)r(out)i
(them:)35 b(it)25 b(is)f(p)r(ossible)0 1088 y(to)j(build)i(abstract)d
(syn)n(tax)h(through)g(concrete)f(syn)n(tax)h(using,)g(precisely)-7
b(...)37 b(quotations.)0 1359 y Fc(20.3)136 b(De\014ning)45
b(a)g(quotation)0 1557 y Fe(20.3.1)113 b(By)37 b(syn)m(tax)h(tree)0
1711 y Fi(T)-7 b(o)34 b(de\014ne)g(a)f(quotation,)i(it)f(is)g
(necessary)e(to)i(program)e(the)i(quotation)g(expanders)e(and)i(to,)h
(\014nally)-7 b(,)36 b(end)e(the)g(source)0 1810 y(co)r(de)27
b(with)i(a)e(call)g(to:)87 1974 y Fb(Quotation.add)38
b(name)k(\(Quotation.ExAst)37 b(\(f_expr,)k(f_patt\)\);)0
2138 y Fi(where)24 b(")p Fb(name)p Fi(")d(is)j(the)g(name)g(of)g(the)h
(quotation,)f(and)g(")p Fb(f)p 1831 2138 27 4 v 30 w(expr)p
Fi(")e(and)i(")p Fb(f)p 2345 2138 V 30 w(patt)p Fi(")e(the)j(resp)r
(ectiv)n(e)e(quotations)g(expanders)0 2237 y(for)k(expressions)f(and)h
(patterns.)0 2436 y(After)c(compilation)f(of)g(the)h(source)e(\014le)i
(\(without)g(linking,)g(i.e.)36 b(using)22 b(option)g("-c")f(of)h(the)h
(OCaml)f(compiler\),)h(an)f(ob)5 b(ject)0 2536 y(\014le)28
b(is)f(created)g(\(ending)h(with)g(".cmo"\),)f(whic)n(h)g(can)g(b)r(e)h
(used)g(as)f(syn)n(tax)g(extension)g Fa(kit)35 b Fi(of)28
b(Camlp5.)0 2765 y Fe(20.3.2)113 b(By)37 b(string)0 2918
y Fi(There)32 b(is)h(another)e(w)n(a)n(y)h(to)g(program)f(the)i
(expander:)46 b(a)32 b(single)g(function)h(whic)n(h)g(returns,)g(not)g
(a)f(syn)n(tax)g(tree,)h(but)g(a)0 3018 y(string)d(whic)n(h)h(is)f
(parsed,)h(afterw)n(ards,)f(b)n(y)g(the)i(system.)46
b(This)30 b(function)i(tak)n(es)e(a)g(b)r(o)r(olean)g(as)g(\014rst)h
(parameter)e(telling)0 3118 y(whether)e(the)h(quotation)f(is)h(in)g(p)r
(osition)f(of)h(expression)e(\(T)-7 b(rue\))28 b(or)e(in)i(p)r(osition)
g(of)f(a)g(pattern)h(\(F)-7 b(alse\).)0 3317 y(Used)28
b(that)g(w)n(a)n(y)-7 b(,)26 b(the)i(source)e(\014le)i(m)n(ust)g(end)g
(with:)87 3481 y Fb(Quotation.add)38 b(name)k(\(Quotation.ExStr)37
b(f\);)0 3644 y Fi(where)27 b(")p Fb(f)p Fi(")g(is)h(that)g(quotation)f
(expander.)37 b(The)28 b(adv)-5 b(an)n(tage)26 b(of)i(this)g(second)g
(approac)n(h)e(is)h(that)i(it)f(is)g(simple)g(to)g(under-)0
3744 y(stand)g(and)f(use.)38 b(The)28 b(dra)n(wbac)n(k)d(is)j(that)g
(there)g(is)f(no)h(w)n(a)n(y)e(to)i(sp)r(ecify)g(di\013eren)n(t)g
(source)f(lo)r(cations)g(for)g(di\013eren)n(t)h(parts)0
3844 y(of)g(the)g(quotation)e(\(what)i(ma)n(y)f(b)r(e)h(imp)r(ortan)n
(t)f(in)h(seman)n(tic)f(error)f(messages\).)0 4073 y
Fe(20.3.3)113 b(Default)38 b(quotation)0 4226 y Fi(It)19
b(is)f(p)r(ossible)g(to)g(use)g(some)g(quotation)g(without)h(its)f
(name.)34 b(Use)18 b(for)g(that)h(the)g(v)-5 b(ariable)17
b(")p Fb(Quotation.defau)o(lt)p 3575 4226 V 25 w(quotation)p
Fi(".)0 4326 y(F)-7 b(or)27 b(example,)g(ending)h(a)f(\014le)h(b)n(y:)
87 4489 y Fb(Quotation.add)38 b("foo")k(\(Quotation.ExAst)37
b(\(f_expr,)j(f_patt\)\);)87 4589 y(Quotation.default)o(.v)o(al)d(:=)43
b("foo";)0 4752 y Fi(allo)n(ws)26 b(to)i(use)f(the)h(quotation)f("fo)r
(o")f(without)i(its)g(name,)g(i.e.:)87 4916 y Fb(<<)43
b(...)f(>>)0 5080 y Fi(instead)27 b(of:)87 5244 y Fb(<:foo<)41
b(...)i(>>)0 5407 y Fi(If)28 b(sev)n(eral)e(\014les)h(set)h(the)g(v)-5
b(ariable)27 b(")p Fb(Quotation.defa)o(ul)o(t)p Fi(")o(,)22
b(the)28 b(default)g(quotation)f(applies)g(to)h(the)g(last)f(loaded)g
(one.)1888 5656 y(156)p eop end
%%Page: 157 159
TeXDict begin 157 158 bop 2720 70 a Fi(CHAPTER)28 b(20.)63
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a Fc(20.4)136
b(An)l(tiquotations)0 574 y Fi(A)34 b(quotation)g(ob)r(eys)f(its)i(o)n
(wn)e(rules)h(of)g(lexing)f(and)h(parsing.)55 b(Its)35
b(result)e(is)h(a)g(syn)n(tax)f(tree,)j(of)e(t)n(yp)r(e)g(")p
Fb(Pcaml.expr)p Fi(")0 674 y(if)d(the)g(quotation)e(is)h(in)h(the)g
(con)n(text)f(of)g(an)g(expression,)g(or)f(")p Fb(Pcaml.patt)p
Fi(")c(if)31 b(the)g(quotation)f(is)g(in)h(the)f(con)n(text)g(of)g(a)0
773 y(pattern.)0 974 y(It)19 b(can)g(b)r(e)g(in)n(teresting)f(to)h
(insert)f(p)r(ortions)g(of)h(expressions)e(or)h(patterns)g(of)h(the)g
(enclosing)f(con)n(text)h(in)g(its)g(o)n(wn)f(quotations.)0
1074 y(F)-7 b(or)27 b(that,)h(the)g(syn)n(tax)f(of)g(the)h(quotation)f
(m)n(ust)h(de\014ne)g(a)f(syn)n(tax)f(for)h Fa(antiquotations)k(ar)l(e)
l(as)p Fi(.)37 b(It)28 b(can)f(b)r(e,)h(for)f(example:)125
1261 y Fh(\017)41 b Fi(A)27 b(c)n(haracter)f(in)n(tro)r(ducing)h(a)g(v)
-5 b(ariable:)36 b(in)28 b(this)g(case)f(the)h(an)n(tiquotation)e(can)h
(just)i(b)r(e)f(a)f(v)-5 b(ariable.)125 1431 y Fh(\017)41
b Fi(A)25 b(couple)g(of)h(c)n(haracters)d(enclosing)h(the)i(an)n
(tiquotations.)35 b(F)-7 b(or)24 b(example,)i(in)g(the)f(prede\014ned)h
(syn)n(tax)e(tree)h(quota-)208 1530 y(tions,)i(the)h(an)n(tiquotations)
e(are)h(enclosed)g(with)h(dollar)e(\(")p Fb($)p Fi("\))h(signs.)0
1717 y(In)i(quotations,)f(the)h(lo)r(cations)f(in)g(the)h(resulting)f
(syn)n(tax)g(tree)h(are)e(all)h(set)h(to)g(the)g(lo)r(cation)f(of)g
(the)h(quotation)f(itself)h(\(if)0 1816 y(this)34 b(resulting)g(tree)f
(con)n(tains)g(lo)r(cations,)i(they)f(are)f(o)n(v)n(erwritten)f(with)i
(this)h(lo)r(cation\).)55 b(Consequen)n(tly)-7 b(,)35
b(if)f(there)g(are)0 1916 y(seman)n(tic)27 b(\(t)n(yping\))h(errors,)d
(the)j(OCaml)f(compiler)g(will)h(underline)g(the)g(en)n(tire)f
(quotation.)0 2117 y(But)i(in)g(an)n(tiquotations,)f(since)h(they)g
(can)f(b)r(e)h(inserted)g(in)g(the)g(resulting)f(syn)n(tax)g(tree,)h
(it)g(is)g(in)n(teresting)f(to)h(k)n(eep)f(their)0 2217
y(initial)g(quotations.)36 b(F)-7 b(or)27 b(that,)h(the)g(no)r(des:)87
2404 y Fb(<:expr<)41 b($anti:...$)e(>>)87 2504 y(<:patt<)i($anti:...$)e
(>>)0 2691 y Fi(equiv)-5 b(alen)n(t)27 b(to:)87 2878
y Fb(MLast.ExAnt)39 b(loc)k(...)87 2978 y(MLast.PaAnt)c(loc)k(...)0
3164 y Fi(are)27 b(pro)n(vided)f(\(see)i(syn)n(tax)e(tree)i
(quotations\).)0 3366 y(Let)g(us)f(tak)n(e)g(an)g(example,)h(without)g
(this)g(no)r(de,)f(and)h(with)g(this)g(sp)r(eci\014c)f(no)r(de.)0
3567 y(Let)c(us)f(consider)g(an)g(elemen)n(tary)f(quotation)h(system)g
(whose)g(con)n(ten)n(ts)g(is)h(just)g(an)f(an)n(tiquotation.)34
b(This)23 b(is)f(just)h(a)f(sc)n(ho)r(ol)0 3666 y(example,)h(since)f
(the)h(quotations)f(brac)n(k)n(ets)f(are)g(not)i(necessary)-7
b(,)22 b(in)g(this)h(case.)34 b(But)23 b(w)n(e)f(are)g(going)f(to)h
(see)h(ho)n(w)e(the)i(source)0 3766 y(co)r(de)k(is)h(underlined)g(in)f
(errors)f(messages.)0 4004 y Fe(20.4.1)113 b(Example)38
b(without)f(an)m(tiquotation)h(no)s(de)0 4159 y Fi(The)28
b(co)r(de)f(for)g(this)h(quotation)f(is)g(\(\014le)h("qa.ml"\):)87
4346 y Fb(#load)42 b("q_MLast.cmo";)87 4446 y(let)h(expr)e(s)j(=)f
(Grammar.Entry.pa)o(rs)o(e)38 b(Pcaml.expr)h(\(Stream.of_strin)o(g)f
(s\))k(in)87 4546 y(Quotation.add)c("a")43 b(\(Quotation.ExAst)37
b(\(expr,)k(fun)h([]\)\);)0 4732 y Fi(The)25 b(quotation)g(expander)f
(")p Fb(expr)p Fi(")f(just)j(tak)n(es)e(the)i(string)e(parameter)g
(\(the)i(con)n(ten)n(ts)e(of)i(the)f(quotation\),)h(and)f(returns)0
4832 y(the)j(result)f(of)h(the)g(expression)e(parser)g(of)h(the)h
(OCaml)f(language.)0 5033 y(Compilation:)87 5221 y Fb(ocamlc)41
b(-pp)i(camlp5r)d(-I)j(+camlp5)e(-c)i(qa.ml)0 5407 y
Fi(Let)28 b(us)f(test)h(it)g(in)g(the)g(toplev)n(el)f(with)h(a)f(v)n
(olun)n(tary)f(t)n(yping)h(error:)1888 5656 y(157)p eop
end
%%Page: 158 160
TeXDict begin 158 159 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 87 390 a Fb($)43
b(ocaml)f(-I)h(+camlp5)d(camlp5r.cma)436 490 y(Objective)g(Caml)i
(version)e(...)436 689 y(Camlp5)h(Parsing)g(version)f(...)87
888 y(#)j(#load)f("qa.cmo";)87 988 y(#)h(let)g(x)g(=)g("abc")f(and)g(y)
h(=)g(25)g(in)g(<:a<)f(x)h(^)g(y)g(>>;)87 1088 y(Characters)d(28-41:)
174 1187 y(let)j(x)g(=)g("abc")f(and)g(y)h(=)g(25)g(in)g(<:a<)f(x)h(^)g
(y)g(>>;)1395 1287 y(^^^^^^^^^^^^^)87 1386 y(This)f(expression)e(has)i
(type)g(int)g(but)h(is)f(here)g(used)g(with)g(type)g(string)0
1605 y Fi(W)-7 b(e)28 b(observ)n(e)e(that)i(the)g(full)g(quotation)f
(is)g(underlined,)h(although)f(it)h(concerns)f(only)g(the)h(v)-5
b(ariable)26 b(")p Fb(y)p Fi(".)0 1886 y Fe(20.4.2)113
b(Example)38 b(with)f(an)m(tiquotation)i(no)s(de)0 2056
y Fi(Let)28 b(us)f(consider)g(this)h(second)f(v)n(ersion)f(\(\014le)i
("qb.ml"\):)87 2284 y Fb(#load)42 b("q_MLast.cmo";)87
2384 y(let)h(expr)e(s)j(=)174 2483 y(let)f(ast)f(=)h(Grammar.Entry.par)
o(se)37 b(Pcaml.expr)i(\(Stream.of_string)e(s\))43 b(in)174
2583 y(let)g(loc)f(=)h(Ploc.make)d(1)j(0)g(\(0,)g(String.length)38
b(s\))43 b(in)174 2682 y(<:expr<)e($anti:ast$)e(>>)87
2782 y(in)87 2882 y(Quotation.add)f("b")43 b(\(Quotation.ExAst)37
b(\(expr,)k(fun)h([]\)\);)0 3101 y Fi(As)33 b(ab)r(o)n(v)n(e,)h(the)f
(quotation)g(expander)f(")p Fb(expr)p Fi(")f(tak)n(es)h(the)i(string)e
(parameter)g(\(the)i(con)n(ten)n(ts)f(of)g(the)g(quotation\))g(and)0
3200 y(applies)23 b(the)h(expression)f(parser)f(of)h(the)h(OCaml)f
(language.)34 b(Its)24 b(result,)g(instead)g(of)g(b)r(eing)f(returned)h
(as)f(it)h(is,)g(is)g(enclosed)0 3300 y(with)k(the)g(an)n(tiquotation)f
(no)r(de.)37 b(\(The)28 b(lo)r(cation)e(built)j(is)e(the)h(lo)r(cation)
f(of)h(the)g(whole)f(string.\))0 3517 y(Compilation:)87
3745 y Fb(ocamlc)41 b(-pp)i(camlp5r)d(-I)j(+camlp5)e(-c)i(qb.ml)0
3964 y Fi(No)n(w)27 b(the)h(same)f(test)h(giv)n(es:)87
4192 y Fb($)43 b(ocaml)f(-I)h(+camlp5)d(camlp5r.cma)436
4292 y(Objective)g(Caml)i(version)e(...)436 4491 y(Camlp5)h(Parsing)g
(version)f(...)87 4690 y(#)j(#load)f("qb.cmo";)87 4790
y(#)h(let)g(x)g(=)g("abc")f(and)g(y)h(=)g(25)g(in)g(<:b<)f(x)h(^)g(y)g
(>>;)87 4889 y(Characters)d(37-38:)174 4989 y(let)j(x)g(=)g("abc")f
(and)g(y)h(=)g(25)g(in)g(<:b<)f(x)h(^)g(y)g(>>;)1787
5089 y(^)87 5188 y(This)f(expression)e(has)i(type)g(int)g(but)h(is)f
(here)g(used)g(with)g(type)g(string)0 5407 y Fi(Notice)28
b(that,)g(no)n(w,)f(only)g(the)h(v)-5 b(ariable)26 b(")p
Fb(y)p Fi(")h(is)g(underlined.)1888 5656 y(158)p eop
end
%%Page: 159 161
TeXDict begin 159 160 bop 2720 70 a Fi(CHAPTER)28 b(20.)63
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a Fe(20.4.3)113
b(In)37 b(conclusion)0 543 y Fi(In)28 b(the)g(resulting)f(tree)g(of)h
(the)g(quotation)e(expander:)125 726 y Fh(\017)41 b Fi(only)34
b(p)r(ortions)h(of)g(this)h(tree,)h(whic)n(h)e(are)g(sons)f(of)h(the)h
(expr)f(and)g(patt)h(an)n(tiquotation)e(no)r(des,)j(ha)n(v)n(e)d(the)i
(righ)n(t)208 826 y(lo)r(cation)25 b(they)h(ha)n(v)n(e)f(in)i(the)f
(quotation)f(\(pro)n(vided)h(the)g(quotation)g(expander)f(giv)n(es)g
(it)h(the)h(righ)n(t)e(lo)r(cation)h(of)g(the)208 925
y(an)n(tiquation)g(in)i(the)g(quotation\),)125 1091 y
Fh(\017)41 b Fi(the)28 b(other)f(no)r(des)g(inherit,)h(as)f(lo)r
(cation,)g(the)h(lo)r(cation)f(of)g(the)h(full)g(quotation.)0
1366 y Fc(20.5)136 b(Lo)t(cations)45 b(in)g(quotations)h(and)f(an)l
(tiquotations)0 1548 y Fi(This)27 b(section)f(explains)g(in)h(details)f
(the)h(problem)f(of)g(lo)r(cations)g(in)h(quotations)e(and)i(an)n
(tiquotations.)35 b(It)27 b(is)f(designed)h(for)0 1647
y(programmers)e(of)i(quotation)g(expanders.)0 1847 y(Lo)r(cations)20
b(are)g(the)h(di\016cult)g(p)r(oin)n(t)g(in)g(quotations)f(and)h(an)n
(tiquotations.)33 b(If)22 b(they)f(are)e(not)i(set)g(correctly)-7
b(,)21 b(error)e(messages)0 1946 y(ma)n(y)27 b(highligh)n(t)g(wrong)f
(parts)h(of)h(the)g(source.)0 2145 y(The)g(lo)r(cations)e(are)h(con)n
(trolled:)125 2328 y Fh(\017)41 b Fi(for)27 b(syn)n(tax)f(errors:)35
b(b)n(y)27 b(the)h(exception)g(")p Fb(Ploc.Exc)p Fi(",)23
b(raised)k(b)n(y)g(the)h(function)g(")p Fb(Ploc.raise)p
Fi(",)125 2494 y Fh(\017)41 b Fi(for)c(t)n(yping)h(errors,)h(b)n(y)f
(the)h(syn)n(tax)f(tree)g(no)r(des)g(")p Fb(<:expr<)i($anti:...$)g(>>)p
Fi(")d(and)h(")p Fb(<:meta<)i($anti:...$)208 2594 y(>>)p
Fi(".)0 2776 y(If)28 b(the)g(quotation)f(expander)g(nev)n(er)f(uses)h
(them,)i(all)e(syn)n(tax)g(and)g(t)n(yping)g(errors)f(highligh)n(t)h
(the)h(whole)f(quotation.)0 2976 y(Remark)22 b(that)h(in)g(extensible)f
(grammars,)g(syn)n(tax)g(errors)e(are)i(automatically)f(enclosed)h(b)n
(y)h(the)g(exception)f(")p Fb(Ploc.Exc)p Fi(".)0 3075
y(Therefore,)k(if)j(the)f(quotation)e(is)i(parsed)e(b)n(y)i(an)f
(extensible)h(grammar)d(en)n(try)-7 b(,)27 b(this)h(exception)g(can)f
(b)r(e)h(raised.)0 3274 y(In)k(the)f(syn)n(tax)g(tree)g(no)r(des)g(")p
Fb(<:expr<)40 b($anti:...$)g(>>)p Fi(")30 b(and)h(")p
Fb(<:meta<)40 b($anti:...$)g(>>)p Fi(",)31 b(the)h(lo)r(cation)f(is)g
(indi-)0 3374 y(cated)c(b)n(y)h(the)g(implicit)g(v)-5
b(ariable)27 b(named)g(")p Fb(loc)p Fi(".)35 b(Their)27
b(usage)g(is)g(therefore)g(something)g(lik)n(e:)87 3557
y Fb(let)43 b(loc)f(=)h(...computation)38 b(of)43 b(the)f(location...)d
(in)87 3656 y(<:expr<)i($anti:...$)e(>>)0 3889 y Fe(20.5.1)113
b(In)37 b(the)g(quotation)0 4042 y Fi(All)25 b(lo)r(cations)e(m)n(ust)i
(b)r(e)f(computed)h Fa(r)l(elatively)j(to)f(the)g(quotation)g(string)p
Fi(.)36 b(The)24 b(quotation)g(string)f(is)i(the)f(string)g(b)r(et)n(w)
n(een)0 4142 y(")p Fb(<<)p Fi(")i(or)h(")p Fb(<:name<)p
Fi(")c(and)28 b(")p Fb(>>)p Fi(")e(\(excluded\),)i(the)g(\014rst)f(c)n
(haracter)f(of)h(this)h(string)f(b)r(eing)h(at)f(lo)r(cation)g(zero.)0
4341 y(The)g(quotation)f(system)h(automatically)f(shifts)h(all)f(lo)r
(cations)g(with)i(the)f(lo)r(cation)f(of)h(the)g(quotation:)36
b(the)28 b(programmer)0 4440 y(of)e(the)h(quotation)f(expander)g(do)r
(es)g(not)g(therefore)g(need)h(to)f(care)f(ab)r(out)i(where)f(the)h
(quotation)e(app)r(ears)h(in)g(the)h(source.)0 4673 y
Fe(20.5.2)113 b(In)37 b(an)m(tiquotations)0 4826 y Fi(In)f(an)n
(tiquotations,)g(it)g(is)g(imp)r(ortan)n(t)f(to)g(con)n(trol)g(ho)n(w)g
(the)h(an)n(tiquotation)e(string)h(is)h(parsed.)59 b(F)-7
b(or)35 b(example,)j(if)e(the)0 4926 y(function)30 b(parsing)f(the)h
(an)n(tiquotation)f(string)g(raises)f(")p Fb(Ploc.Exc)p
Fi(",)e(the)k(lo)r(cation)f(of)h(this)g(exception)f(m)n(ust)h(b)r(e)g
(shifted)0 5025 y(with)e(the)g(lo)r(cation)f(of)h(the)g(an)n
(tiquotation)e(in)i(the)g(quotation.)0 5225 y(F)-7 b(or)27
b(example,)g(let)h(us)g(supp)r(ose)f(that)h(the)g(source)e(con)n
(tains:)87 5407 y Fb(<<)43 b(abc^ijk^\(xyz\))38 b(>>)1888
5656 y Fi(159)p eop end
%%Page: 160 162
TeXDict begin 160 161 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a(where)28
b(the)i(an)n(tiquotation)e(is)g(sp)r(eci\014ed)h(b)r(et)n(w)n(een)g
(the)h(caret)e(\(")p Fb(^)p Fi("\))g(c)n(haracters.)38
b(The)29 b(an)n(tiquotation)f(string)g(is)h(")p Fb(ijk)p
Fi(".)0 490 y(It)f(can)f(b)r(e)h(built)g(in)g(the)g(quotation)f
(expander)g(b)n(y:)87 699 y Fb(<:expr<)41 b(ijk)h(>>)0
903 y Fi(If)22 b(used)f(just)h(lik)n(e)f(this,)i(without)e(the)h(")p
Fb(<:expr<)40 b($anti:x$)h(>>)p Fi(",)21 b(in)h(case)e(of)h(t)n(yping)g
(error)f(\(for)h(example)g(if)g(the)h(v)-5 b(ariable)0
1003 y(")p Fb(ijk)p Fi(")25 b(is)j(un)n(b)r(ound\),)g(the)g(OCaml)f
(error)f(message)g(will)i(b)r(e:)87 1212 y Fb(<<)43 b(abc^ijk^\(xyz\))
38 b(>>)87 1312 y(^^^^^^^^^^^^^^^^^)o(^^)87 1412 y(Unbound)j(value)g
(ijk)0 1616 y Fi(T)-7 b(o)24 b(put)i(a)e(lo)r(cation)g(to)h(")p
Fb(ijk)p Fi(",)e(since)i(its)g(lo)r(cation)f(in)h(the)g(quotation)g(is)
f(")p Fb(\(5,)42 b(8\))p Fi(")24 b(\(the)h(")p Fb(i)p
Fi(")f(b)r(eing)h(the)g(5th)g(c)n(haracater)0 1715 y(of)j(the)g
(quotation)e(string,)h(starting)g(at)h(zero\),)e(the)i(quotation)f
(expander)g(can)g(build)h(it)g(lik)n(e)g(this:)87 1925
y Fb(let)43 b(e)g(=)g(<:expr<)e(ijk)h(>>)h(in)87 2024
y(let)g(loc)f(=)h(Ploc.make_unline)o(d)38 b(\(5,)k(8\))h(in)87
2124 y(<:expr<)e($anti:e$)f(>>)0 2328 y Fi(In)28 b(this)g(case,)e(the)i
(p)r(ossible)g(t)n(yping)f(error)f(message)g(will)i(b)r(e:)87
2537 y Fb(<<)43 b(abc^ijk^\(xyz\))38 b(>>)392 2637 y(^^^)87
2737 y(Unbound)j(value)g(ijk)0 2941 y Fi(This)28 b(case)e(is)i(simple,)
g(since)f(the)h(an)n(tiquotation)f(is)g(just)h(an)g(iden)n(ti\014er,)f
(and)h(there)f(is)g(no)h(parser)e(computing)h(it.)0 3151
y(If)i(the)h(an)n(tiquotation)e(has)h(to)f(b)r(e)i(parsed,)e(for)h
(example)g(if)g(it)h(is)f(a)f(complicated)h(expression,)f(there)h(are)f
(t)n(w)n(o)g(p)r(oin)n(ts)h(to)0 3250 y(care)d(ab)r(out:)0
3460 y(First,)f(the)g(syn)n(tax)f(error)e(messages.)35
b(If)25 b(the)g(parser)e(of)h(the)h(an)n(tiquotation)f(raises)f(")p
Fb(Ploc.Exc)p Fi(",)e(its)k(lo)r(cation)f(is)g(relativ)n(e)0
3560 y(to)j(the)g(an)n(tiquotation.)35 b(It)27 b(m)n(ust)g(therefore)f
(b)r(e)h(shifted)g(to)g(corresp)r(ond)e(to)h(a)h(lo)r(cation)f(in)h
(the)g(quotation.)36 b(If)27 b(")p Fb(f)p Fi(")e(is)i(the)0
3659 y(parsing)21 b(function)i(and)g(")p Fb(sh)p Fi(")e(the)i(shift)g
(of)f(the)h Fa(antiquotation)30 b Fi(in)23 b(the)g Fa(quotation)29
b Fi(\(whose)22 b(v)-5 b(alue)23 b(is)f(")p Fb(5)p Fi(")f(in)i(the)g
(example\),)0 3759 y(the)28 b(co)r(de)f(m)n(ust)h(b)r(e)g(something)f
(lik)n(e:)87 3968 y Fb(try)43 b(f)g(\(\))f(with)87 4068
y([)h(Ploc.Exc)e(loc)h(exc)g(->)h(Ploc.raise)d(\(Ploc.shift)f(sh)j
(loc\))g(exc)h(])0 4272 y Fi(Second,)34 b(the)g(t)n(yping)f(error)e
(messages.)52 b(Here,)34 b(the)g(ab)r(o)n(v)n(e)e(co)r(de)h(with)g(")p
Fb(<:expr<)41 b($anti:e$)f(>>)p Fi(")32 b(can)h(apply)g(to)g(the)0
4372 y(resulting)27 b(tree.)0 4582 y(The)32 b(complete)f(co)r(de,)i
(taking)e(the)h(p)r(ossible)f(syn)n(tax)f(error)g(messages)g(and)h(the)
h(p)r(ossible)g(t)n(yping)f(error)e(messages)h(in)n(to)0
4681 y(accoun)n(t,)d(can)g(b)r(e)h(\(where)f(")p Fb(len)p
Fi(")f(is)h(the)h(an)n(tiquotation)f(length\):)87 4891
y Fb(let)43 b(e)g(=)174 4990 y(try)g(f)g(\(\))g(with)174
5090 y([)h(Ploc.Exc)c(loc)i(exc)g(->)h(Ploc.raise)d(\(Ploc.shift)f(sh)j
(loc\))g(exc)h(])87 5189 y(in)87 5289 y(let)g(loc)f(=)h
(Ploc.make_unline)o(d)38 b(\(sh,)k(sh)g(+)h(len\))f(in)87
5389 y(<:expr<)f($anti:e$)f(>>)1888 5656 y Fi(160)p eop
end
%%Page: 161 163
TeXDict begin 161 162 bop 2720 70 a Fi(CHAPTER)28 b(20.)63
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a Fc(20.6)136
b(Lo)t(cated)45 b(errors)0 575 y Fi(If)28 b(the)g(quotation)f(expander)
g(raises)f(an)h(exception,)g(b)n(y)h(default,)g(the)g(whole)f
(quotation)g(is)g(underlined:)87 765 y Fb($)43 b(cat)g(foo.ml)87
864 y(#load)f("q_MLast.cmo";)87 964 y(let)h(expr)e(s)j(=)f(raise)e
(\(Failure)g("hello"\))f(in)87 1064 y(Quotation.add)e("a")43
b(\(Quotation.ExAst)37 b(\(expr,)k(fun)h([]\)\);)87 1263
y($)h(ocaml)f(-I)h(+camlp5)d(camlp5r.cma)436 1362 y(Objective)g(Caml)i
(version)e(...)436 1562 y(Camlp5)h(Parsing)g(version)f(...)87
1761 y(#)j(#use)f("foo.ml";)87 1861 y(-)h(:)h(unit)d(=)j(\(\))87
1960 y(#)f(<:a<)f(good)g(morning)f(>>;)87 2060 y(Toplevel)f(input:)87
2159 y(#)j(<:a<)f(good)g(morning)f(>>;)174 2259 y(^^^^^^^^^^^^^^^^^)o
(^^)o(^)87 2359 y(While)h(expanding)e(quotation)f("a":)87
2458 y(Failure:)h(hello)0 2647 y Fi(T)-7 b(o)27 b(sp)r(ecify)h(a)f(lo)r
(cation)g(of)h(the)g(exception,)f(use)g(the)h(function)g(")p
Fb(Ploc.raise)p Fi(")23 b(instead)k(of)h(")p Fb(raise)p
Fi(".)34 b(In)28 b(this)f(example,)0 2746 y(let)h(us)f(supp)r(ose)h
(that)g(w)n(e)f(w)n(an)n(t)g(only)g(the)h(c)n(haracters)d(5)i(to)h(7)f
(are)g(underlined.)37 b(This)27 b(can)g(b)r(e)h(done)g(lik)n(e)f(this:)
87 2936 y Fb($)43 b(cat)g(foo.ml)87 3036 y(#load)f("q_MLast.cmo";)87
3136 y(let)h(expr)e(s)j(=)f(Ploc.raise)c(\(Ploc.make)h(1)j(0)g(\(5,)f
(7\)\))h(\(Failure)d("hello"\))g(in)87 3235 y(Quotation.add)e("a")43
b(\(Quotation.ExAst)37 b(\(expr,)k(fun)h([]\)\);)87 3434
y($)h(ledit)f(ocaml)f(-I)i(+camlp5)e(camlp5r.cma)436
3534 y(Objective)f(Caml)i(version)e(...)436 3733 y(Camlp5)h(Parsing)g
(version)f(...)87 3933 y(#)j(#use)f("foo.ml";)87 4032
y(-)h(:)h(unit)d(=)j(\(\))87 4132 y(#)f(<:a<)f(good)g(morning)f(>>;)87
4231 y(Toplevel)f(input:)87 4331 y(#)j(<:a<)f(good)g(morning)f(>>;)567
4431 y(^^)87 4530 y(While)h(expanding)e(quotation)f("a":)87
4630 y(Failure:)h(hello)0 4912 y Fc(20.7)136 b(The)44
b(Quotation)i(mo)t(dule)0 5097 y Fb(type)c(expander)e(=)87
5196 y([)j(ExStr)f(of)h(bool)f(->)g(string)f(->)i(string)87
5296 y(|)g(ExAst)f(of)h(\(string)d(->)j(MLast.expr)d(*)j(string)e(->)i
(MLast.patt\))c(])0 5396 y(;)1888 5656 y Fi(161)p eop
end
%%Page: 162 164
TeXDict begin 162 163 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 201 390 a(Is)27
b(the)h(t)n(yp)r(e)g(for)f(quotation)g(expander)f(kinds:)307
569 y Fh(\017)41 b Fi(")p Fb(Quotation.ExStr)c(exp)p
Fi(")c(corresp)r(onds)f(to)i(an)g(expander)f(")p Fb(exp)p
Fi(")f(returning)i(a)f(string)h(whic)n(h)g(is)g(parsed)390
669 y(b)n(y)f(the)h(system)f(to)g(create)f(a)h(syn)n(tax)g(tree.)53
b(Its)33 b(b)r(o)r(olean)g(parameter)f(tells)h(whether)g(the)h
(quotation)f(is)g(in)390 769 y(p)r(osition)25 b(of)f(an)g(expression)f
(\(T)-7 b(rue\))25 b(or)f(in)h(p)r(osition)f(of)h(a)f(pattern)g(\(F)-7
b(alse\).)36 b(Quotations)23 b(expanders)h(created)390
868 y(this)31 b(w)n(a)n(y)f(ma)n(y)g(w)n(ork)g(for)g(some)h(particular)
e(OCaml)i(syn)n(tax,)g(and)f(not)h(for)g(another)f(one)g(\(e.g.)47
b(ma)n(y)30 b(w)n(ork)390 968 y(when)e(used)g(with)g(revised)e(syn)n
(tax)h(and)g(not)h(when)g(used)f(with)i(normal)d(syn)n(tax,)h(and)g
(con)n(v)n(ersely\).)307 1107 y Fh(\017)41 b Fi(")p Fb(Quotation.ExAst)
c(\(expr)p 1354 1107 27 4 v 29 w(exp,)42 b(patt)p 1777
1107 V 30 w(exp\))p Fi(")d(corresp)r(onds)h(to)h(expanders)f(returning)
g(syn)n(tax)h(trees,)390 1207 y(therefore)28 b(not)g(necessitating)g
(to)g(b)r(e)h(parsed)e(afterw)n(ards.)38 b(The)29 b(function)g(")p
Fb(expr)p 3022 1207 V 29 w(exp)p Fi(")e(is)h(called)g(when)h(the)390
1307 y(quotation)g(is)g(in)g(p)r(osition)h(of)f(an)g(expression,)f(and)
h(")p Fb(patt)p 2294 1307 V 29 w(exp)p Fi(")f(when)h(the)h(quotation)f
(is)g(in)g(p)r(osition)g(of)g(a)390 1406 y(pattern.)37
b(Quotation)27 b(expanders)f(created)h(this)h(w)n(a)n(y)e(are)h(indep)r
(enden)n(t)h(from)f(the)h(enclosing)f(syn)n(tax.)0 1599
y Fb(value)42 b(add)g(:)87 b(string)41 b(->)h(expander)f(->)i(unit;)208
1738 y Fi(")p Fb(Quotation.add)37 b(name)42 b(exp)p Fi(")26
b(adds)h(the)h(quotation)f(")p Fb(name)p Fi(")e(asso)r(ciated)i(with)h
(the)g(expander)e(")p Fb(exp)p Fi(".)0 1931 y Fb(value)42
b(find)f(:)87 b(string)41 b(->)i(expander;)208 2070 y
Fi(")p Fb(Quotation.find)37 b(name)p Fi(")25 b(returns)i(the)h
(quotation)f(expander)g(of)g(the)h(giv)n(en)f(name.)0
2263 y Fb(value)42 b(default)e(:)87 b(ref)42 b(string;)208
2402 y Fi(The)23 b(name)g(of)h(the)g(default)f(quotation)g(:)35
b(it)24 b(is)f(p)r(ossible)g(to)h(use)f(this)h(quotation)f(b)r(et)n(w)n
(een)g(")p Fb(<<)p Fi(")f(and)h(")p Fb(>>)p Fi(")f(without)208
2502 y(ha)n(ving)k(to)i(sp)r(ecify)f(its)h(name.)0 2694
y Fb(value)42 b(translate)d(:)87 b(ref)42 b(\(string)f(->)i(string\);)
208 2834 y Fi(F)-7 b(unction)18 b(translating)g(quotation)f(names;)k
(default)e(=)f(iden)n(tit)n(y)-7 b(.)34 b(Used)19 b(in)f(the)h
(prede\014ned)f(quotation)g(")p Fb(q)p 3544 2834 V 31
w(phony.cmo)p Fi(".)208 2933 y(See)27 b(b)r(elo)n(w.)0
3129 y(Some)f(other)g(useful)h(functions)g(for)f(quotations)g(are)f
(de\014ned)i(in)g(the)g(mo)r(dule)g(")p Fb(Pcaml)p Fi(".)34
b(See)26 b(the)h(c)n(hapter)f("The)g(Pcaml)0 3229 y(mo)r(dule",)h
(section)h("Quotation)e(managemen)n(t".)0 3521 y Fc(20.8)136
b(Prede\014ned)44 b(quotations)0 3725 y Fe(20.8.1)113
b(q)p 465 3725 34 4 v 40 w(MLast.cmo)0 3885 y Fi(This)21
b(extension)f(kit)h(add)g(quotations)e(of)i(OCaml)f(syn)n(tax)g(tree,)i
(allo)n(wing)d(to)i(use)f(concrete)g(syn)n(tax)g(to)h(represen)n(t)e
(abstract)0 3984 y(syn)n(tax.)36 b(See)28 b(the)g(c)n(hapter)e(Syn)n
(tax)h(tree.)0 4234 y Fe(20.8.2)113 b(q)p 465 4234 V
40 w(ast.cmo)0 4394 y Fi(As)28 b(with)g(the)g(previous)f(quotation,)g
(this)h(extension)f(kit)h(add)f(quotations)g(of)g(OCaml)h(syn)n(tax)e
(tree,)i(but)g(in)g(the)g(curren)n(t)0 4493 y(user)h(syn)n(tax)g(with)h
(all)g(extensions,)f(the)h(previous)f(one)g(b)r(eing)h(restricted)f(to)
h(revised)e(syn)n(tax)h(without)h(extension.)43 b(See)0
4593 y(the)28 b(c)n(hapters)e(Syn)n(tax)i(tree)f(and)g(Syn)n(tax)g
(tree)h(quotations)e(in)i(user)f(syn)n(tax.)0 4843 y
Fe(20.8.3)113 b(q)p 465 4843 V 40 w(phon)m(y)-9 b(.cmo)0
5002 y Fi(This)33 b(extension)f(kit)g(is)h(designed)f(for)g(prett)n(y)g
(prin)n(ting)g(and)h(m)n(ust)f(b)r(e)h(loaded)f(after)g(a)h(language)d
(prett)n(y)j(prin)n(ting)f(kit)0 5102 y(\(in)25 b(normal)f(or)g(in)h
(revised)f(syn)n(tax\).)35 b(It)25 b(prev)n(en)n(ts)f(the)h(expansions)
f(of)h(quotations,)f(transforming)f(them)j(in)n(to)e(v)-5
b(ariables.)0 5201 y(The)28 b(prett)n(y)f(prin)n(ting)g(then)h(k)n
(eeps)f(the)h(initial)g(\(source\))f(form.)0 5407 y(The)h(macros)e
(\(extension)h(")p Fb(pa)p 987 5407 27 4 v 30 w(macro.cmo)p
Fi("\))d(are)j(also)f(displa)n(y)n(ed)h(in)g(their)h(initial)g(form,)f
(instead)h(of)f(expanded.)1888 5656 y(162)p eop end
%%Page: 163 165
TeXDict begin 163 164 bop 2720 70 a Fi(CHAPTER)28 b(20.)63
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 0 390 a Fc(20.9)136
b(A)44 b(full)h(example:)62 b(lam)l(b)t(da)45 b(terms)0
572 y Fi(This)27 b(example)g(allo)n(ws)f(to)h(represen)n(t)f(lam)n(b)r
(da)h(terms)g(b)n(y)g(a)g(concrete)f(syn)n(tax)h(and)g(to)g(b)r(e)h
(able)f(to)g(com)n(bine)g(them)g(using)0 672 y(an)n(tiquotations.)0
871 y(A)h(lam)n(b)r(da)f(term)h(is)f(de\014ned)h(lik)n(e)f(this:)87
1048 y Fb(type)42 b(term)g(=)174 1148 y([)i(Lam)e(of)h(string)e(and)h
(term)174 1247 y(|)i(App)e(of)h(term)f(and)g(term)174
1347 y(|)i(Var)e(of)h(string)e(])87 1447 y(;)0 1624 y
Fi(Examples:)87 1801 y Fb(value)h(fst)g(=)h(Lam)g("x")f(\(Lam)g("y")g
(\(Var)g("x"\)\);)87 1901 y(value)g(snd)g(=)h(Lam)g("x")f(\(Lam)g("y")g
(\(Var)g("y"\)\);)87 2000 y(value)g(delta)f(=)i(Lam)g("x")f(\(App)g
(\(Var)g("x"\))g(\(Var)g("x"\)\);)87 2100 y(value)g(omega)f(=)i(App)g
(delta)e(delta;)87 2200 y(value)h(comb_s)f(=)174 2299
y(Lam)i("x")262 2399 y(\(Lamb)e("y")392 2498 y(\(Lamb)h("z")523
2598 y(\(App)g(\(App)g(\(Var)g("x"\))g(\(Var)g("y"\)\))f(\(App)h(\(Var)
g("x"\))g(\(Var)g("z"\)\)\)\)\);)0 2775 y Fi(Since)35
b(com)n(binations)f(of)h(lam)n(b)r(da)f(term)h(ma)n(y)f(b)r(e)h
(complicated,)i(The)d(idea)h(is)g(to)f(represen)n(t)g(them)h(b)n(y)g
(quotations)f(in)0 2875 y(concrete)27 b(syn)n(tax.)36
b(W)-7 b(e)28 b(w)n(an)n(t)f(to)g(b)r(e)h(able)f(to)h(write)f(the)h
(examples)f(ab)r(o)n(v)n(e)f(lik)n(e)i(this:)87 3052
y Fb(value)42 b(fst)g(=)h(<<)g(\\x.\\y.x)e(>>;)87 3152
y(value)h(snd)g(=)h(<<)g(\\x.\\y.y)e(>>;)87 3251 y(value)h(delta)f(=)i
(<<)g(\\x.x)f(x)h(>>)87 3351 y(value)f(omega)f(=)i(<<)g(^delta)e
(^delta)g(>>;)87 3451 y(value)h(comb_s)f(=)i(<<)g(\\x.\\y.\\z.\(x)c
(y\)\(x)j(z\))g(>>;)0 3628 y Fi(whic)n(h)28 b(is)f(a)g(classic)g
(represen)n(tation)f(of)h(lam)n(b)r(da)g(terms.)0 3827
y(Notice,)33 b(in)f(the)g(de\014nition)g(of)g(")p Fb(omega)p
Fi(",)e(the)i(use)g(of)g(the)g(caret)f(\(")p Fb(^)p Fi("\))g(sign)g(to)
h(sp)r(ecify)g(an)n(tiquotations.)48 b(Notice)32 b(also)0
3927 y(the)c(simplicit)n(y)g(of)f(the)h(represen)n(tation)e(of)i(the)g
(expression)e(de\014ning)h(")p Fb(comb)p 2476 3927 27
4 v 30 w(s)p Fi(".)0 4126 y(Here)k(is)h(the)g(co)r(de)f(of)h(the)g
(quotation)f(expander,)h(term.ml.)49 b(The)31 b(expander)g(uses)g(the)h
(extensible)g(grammars.)47 b(It)32 b(has)0 4225 y(its)27
b(o)n(wn)f(lexer)g(\(using)g(the)h(stream)f(lexers\))g(b)r(ecause)g
(the)h(lexer)f(of)g(OCaml)g(programs)e(\(")p Fb(Plexer.gmake)39
b(\(\))p Fi("\),)26 b(cannot)0 4325 y(recognize)g(the)i(bac)n(kslashes)
e(alone.)0 4557 y Fe(20.9.1)113 b(Lexer)87 4710 y Fb(\(*)43
b(lexer)e(*\))87 4909 y(#load)h("pa_lexer.cmo";)87 5108
y(value)g(rec)g(ident)g(=)174 5208 y(lexer)174 5308 y([)i([)f('a'-'z')d
(|)k('A'-'Z')c(|)j('0'-'9')e(|)i('-')g(|)g('_')f(|)h('\\128'-'\\255')c
(])262 5407 y(ident!)1888 5656 y Fi(163)p eop end
%%Page: 164 166
TeXDict begin 164 165 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 174 390 a Fb(|)44
b(])87 490 y(;)87 689 y(value)e(empty)f(_)i(=)h(parser)d([:)h(_)i(=)f
(Stream.empty)38 b(:])43 b(->)g([];)87 888 y(value)f(rec)g(next_tok)e
(=)174 988 y(lexer)174 1088 y([)k("\\\\")d(->)i(\("BSLASH",)d(""\))174
1187 y(|)k("^")e(->)h(\("CARET",)c(""\))174 1287 y(|)44
b('a'-'z')c(ident!)h(->)i(\("IDENT",)d($buf\))174 1386
y(|)k("\(")e(->)h(\("",)f("\("\))174 1486 y(|)i("\)")e(->)h(\("",)f
("\)"\))174 1586 y(|)i(".")e(->)h(\("",)f("."\))174 1685
y(|)i(empty)d(->)i(\("EOS",)d(""\))174 1785 y(|)k(->)e(raise)g
(\(Stream.Error)c("lexing)j(error:)g(bad)h(character"\))d(])87
1885 y(;)87 2084 y(value)j(rec)g(skip_spaces)d(=)k(lexer)f([)h(")g
(\\n\\r"/)e(skip_spaces!)e(|)k(];)87 2283 y(value)f(record_loc)d(loct)j
(i)h(\(bp,)f(ep\))h(=)g(do)f({)174 2383 y(if)h(i)g(>=)g(Array.length)c
(loct.val)h(then)i(do)h({)262 2482 y(let)f(newt)g(=)349
2582 y(Array.init)d(\(2)k(*)g(Array.length)c(loct.val)h(+)j(1\))436
2682 y(\(fun)f(i)h(->)567 2781 y(if)f(i)i(<)f(Array.length)38
b(loct.val)j(then)h(loct.val.\(i\))567 2881 y(else)g(Ploc.dummy\))262
2980 y(in)262 3080 y(loct.val)e(:=)j(newt;)174 3180 y(})174
3279 y(else)f(\(\);)174 3379 y(loct.val.\(i\))d(:=)k(Ploc.make_unline)o
(d)37 b(\(bp,)42 b(ep\))87 3479 y(};)87 3678 y(value)g(lex_func)e(cs)j
(=)174 3778 y(let)g(loct)f(=)h(ref)f([|)h(|])g(in)174
3877 y(let)g(ts)f(=)262 3977 y(Stream.from)349 4076 y(\(fun)g(i)h(->)g
(do)f({)479 4176 y(ignore)g(\(skip_spaces)c($empty)j(cs)i(:)g(list)f
(char\);)479 4276 y(let)h(bp)g(=)g(Stream.count)38 b(cs)43
b(in)479 4375 y(let)g(r)g(=)g(next_tok)d($empty)i(cs)g(in)479
4475 y(let)h(ep)g(=)g(Stream.count)38 b(cs)43 b(in)479
4575 y(record_loc)d(loct)i(i)h(\(bp,)f(ep\);)479 4674
y(Some)g(r)392 4774 y(}\))174 4873 y(in)174 4973 y(\(ts,)g(fun)h(i)g
(->)g(loct.val.\(i\)\))87 5073 y(;)87 5272 y(value)f(lam_lex)e(=)174
5372 y({Plexing.tok_func)d(=)43 b(lex_func;)1888 5656
y Fi(164)p eop end
%%Page: 165 167
TeXDict begin 165 166 bop 2720 70 a Fi(CHAPTER)28 b(20.)63
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 218 390 a Fb(Plexing.tok_usin)o
(g)37 b(_)44 b(=)f(\(\);)f(Plexing.tok_remov)o(in)o(g)37
b(_)44 b(=)f(\(\);)218 490 y(Plexing.tok_matc)o(h)37
b(=)44 b(Plexing.default)o(_ma)o(tc)o(h;)218 589 y(Plexing.tok_text)37
b(=)43 b(Plexing.lexer_te)o(xt;)218 689 y(Plexing.tok_comm)37
b(=)43 b(None})87 789 y(;)0 1057 y Fe(20.9.2)113 b(P)m(arser)87
1223 y Fb(\(*)43 b(parser)e(*\))87 1422 y(#load)h("pa_extend.cmo")o(;)
87 1522 y(#load)g("q_MLast.cmo";)87 1721 y(value)g(g)h(=)g
(Grammar.gcreate)37 b(lam_lex;)87 1821 y(value)42 b(expr_term_eos)c(=)
43 b(Grammar.Entry.cr)o(eat)o(e)37 b(g)44 b("term";)87
1920 y(value)e(patt_term_eos)c(=)43 b(Grammar.Entry.cr)o(eat)o(e)37
b(g)44 b("term";)87 2120 y(EXTEND)174 2219 y(GLOBAL:)d(expr_term_eos)d
(patt_term_eos;)174 2319 y(expr_term_eos:)262 2418 y([)43
b([)g(x)g(=)g(expr_term;)d(EOS)i(->)h(x)g(])g(])174 2518
y(;)174 2618 y(expr_term:)262 2717 y([)g([)g(BSLASH;)e(i)i(=)g(IDENT;)e
(".";)h(t)h(=)g(SELF)f(->)h(<:expr<)e(Lam)h($str:i$)f($t$)h(>>)h(])262
2817 y(|)g([)g(x)g(=)g(SELF;)f(y)h(=)g(SELF)f(->)h(<:expr<)d(App)j($x$)
f($y$)g(>>)h(])262 2917 y(|)g([)g(i)g(=)g(IDENT)f(->)g(<:expr<)f(Var)i
($str:i$)d(>>)349 3016 y(|)j(CARET;)e(r)i(=)g(expr_antiquot)c(->)j(r)
349 3116 y(|)h("\(";)f(t)h(=)g(SELF;)f("\)")g(->)h(t)g(])g(])174
3215 y(;)174 3315 y(expr_antiquot:)262 3415 y([)g([)g(i)g(=)g(IDENT)f
(->)479 3514 y(let)h(r)g(=)567 3614 y(let)f(loc)g(=)h
(Ploc.make_unlined)37 b(\(0,)42 b(String.length)d(i\))j(in)567
3714 y(<:expr<)e($lid:i$)h(>>)479 3813 y(in)479 3913
y(<:expr<)g($anti:r$)f(>>)j(])g(])174 4012 y(;)174 4112
y(patt_term_eos:)262 4212 y([)g([)g(x)g(=)g(patt_term;)d(EOS)i(->)h(x)g
(])g(])174 4311 y(;)174 4411 y(patt_term:)262 4511 y([)g([)g(BSLASH;)e
(i)i(=)g(IDENT;)e(".";)h(t)h(=)g(SELF)f(->)h(<:patt<)e(Lam)h($str:i$)f
($t$)h(>>)h(])262 4610 y(|)g([)g(x)g(=)g(SELF;)f(y)h(=)g(SELF)f(->)h
(<:patt<)d(App)j($x$)f($y$)g(>>)h(])262 4710 y(|)g([)g(i)g(=)g(IDENT)f
(->)g(<:patt<)f(Var)i($str:i$)d(>>)349 4809 y(|)j(CARET;)e(r)i(=)g
(patt_antiquot)c(->)j(r)349 4909 y(|)h("\(";)f(t)h(=)g(SELF;)f("\)")g
(->)h(t)g(])g(])174 5009 y(;)174 5108 y(patt_antiquot:)262
5208 y([)g([)g(i)g(=)g(IDENT)f(->)479 5308 y(let)h(r)g(=)567
5407 y(let)f(loc)g(=)h(Ploc.make_unlined)37 b(\(0,)42
b(String.length)d(i\))j(in)1888 5656 y Fi(165)p eop end
%%Page: 166 168
TeXDict begin 166 167 bop 0 70 a Fi(CHAPTER)27 b(20.)64
b(QUOT)-7 b(A)g(TIONS)p 0 103 3900 4 v 567 390 a Fb(<:patt<)40
b($lid:i$)h(>>)479 490 y(in)479 589 y(<:patt<)g($anti:r$)f(>>)j(])g(])
174 689 y(;)87 789 y(END;)87 988 y(value)f(expand_expr)d(s)k(=)174
1088 y(Grammar.Entry.par)o(se)37 b(expr_term_eos)h(\(Stream.of_string)f
(s\))87 1187 y(;)87 1287 y(value)42 b(expand_patt)d(s)k(=)174
1386 y(Grammar.Entry.par)o(se)37 b(patt_term_eos)h(\(Stream.of_string)f
(s\))87 1486 y(;)87 1685 y(Quotation.add)h("term")j(\(Quotation.ExAst)c
(\(expand_expr,)i(expand_patt\)\);)87 1785 y(Quotation.default)o(.v)o
(al)e(:=)43 b("term";)0 2012 y Fe(20.9.3)113 b(Compilation)38
b(and)h(test)0 2165 y Fi(Compilation:)87 2316 y Fb(ocamlc)i(-pp)i
(camlp5r)d(-I)j(+camlp5)e(-c)i(term.ml)0 2467 y Fi(Example,)22
b(in)g(the)g(toplev)n(el,)h(including)f(a)f(seman)n(tic)g(error,)g
(correctly)f(underlined,)j(thanks)f(to)f(the)i(an)n(tiquotation)d(no)r
(des:)87 2618 y Fb($)43 b(ocaml)f(-I)h(+camlp5)d(camlp5r.cma)436
2717 y(Objective)g(Caml)i(version)e(...)436 2917 y(Camlp5)h(Parsing)g
(version)f(...)87 3116 y(#)j(#load)f("term.cmo";)87 3215
y(#)h(type)f(term)g(=)218 3315 y([)h(Lam)f(of)h(string)e(and)i(term)218
3415 y(|)g(App)f(of)h(term)f(and)g(term)218 3514 y(|)130
b(Var)43 b(of)f(string)f(])174 3614 y(;)87 3714 y(type)h(term)g(=)174
3813 y([)i(Lam)e(of)h(string)e(and)h(term)g(|)h(App)g(of)f(term)g(and)h
(term)e(|)j(Var)e(of)h(string)e(])87 3913 y(#)i(value)f(comb_s)f(=)i
(<<)g(\\x.\\y.\\z.\(x)c(y\)\(x)j(z\))h(>>;)87 4012 y(value)f(comb_s)f
(:)i(term)f(=)174 4112 y(Lam)h("x")218 4212 y(\(Lam)f("y")305
4311 y(\(Lam)g("z")g(\(App)g(\(App)g(\(Var)g("x"\))g(\(Var)g("y"\)\))g
(\(App)f(\(Var)h("x"\))g(\(Var)g("z"\)\)\)\)\))87 4411
y(#)h(value)f(omega)f(=)j(<<)e(^delta)f(^delta)h(>>;)87
4511 y(Characters)e(18-23:)174 4610 y(value)i(omega)f(=)j(<<)e(^delta)f
(^delta)h(>>;)959 4710 y(^^^^^)87 4809 y(Unbound)f(value)g(delta)87
4909 y(#)i(value)f(delta)f(=)j(<<)e(\\x.x)g(x)h(>>;)87
5009 y(value)f(delta)f(:)i(term)f(=)h(Lam)g("x")f(\(App)g(\(Var)g
("x"\))g(\(Var)g("x"\)\))87 5108 y(#)h(value)f(omega)f(=)j(<<)e(^delta)
f(^delta)h(>>;)87 5208 y(value)g(omega)f(:)i(term)f(=)174
5308 y(App)h(\(Lam)f("x")g(\(App)g(\(Var)g("x"\))g(\(Var)g("x"\)\)\))
262 5407 y(\(Lam)f("x")i(\(App)f(\(Var)g("x"\))g(\(Var)g("x"\)\)\))1888
5656 y Fi(166)p eop end
%%Page: 167 169
TeXDict begin 167 168 bop 0 1013 a Fd(Chapter)65 b(21)0
1428 y Fg(The)77 b(revised)g(syn)-6 b(tax)0 1860 y Fi(The)33
b(revised)e(syn)n(tax)h(is)h(an)f(alternativ)n(e)f(syn)n(tax)h(of)h
(OCaml.)51 b(It)33 b(is)g(close)e(to)i(the)g(normal)e(syn)n(tax.)52
b(W)-7 b(e)33 b(presen)n(t)f(here)0 1959 y(only)27 b(the)h
(di\013erences)f(b)r(et)n(w)n(een)h(the)g(t)n(w)n(o)f(syn)n(taxes.)0
2159 y(Notice)33 b(that)g(there)g(is)g(a)g(simple)g(w)n(a)n(y)f(to)h
(kno)n(w)f(ho)n(w)h(the)g(normal)f(syn)n(tax)g(is)h(written)g(in)h
(revised)e(syn)n(tax:)47 b(write)33 b(the)0 2258 y(co)r(de)27
b(in)h(a)f(\014le)h("fo)r(o.ml")f(in)h(normal)e(syn)n(tax)h(and)g(t)n
(yp)r(e,)h(in)g(a)f(shell:)87 2434 y Fb(camlp5o)41 b(pr_r.cmo)f
(pr_rp.cmo)g(foo.ml)0 2610 y Fi(And,)28 b(con)n(v)n(ersely)-7
b(,)26 b(ho)n(w)h(a)g(\014le)h("bar.ml")e(written)i(in)f(revised)g(syn)
n(tax)g(is)g(displa)n(y)n(ed)g(in)h(normal)e(syn)n(tax:)87
2785 y Fb(camlp5r)41 b(pr_o.cmo)f(pr_op.cmo)g(bar.ml)0
2961 y Fi(Ev)n(en)27 b(simpler,)g(without)h(creating)f(a)g(\014le:)87
3137 y Fb(camlp5o)41 b(pr_r.cmo)f(pr_op.cmo)g(-impl)i(-)87
3236 y(...)h(type)e(in)i(normal)e(syntax)g(...)87 3336
y(...)i(type)e(control-D)f(...)87 3436 y(camlp5r)h(pr_o.cmo)f
(pr_rp.cmo)g(-impl)i(-)87 3535 y(...)h(type)e(in)i(revised)e(syntax)g
(...)87 3635 y(...)i(type)e(control-D)f(...)0 3908 y
Fc(21.1)136 b(Lexing)125 4090 y Fh(\017)41 b Fi(The)27
b(c)n(haracter)f(quote)h(\()p Fb(')p Fi(\))h(can)f(b)r(e)h(written)g
(without)g(bac)n(kslash:)p 655 4215 2798 4 v 653 4315
4 100 v 705 4285 a(OCaml)p 2052 4315 V 1140 w(Revised)p
3451 4315 V 655 4318 2798 4 v 653 4418 4 100 v 705 4388
a Fb(')p Fh(n)p Fb('')p 2052 4418 V 1225 w(''')p 3451
4418 V 655 4421 2798 4 v 0 4636 a Fc(21.2)136 b(Mo)t(dules,)45
b(Structure)f(and)h(Signature)g(items)125 4818 y Fh(\017)c
Fi(Structure)27 b(and)g(signature)g(items)h(alw)n(a)n(ys)d(end)j(with)g
(a)g(single)f(semicolon)f(whic)n(h)i(is)f(required.)125
4981 y Fh(\017)41 b Fi(In)27 b(structures,)g(the)h(declaration)e(of)i
(a)f(v)-5 b(alue)28 b(is)f(in)n(tro)r(duced)g(b)n(y)h(the)g(k)n(eyw)n
(ord)d("v)-5 b(alue",)27 b(instead)g(of)h("let":)p 655
5102 V 653 5201 4 100 v 705 5171 a(OCaml)p 2052 5201
V 1140 w(Revised)p 3451 5201 V 655 5205 2798 4 v 653
5304 4 100 v 705 5274 a Fb(let)42 b(x)h(=)g(42;;)p 2052
5304 V 875 w(value)e(x)i(=)g(42;)p 3451 5304 V 653 5404
V 705 5374 a(let)f(x)h(=)g(42)g(in)g(x)g(+)g(7;;)p 2052
5404 V 483 w(let)f(x)h(=)g(42)g(in)g(x)g(+)g(7;)p 3451
5404 V 655 5407 2798 4 v 1888 5656 a Fi(167)p eop end
%%Page: 168 170
TeXDict begin 168 169 bop 0 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 125
390 a Fh(\017)41 b Fi(In)27 b(signatures,)g(the)h(declaration)e(of)h(a)
g(v)-5 b(alue)28 b(is)f(also)g(in)n(tro)r(duced)g(b)n(y)h(the)g(k)n
(eyw)n(ord)d("v)-5 b(alue",)27 b(instead)g(of)h("v)-5
b(al":)p 655 549 2798 4 v 653 648 4 100 v 705 618 a(OCaml)p
2052 648 V 1140 w(Revised)p 3451 648 V 655 652 2798 4
v 653 751 4 100 v 705 721 a Fb(val)42 b(x)h(:)87 b(int;;)p
2052 751 V 787 w(value)41 b(x)i(:)87 b(int;)p 3451 751
V 655 755 2798 4 v 125 956 a Fh(\017)41 b Fi(In)27 b(signatures,)g
(abstract)f(mo)r(dule)i(t)n(yp)r(es)g(are)e(represen)n(ted)h(b)n(y)g(a)
g(quote)g(and)h(an)f(\(an)n(y\))h(iden)n(ti\014er:)p
655 1119 V 653 1219 4 100 v 705 1189 a(OCaml)p 2052 1219
V 1140 w(Revised)p 3451 1219 V 655 1222 2798 4 v 653
1322 4 100 v 705 1292 a Fb(module)41 b(type)h(MT;;)p
2052 1322 V 700 w(module)f(type)h(MT)g(=)i('a;)p 3451
1322 V 655 1325 2798 4 v 125 1522 a Fh(\017)d Fi(F)-7
b(unctor)27 b(application)g(uses)g(currying.)36 b(P)n(aren)n(theses)25
b(are)i(not)g(required)g(for)g(the)h(parameters:)p 629
1680 2850 4 v 627 1780 4 100 v 679 1750 a(OCaml)p 2078
1780 V 1192 w(Revised)p 3477 1780 V 629 1783 2850 4 v
627 1883 4 100 v 679 1853 a Fb(type)42 b(t)h(=)g(Set.Make\(M\).t;;)p
2078 1883 V 399 w(type)f(t)h(=)g(\(Set.Make)d(M\).t;)p
3477 1883 V 627 1982 V 679 1952 a(module)h(M)i(=)g(Mod.Make)d(\(M1\))i
(\(M2\);;)p 2078 1982 V 98 w(module)f(M)i(=)g(Mod.Make)d(M1)j(M2;)p
3477 1982 V 629 1985 2850 4 v 125 2182 a Fh(\017)e Fi(It)29
b(is)h(p)r(ossible)f(to)g(group)f(sev)n(eral)g(declarations)f(together)
i(either)g(in)h(an)f(in)n(terface)g(or)f(in)i(an)f(implemen)n(tation)g
(b)n(y)208 2282 y(enclosing)e(them)j(b)r(et)n(w)n(een)f("declare")d
(and)j("end")f(\(this)h(is)g(useful)g(when)g(using)g(syn)n(tax)f
(extensions)g(to)g(generate)208 2381 y(sev)n(eral)d(declarations)h
(from)i(one\).)36 b(Example)27 b(in)h(an)f(in)n(terface:)295
2612 y Fb(declare)382 2711 y(type)42 b(foo)g(=)h([)h(Foo)e(of)h(int)f
(|)h(Bar)f(];)382 2811 y(value)f(f)j(:)f(foo)f(->)h(int;)295
2911 y(end;)0 3226 y Fc(21.3)136 b(Expressions)45 b(and)g(P)l(atterns)0
3439 y Fe(21.3.1)113 b(Imp)s(erativ)m(e)38 b(constructions)125
3607 y Fh(\017)j Fi(The)26 b(sequence)g(is)g(in)n(tro)r(duced)g(b)n(y)g
(the)h(k)n(eyw)n(ord)d("do")h(follo)n(w)n(ed)h(b)n(y)g(")p
Fh(f)p Fi(")f(and)h(terminated)g(b)n(y)g(")p Fh(g)p Fi(";)f(it)i(is)f
(p)r(ossible)208 3707 y(to)h(put)h(a)f(semicolon)g(after)g(the)h(last)g
(expression:)p 655 3890 2798 4 v 653 3989 4 100 v 705
3959 a(OCaml)p 2052 3989 V 1140 w(Revised)p 3451 3989
V 655 3992 2798 4 v 653 4092 4 100 v 705 4062 a Fb(e1;)42
b(e2;)g(e3;)h(e4)p 2052 4092 V 788 w(do)f Fh(f)h Fb(e1;)g(e2;)f(e3;)g
(e4)h Fh(g)p 3451 4092 V 655 4095 2798 4 v 125 4321 a(\017)e
Fi(The)29 b("do")e(after)i(the)h("while")e(lo)r(op)h(and)g(the)g("for")
f(lo)r(op)g(are)g(follo)n(w)n(ed)g(b)n(y)h(a)g(")p Fh(f)p
Fi(")e(and)i(the)h(lo)r(op)f(end)g(with)g(")p Fh(g)p
Fi(";)208 4421 y(it)f(is)f(p)r(ossible)g(to)h(put)g(a)f(semicolon)g
(after)g(the)h(last)f(expression:)p 655 4604 V 653 4703
4 100 v 705 4673 a(OCaml)p 2052 4703 V 1140 w(Revised)p
3451 4703 V 655 4706 2798 4 v 653 4806 4 100 v 705 4776
a Fb(while)41 b(e1)i(do)p 2052 4806 V 919 w(while)e(e1)i(do)g
Fh(f)p 3451 4806 V 653 4906 V 792 4876 a Fb(e1;)f(e2;)h(e3)p
2052 4906 V 962 w(e1;)f(e2;)g(e3)p 3451 4906 V 653 5005
V 705 4975 a(done)p 2052 5005 V 1223 w Fh(g)p 3451 5005
V 653 5105 V 2052 5105 V 3451 5105 V 653 5205 V 705 5175
a Fb(for)g(i)h(=)g(e1)g(to)g(e2)g(do)p 2052 5205 V 570
w(for)f(i)h(=)g(e1)g(to)g(e2)g(do)f Fh(f)p 3451 5205
V 653 5304 V 792 5274 a Fb(e1;)g(e2;)h(e3)p 2052 5304
V 962 w(e1;)f(e2;)g(e3)p 3451 5304 V 653 5404 V 705 5374
a(done)p 2052 5404 V 1223 w Fh(g)p 3451 5404 V 655 5407
2798 4 v 1888 5656 a Fi(168)p eop end
%%Page: 169 171
TeXDict begin 169 170 bop 2325 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 0
390 a Fe(21.3.2)113 b(T)-9 b(uples)37 b(and)i(Lists)125
563 y Fh(\017)i Fi(P)n(aren)n(theses)25 b(are)h(required)h(in)h
(tuples:)p 655 732 2798 4 v 653 832 4 100 v 705 802 a(OCaml)p
2052 832 V 1140 w(Revised)p 3451 832 V 655 835 2798 4
v 653 935 4 100 v 705 905 a Fb(1,)43 b("hello",)d(World)p
2052 935 V 656 w(\(1,)i("hello",)e(World\))p 3451 935
V 655 938 2798 4 v 125 1145 a Fh(\017)h Fi(Lists)24 b(are)f(alw)n(a)n
(ys)g(enclosed)g(with)i(brac)n(k)n(ets.)34 b(A)25 b(list)g(is)f(a)g
(left)h(brac)n(k)n(et,)f(follo)n(w)n(ed)f(b)n(y)h(a)g(list)h(of)f
(elemen)n(ts)g(separated)208 1245 y(with)36 b(semicolons,)i(optionally)
e(follo)n(w)n(ed)f(b)n(y)h(colon-colon)e(and)j(an)f(elemen)n(t,)j(and)d
(ended)h(b)n(y)f(a)g(righ)n(t)f(brac)n(k)n(et.)208 1345
y(W)-7 b(arning:)36 b(the)28 b(colon-colon)d(is)j(not)f(an)h(in\014x)g
(but)g(is)f(just)h(part)g(of)f(the)h(syn)n(tactic)f(construction.)p
655 1514 V 653 1613 4 100 v 705 1583 a(OCaml)p 2052 1613
V 1140 w(Revised)p 3451 1613 V 655 1617 2798 4 v 653
1716 4 100 v 705 1686 a Fb(x)43 b(::)86 b(y)p 2052 1716
V 1094 w([x)42 b(::)87 b(y])p 3451 1716 V 653 1816 V
705 1786 a([x;)42 b(y;)h(z])p 2052 1816 V 1006 w([x;)f(y;)h(z])p
3451 1816 V 653 1916 V 705 1886 a(x)g(::)86 b(y)43 b(::)87
b(z)43 b(::)86 b(t)p 2052 1916 V 571 w([x;)42 b(y;)h(z)g(::)86
b(t])p 3451 1916 V 655 1919 2798 4 v 0 2168 a Fe(21.3.3)113
b(Records)125 2341 y Fh(\017)41 b Fi(In)27 b(record)f(up)r(date,)j
(paren)n(theses)d(are)g(required)h(around)g(the)h(initial)f
(expression:)p 655 2510 V 653 2609 4 100 v 705 2580 a(OCaml)p
2052 2609 V 1140 w(Revised)p 3451 2609 V 655 2613 2798
4 v 653 2712 4 100 v 705 2683 a Fh(f)p Fb(e)42 b(with)g(field)g(=)h(a)p
Fh(g)p 2052 2712 V 618 w(f)p Fb(\(e\))e(with)h(field)g(=)h(a)p
Fh(g)p 3451 2712 V 655 2716 2798 4 v 125 2923 a(\017)e
Fi(It)27 b(is)h(allo)n(w)n(able)e(to)h(use)h(function)g(binding)g(syn)n
(tax)e(in)i(record)e(\014eld)i(de\014nitions:)p 655 3092
V 653 3192 4 100 v 705 3162 a(OCaml)p 2052 3192 V 1140
w(Revised)p 3451 3192 V 655 3195 2798 4 v 653 3295 4
100 v 705 3265 a Fh(f)p Fb(field)41 b(=)i(fun)f(a)h(->)g(e)p
Fh(g)p 2052 3295 V 531 w(f)p Fb(field)e(a)i(=)g(e)p Fh(g)p
3451 3295 V 655 3298 2798 4 v 0 3547 a Fe(21.3.4)113
b(Irrefutable)37 b(patterns)0 3720 y Fi(An)g Fa(irr)l(efutable)h(p)l
(attern)k Fi(is)36 b(a)g(pattern)g(whic)n(h)g(is)g(syn)n(tactically)f
(visible)h(and)g(nev)n(er)f(fails.)62 b(They)36 b(are)f(used)h(in)h
(some)0 3820 y(syn)n(tactic)27 b(constructions.)36 b(It)28
b(is)f(either:)125 4044 y Fh(\017)41 b Fi(A)27 b(v)-5
b(ariable,)125 4252 y Fh(\017)41 b Fi(The)27 b(wildcard)g(")p
762 4252 25 4 v 30 w(",)125 4460 y Fh(\017)41 b Fi(The)27
b(constructor)f("\(\)",)125 4667 y Fh(\017)41 b Fi(A)27
b(tuple)i(with)f(irrefutable)f(patterns,)125 4875 y Fh(\017)41
b Fi(A)27 b(record)g(with)h(irrefutable)f(patterns,)125
5083 y Fh(\017)41 b Fi(A)27 b(t)n(yp)r(e)h(constrain)n(t)f(with)h(an)f
(irrefutable)g(pattern.)0 5308 y(Notice)i(that)g(this)h(de\014nition)f
(is)g(only)g(syn)n(tactic:)39 b(a)29 b(constructor)e(b)r(elonging)h(to)
h(a)g(t)n(yp)r(e)g(ha)n(ving)f(only)h(one)g(constructor)0
5407 y(is)e(not)h(considered)f(as)g(an)g(irrefutable)g(pattern)g
(\(except)h("\(\)"\).)1888 5656 y(169)p eop end
%%Page: 170 172
TeXDict begin 170 171 bop 0 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 0
390 a Fe(21.3.5)113 b(Constructions)37 b(with)g(matc)m(hing)125
543 y Fh(\017)k Fi(The)27 b(k)n(eyw)n(ord)f("function")h(no)g(longer)g
(exists.)36 b(Only)27 b("fun")h(is)f(used.)125 700 y
Fh(\017)41 b Fi(The)35 b(pattern)g(matc)n(hing,)h(in)g(constructions)e
(with)h("fun",)i("matc)n(h")d(and)h("try")f(is)h(closed)f(with)i(brac)n
(k)n(ets:)50 b(an)208 800 y(op)r(en)27 b(brac)n(k)n(et)f("[")h(b)r
(efore)g(the)h(\014rst)g(case,)e(and)i(a)f(close)g(brac)n(k)n(et)f("]")
h(after)g(the)h(last)f(case:)p 655 908 2798 4 v 653 1007
4 100 v 705 977 a(OCaml)p 2052 1007 V 1140 w(Revised)p
3451 1007 V 655 1011 2798 4 v 653 1110 4 100 v 705 1080
a Fb(match)41 b(e)i(with)p 2052 1110 V 875 w(match)e(e)i(with)p
3451 1110 V 653 1210 V 792 1180 a(p1)g(->)f(e1)p 2052
1210 V 963 w([)h(p1)g(->)f(e1)p 3451 1210 V 653 1310
V 705 1280 a(|)h(p2)g(->)f(e2)p 2052 1310 V 963 w(|)h(p2)g(->)f(e2)h(])
p 3451 1310 V 655 1313 2798 4 v 208 1455 a Fi(If)24 b(there)f(is)h
(only)f(one)g(case)g(and)h(if)g(the)g(pattern)g(is)f(irrefutable,)h
(the)g(brac)n(k)n(ets)e(are)h(not)h(required.)34 b(These)24
b(examples)208 1554 y(w)n(ork)i(iden)n(tically)h(in)h(OCaml)f(and)g(in)
h(revised)f(syn)n(tax:)p 655 1658 V 653 1757 4 100 v
705 1727 a(OCaml)p 2052 1757 V 1140 w(Revised)p 3451
1757 V 655 1761 2798 4 v 653 1860 4 100 v 705 1830 a
Fb(fun)42 b(x)h(->)g(x)p 2052 1860 V 963 w(fun)f(x)h(->)g(x)p
3451 1860 V 653 1960 V 705 1930 a(fun)f Fh(f)p Fb(foo=\(y,)p
1275 1930 27 4 v 72 w(\))p Fh(g)g Fb(->)h(y)p 2052 1960
4 100 v 500 w(fun)f Fh(f)p Fb(foo=\(y,)p 2673 1930 27
4 v 72 w(\))p Fh(g)g Fb(->)h(y)p 3451 1960 4 100 v 655
1963 2798 4 v 125 2105 a Fh(\017)e Fi(It)32 b(is)g(p)r(ossible)g(to)g
(write)g(the)g(empt)n(y)h(function)f(whic)n(h)h(alw)n(a)n(ys)d(raises)g
(the)j(exception)f("Matc)n(h)p 3311 2105 25 4 v 29 w(failure")f(when)h
(a)208 2205 y(parameter)h(is)h(applied.)58 b(It)35 b(is)f(also)g(p)r
(ossible)g(to)h(write)f(and)h(empt)n(y)f("matc)n(h",)h(raising)f("Matc)
n(h)p 3403 2205 V 29 w(failure")f(after)208 2304 y(ha)n(ving)26
b(ev)-5 b(aluated)27 b(its)h(expression)e(and)i(the)g(empt)n(y)f
("try",)g(equiv)-5 b(alen)n(t)27 b(to)h(its)f(expression)f(without)i
(try:)295 2480 y Fb(fun)42 b([])295 2579 y(match)f(e)i(with)f([])295
2679 y(try)g(e)h(with)f([])125 2854 y Fh(\017)f Fi(The)27
b(patterns)g(after)h("let")f(and)g("v)-5 b(alue")27 b(m)n(ust)g(b)r(e)h
(irrefutable.)37 b(The)27 b(follo)n(wing)g(OCaml)g(expression:)295
3030 y Fb(let)42 b(f)h(\(x::y\))e(=)j(...)208 3205 y
Fi(m)n(ust)27 b(b)r(e)h(written:)295 3380 y Fb(let)42
b(f)h(=)g(fun)g([)g([x::y])e(->)i(...)125 3556 y Fh(\017)e
Fi(It)31 b(is)g(p)r(ossible)g(to)h(use)f(a)g(construction)f("where",)h
(equiv)-5 b(alen)n(t)31 b(to)g("let",)h(but)g(usable)f(only)g(when)g
(where)g(is)g(only)208 3655 y(one)c(binding.)37 b(The)28
b(expression:)295 3831 y Fb(e1)42 b(where)g(p)h(=)g(e)208
4006 y Fi(is)27 b(equiv)-5 b(alen)n(t)27 b(to:)295 4182
y Fb(let)42 b(p)h(=)g(e)h(in)e(e1)0 4410 y Fe(21.3.6)113
b(Mutables)38 b(and)h(Assignmen)m(t)125 4563 y Fh(\017)i
Fi(The)27 b(statemen)n(t)h(")p Fb(<-)p Fi(")e(is)h(written)h(")p
Fb(:=)p Fi(":)p 655 4651 2798 4 v 653 4750 4 100 v 705
4720 a(OCaml)p 2052 4750 V 1140 w(Revised)p 3451 4750
V 655 4753 2798 4 v 653 4853 4 100 v 705 4823 a Fb(x.f)42
b(<-)h(y)p 2052 4853 V 1050 w(x.f)f(:=)h(y)p 3451 4853
V 655 4856 2798 4 v 125 4998 a Fh(\017)e Fi(The)33 b("ref")f(t)n(yp)r
(e)i(is)f(declared)g(as)g(a)g(record)f(t)n(yp)r(e)h(with)h(one)g
(\014eld)f(named)h("v)-5 b(al",)33 b(instead)h(of)f("con)n(ten)n(ts".)
53 b(The)208 5098 y(op)r(erator)25 b("!")i(do)r(es)g(not)h(exist)g(an)n
(y)e(more,)h(and)h(references)e(are)h(assigned)f(lik)n(e)h(the)h(other)
f(m)n(utables:)p 655 5201 V 653 5301 4 100 v 705 5271
a(OCaml)p 2052 5301 V 1140 w(Revised)p 3451 5301 V 655
5304 2798 4 v 653 5404 4 100 v 705 5374 a Fb(x)43 b(:=)g(!x)f(+)i(y)p
2052 5404 V 919 w(x.val)d(:=)i(x.val)e(+)j(y)p 3451 5404
V 655 5407 2798 4 v 1888 5656 a Fi(170)p eop end
%%Page: 171 173
TeXDict begin 171 172 bop 2325 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 0
390 a Fe(21.3.7)113 b(Miscellaneous)125 543 y Fh(\017)41
b Fi(The)27 b(")p Fb(else)p Fi(")e(is)j(required)e(in)i(the)g(")p
Fb(if)p Fi(")e(statemen)n(t:)p 655 668 2798 4 v 653 767
4 100 v 705 737 a(OCaml)p 2052 767 V 1140 w(Revised)p
3451 767 V 655 771 2798 4 v 653 870 4 100 v 705 840 a
Fb(if)43 b(a)g(then)f(b)p 2052 870 V 919 w(if)g(a)i(then)d(b)j(else)e
(\(\))p 3451 870 V 655 873 2798 4 v 125 1036 a Fh(\017)f
Fi(The)27 b(b)r(o)r(olean)g(op)r(erations)g(")p Fb(or)p
Fi(")e(and)j(")p Fb(and)p Fi(")d(can)i(only)h(b)r(e)g(written)f(with)i
(")p Fb(||)p Fi(")c(and)j(")p Fb(&&)p Fi(":)p 655 1160
V 653 1259 4 100 v 705 1230 a(OCaml)p 2052 1259 V 1140
w(Revised)p 3451 1259 V 655 1263 2798 4 v 653 1362 4
100 v 705 1333 a Fb(a)43 b(or)g(b)g(&)g(c)p 2052 1362
V 963 w(a)g(||)g(b)g(&&)f(c)p 3451 1362 V 653 1462 V
705 1432 a(a)h(||)g(b)g(&&)g(c)p 2052 1462 V 919 w(a)g(||)g(b)g(&&)f(c)
p 3451 1462 V 655 1465 2798 4 v 125 1628 a Fh(\017)f
Fi(No)27 b(more)g(")p Fb(begin)41 b(end)p Fi(")26 b(construction.)36
b(One)27 b(m)n(ust)h(use)f(paren)n(theses.)125 1792 y
Fh(\017)41 b Fi(The)27 b(op)r(erators)f(as)h(v)-5 b(alues)27
b(are)g(written)g(with)h(an)g(bac)n(kslash:)p 655 1917
V 653 2016 4 100 v 705 1986 a(OCaml)p 2052 2016 V 1140
w(Revised)p 3451 2016 V 655 2019 2798 4 v 653 2119 4
100 v 705 2089 a Fb(\(+\))p 2052 2119 V 1267 w Fh(n)p
Fb(+)p 3451 2119 V 653 2219 V 705 2189 a(\(mod\))p 2052
2219 V 1179 w Fh(n)p Fb(mod)p 3451 2219 V 655 2222 2798
4 v 125 2384 a Fh(\017)41 b Fi(Nested)27 b("as")f(patterns)i(require)e
(paren)n(thesis:)p 655 2508 V 653 2608 4 100 v 705 2578
a(OCaml)p 2052 2608 V 1140 w(Revised)p 3451 2608 V 655
2611 2798 4 v 653 2711 4 100 v 705 2681 a Fb(function)40
b(Some)i(a)h(as)g(b,)g(c)g(->)p 2052 2711 V 265 w(fun)f([)h(\(\(Some)e
(a)i(as)g(b\),)f(c\))h(->)p 3451 2711 V 653 2811 V 792
2781 a(...)p 2052 2811 V 1267 w(...)p 3451 2811 V 655
2814 2798 4 v 208 2976 a Fi(But)27 b(they)h(are)f(not)g(required)g(b)r
(efore)g(the)h(righ)n(t)f(arro)n(w:)p 655 3100 V 653
3200 4 100 v 705 3170 a(OCaml)p 2052 3200 V 1140 w(Revised)p
3451 3200 V 655 3203 2798 4 v 653 3303 4 100 v 705 3273
a Fb(function)40 b(Some)i(a)h(as)g(b)g(->)p 2052 3303
V 396 w(fun)f([)h(Some)f(a)h(as)g(b)g(->)p 3451 3303
V 653 3403 V 792 3373 a(...)p 2052 3403 V 1267 w(...)p
3451 3403 V 655 3406 2798 4 v 125 3568 a Fh(\017)e Fi(The)27
b(op)r(erators)e(with)j(sp)r(ecial)f(c)n(haracters)e(are)h(not)i
(automatically)e(in\014x.)37 b(T)-7 b(o)27 b(de\014ne)g(in\014xes,)h
(use)f(syn)n(tax)f(exten-)208 3668 y(sions.)0 3942 y
Fc(21.4)136 b(T)l(yp)t(es)44 b(and)h(Constructors)125
4124 y Fh(\017)c Fi(The)27 b(t)n(yp)r(e)h(constructors)e(are)g(b)r
(efore)i(their)f(t)n(yp)r(e)h(parameters,)e(whic)n(h)i(are)e
(curry\014ed:)p 655 4248 V 653 4347 4 100 v 705 4318
a(OCaml)p 2052 4347 V 1140 w(Revised)p 3451 4347 V 655
4351 2798 4 v 653 4450 4 100 v 705 4420 a Fb(int)42 b(list)p
2052 4450 V 1049 w(list)g(int)p 3451 4450 V 653 4550
V 705 4520 a(\('a,)g(bool\))f(Hashtbl.t)p 2052 4550 V
524 w(Hashtbl.t)e('a)k(bool)p 3451 4550 V 653 4650 V
705 4620 a(type)f('a)g(foo)h(=)g('a)g(list)f(list)p 2052
4650 V 264 w(type)g(foo)g('a)h(=)g(list)f(\(list)f('a\))p
3451 4650 V 655 4653 2798 4 v 125 4815 a Fh(\017)g Fi(The)27
b(abstract)g(t)n(yp)r(es)g(are)g(represen)n(ted)f(b)n(y)i(an)f(un)n(b)r
(ound)h(t)n(yp)r(e)g(v)-5 b(ariable:)p 655 4939 V 653
5039 4 100 v 705 5009 a(OCaml)p 2052 5039 V 1140 w(Revised)p
3451 5039 V 655 5042 2798 4 v 653 5142 4 100 v 705 5112
a Fb(type)42 b('a)g(foo;;)p 2052 5142 V 831 w(type)g(foo)g('a)h(=)g
('b;)p 3451 5142 V 653 5242 V 705 5212 a(type)f(bar;;)p
2052 5242 V 961 w(type)g(bar)g(=)h('a;)p 3451 5242 V
655 5245 2798 4 v 125 5407 a Fh(\017)e Fi(P)n(aren)n(theses)25
b(are)h(required)h(in)h(tuples)g(of)f(t)n(yp)r(es:)1888
5656 y(171)p eop end
%%Page: 172 174
TeXDict begin 172 173 bop 0 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 655
311 2798 4 v 653 410 4 100 v 705 380 a(OCaml)p 2052 410
V 1140 w(Revised)p 3451 410 V 655 413 2798 4 v 653 513
4 100 v 705 483 a Fb(int)42 b(*)h(bool)p 2052 513 V 962
w(\(int)f(*)h(bool\))p 3451 513 V 655 516 2798 4 v 125
662 a Fh(\017)e Fi(In)27 b(declarations)f(of)i(a)f(concrete)g(t)n(yp)r
(e,)h(brac)n(k)n(ets)d(m)n(ust)j(enclose)f(the)h(constructor)e
(declarations:)p 655 769 V 653 868 4 100 v 705 839 a(OCaml)p
2052 868 V 1140 w(Revised)p 3451 868 V 655 872 2798 4
v 653 971 4 100 v 705 942 a Fb(type)42 b(t)h(=)g(A)g(of)g(i)g(|)g(B;;)p
2052 971 V 483 w(type)f(t)h(=)g([)g(A)g(of)g(i)g(|)g(B)g(];)p
3451 971 V 655 975 2798 4 v 125 1120 a Fh(\017)e Fi(It)27
b(is)h(p)r(ossible)f(to)h(mak)n(e)e(the)i(empt)n(y)g(t)n(yp)r(e,)g
(without)g(constructor:)295 1299 y Fb(type)42 b(foo)g(=)h([];)125
1478 y Fh(\017)e Fi(There)26 b(is)h(a)g(syn)n(tax)f(di\013erence)h(b)r
(et)n(w)n(een)h(data)e(constructors)g(with)h(sev)n(eral)f(parameters)f
(and)i(data)g(constructors)208 1578 y(with)h(one)f(parameter)f(of)i(t)n
(yp)r(e)f(tuple:)208 1906 y(The)33 b(declaration)f(of)h(a)g(data)g
(constructor)f(with)h(sev)n(eral)f(parameters)g(is)h(done)g(b)n(y)g
(separating)f(the)h(t)n(yp)r(es)h(with)208 2005 y("and".)h(In)28
b(expressions)e(and)h(patterns,)h(these)f(constructor)f(parameters)g(m)
n(ust)i(b)r(e)g(curry\014ed:)p 655 2112 V 653 2212 4
100 v 705 2182 a(OCaml)p 2052 2212 V 1140 w(Revised)p
3451 2212 V 655 2215 2798 4 v 653 2315 4 100 v 705 2285
a Fb(type)42 b(t)h(=)g(C)g(of)g(t1)g(*)g(t2;;)p 2052
2315 V 395 w(type)f(t)h(=)g([)g(C)g(of)g(t1)g(and)f(t2)h(];)p
3451 2315 V 653 2415 V 705 2385 a(C)g(\(x,)f(y\);;)p
2052 2415 V 962 w(C)h(x)g(y;)p 3451 2415 V 655 2418 2798
4 v 208 2563 a Fi(The)27 b(declaration)e(of)i(a)g(data)g(constructor)e
(with)j(one)f(parameter)e(of)i(t)n(yp)r(e)h(tuple)f(is)g(done)g(b)n(y)g
(using)f(a)h(tuple)h(t)n(yp)r(e.)208 2663 y(In)e(expressions)e(and)h
(patterns,)h(the)g(parameter)f(m)n(ust)h(not)f(to)h(b)r(e)g
(curry\014ed,)g(since)f(it)h(is)g(alone.)36 b(In)26 b(that)g(case)f
(the)208 2763 y(syn)n(tax)h(of)i(constructor)e(parameters)g(is)h(the)h
(same)f(b)r(et)n(w)n(een)h(the)g(t)n(w)n(o)f(syn)n(taxes:)p
655 2870 V 653 2969 4 100 v 705 2939 a(OCaml)p 2052 2969
V 1140 w(Revised)p 3451 2969 V 655 2973 2798 4 v 653
3072 4 100 v 705 3042 a Fb(type)42 b(t)h(=)g(D)g(of)g(\(t1)f(*)h
(t2\);;)p 2052 3072 V 308 w(type)f(t)h(=)g([)g(D)g(of)g(\(t1)f(*)h
(t2\))g(];)p 3451 3072 V 653 3172 V 705 3142 a(D)g(\(x,)f(y\);;)p
2052 3172 V 962 w(D)h(\(x,)f(y\);)p 3451 3172 V 655 3175
2798 4 v 125 3321 a Fh(\017)f Fi(The)g(b)r(o)r(ol)g(constructors)f
(start)h(with)h(an)f(upp)r(ercase)g(letter.)78 b(The)42
b(iden)n(ti\014ers)f("true")f(and)h("false")g(are)f(not)208
3420 y(k)n(eyw)n(ords:)p 655 3527 V 653 3627 4 100 v
705 3597 a(OCaml)p 2052 3627 V 1140 w(Revised)p 3451
3627 V 655 3630 2798 4 v 653 3730 4 100 v 705 3700 a
Fb(true)i(&&)g(false)p 2052 3730 V 831 w(True)g(&&)g(False)p
3451 3730 V 655 3733 2798 4 v 125 3879 a Fh(\017)f Fi(In)27
b(record)f(t)n(yp)r(es,)i(the)g(k)n(eyw)n(ord)e("m)n(utable")g(m)n(ust)
i(app)r(ear)f(after)g(the)h(colon:)p 655 3986 V 653 4085
4 100 v 705 4055 a(OCaml)p 2052 4085 V 1140 w(Revised)p
3451 4085 V 655 4089 2798 4 v 653 4188 4 100 v 705 4158
a Fb(type)42 b(t)h(=)g Fh(f)p Fb(mutable)d(x)j(:)87 b(t1)p
Fh(g)p Fb(;;)p 2052 4188 V 181 w(type)42 b(t)h(=)g Fh(f)p
Fb(x)g(:)86 b(mutable)41 b(t1)p Fh(g)p Fb(;)p 3451 4188
V 655 4192 2798 4 v 125 4337 a Fh(\017)g Fi(Manifest)27
b(t)n(yp)r(es)h(are)e(with)j("==":)p 655 4444 V 653 4544
4 100 v 705 4514 a(OCaml)p 2052 4544 V 1140 w(Revised)p
3451 4544 V 655 4547 2798 4 v 653 4647 4 100 v 705 4617
a Fb(type)42 b('a)g(t)i(=)f('a)g(option)e(=)p 2052 4647
V 396 w(type)h(t)h('a)f(=)i(option)d('a)h(==)p 3451 4647
V 653 4746 V 879 4716 a(None)p 2052 4746 V 1136 w([)h(None)p
3451 4746 V 653 4846 V 792 4816 a(|)g(Some)f(of)h('a)p
2052 4846 V 875 w(|)g(Some)f(of)h('a)f(])p 3451 4846
V 655 4849 2798 4 v 125 4995 a Fh(\017)f Fi(P)n(olymorphic)25
b(t)n(yp)r(es)j(start)f(with)h(")p Fb(!)p Fi(":)p 655
5102 V 653 5201 4 100 v 705 5171 a(OCaml)p 2052 5201
V 1140 w(Revised)p 3451 5201 V 655 5205 2798 4 v 653
5304 4 100 v 705 5274 a Fb(type)42 b(t)h(=)p 2052 5304
V 1050 w(type)f(t)h(=)p 3451 5304 V 653 5404 V 792 5374
a Fh(f)g Fb(f)g(:)87 b('a)43 b(.)86 b('a)43 b(list)f
Fh(g)p 2052 5404 V 444 w(f)h Fb(f)g(:)87 b(!)g('a)42
b(.)87 b(list)42 b('a)h Fh(g)p 3451 5404 V 655 5407 2798
4 v 1888 5656 a Fi(172)p eop end
%%Page: 173 175
TeXDict begin 173 174 bop 2325 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 0
390 a Fc(21.5)136 b(Streams)45 b(and)g(P)l(arsers)125
575 y Fh(\017)c Fi(The)27 b(streams)g(and)g(the)h(stream)f(patterns)g
(are)g(brac)n(k)n(eted)f(with)i(")p Fb([:)p Fi(")e(and)h(")p
Fb(:])p Fi(")f(instead)i(of)f(")p Fb([<)p Fi(")f(and)h(")p
Fb(>])p Fi(".)125 746 y Fh(\017)41 b Fi(The)27 b(stream)g(comp)r(onen)n
(t)g("terminal")g(is)g(written)h(with)g(a)f(bac)n(k-quote)f(instead)i
(of)f(a)g(quote:)p 655 879 2798 4 v 653 978 4 100 v 705
949 a(OCaml)p 2052 978 V 1140 w(Revised)p 3451 978 V
655 982 2798 4 v 653 1081 4 100 v 705 1051 a Fb([<)43
b('1;)f('2;)g(s;)h('3)g(>])p 2052 1081 V 570 w([:)86
b(`1;)42 b(`2;)h(s;)f(`3)h(:])p 3451 1081 V 655 1085
2798 4 v 125 1256 a Fh(\017)e Fi(The)24 b(cases)g(of)g(parsers)f(are)g
(brac)n(k)n(eted)h(with)h(")p Fb([)p Fi(")e(and)h(")p
Fb(])p Fi(",)g(as)g(with)h("fun",)g("matc)n(h")f(and)g("try".)35
b(If)25 b(there)f(is)g(one)208 1355 y(case,)i(the)i(brac)n(k)n(ets)e
(are)h(not)g(required:)p 655 1488 V 653 1588 4 100 v
705 1558 a(OCaml)p 2052 1588 V 1140 w(Revised)p 3451
1588 V 655 1591 2798 4 v 653 1691 4 100 v 705 1661 a
Fb(parser)p 2052 1691 V 1135 w(parser)p 3451 1691 V 653
1790 V 792 1760 a([<)43 b('Foo)f(>])g(->)h(e)p 2052 1790
V 658 w([)g([:)86 b(`Foo)42 b(:])86 b(->)43 b(e)p 3451
1790 V 653 1890 V 705 1860 a(|)g([<)g(p)g(=)g(f)g(>])g(->)g(f;;)p
2052 1890 V 526 w(|)g([:)86 b(p)43 b(=)g(f)h(:])86 b(->)43
b(f)g(];)p 3451 1890 V 653 1990 V 705 1960 a(parser)e([<)i('x)f(>])h
(->)g(x;;)p 2052 1990 V 439 w(parser)e([:)86 b(`x)43
b(:])86 b(->)43 b(x;)p 3451 1990 V 655 1993 2798 4 v
125 2164 a Fh(\017)e Fi(It)28 b(is)h(p)r(ossible)f(to)g(write)h(the)g
(empt)n(y)f(parser)f(raising)g(the)i(exception)f("Stream.F)-7
b(ailure")27 b(whatev)n(er)g(parameter)g(is)208 2263
y(applied,)g(and)h(the)g(empt)n(y)f(stream)g(matc)n(hing)g(alw)n(a)n
(ys)f(raising)g("Stream.F)-7 b(ailure":)295 2468 y Fb(parser)41
b([])295 2568 y(match)g(e)i(with)f(parser)f([])125 2772
y Fh(\017)g Fi(In)35 b(normal)f(syn)n(tax,)i(the)f(error)e(indicator)h
(starts)h(with)g(a)g(double)g(question)f(mark,)i(in)g(revised)e(syn)n
(tax)g(with)h(a)208 2872 y(simple)27 b(question)h(mark:)p
651 3005 2807 4 v 649 3104 4 100 v 701 3075 a(OCaml)p
2048 3104 V 1139 w(Revised)p 3455 3104 V 651 3108 2807
4 v 649 3207 4 100 v 701 3177 a Fb(parser)p 2048 3207
V 1134 w(parser)p 3455 3207 V 649 3307 V 788 3277 a([<)42
b('1;)h('2)g(??)86 b("error")41 b(>])h(->)p 2048 3307
V 222 w([:)86 b(`1;)42 b(`2)h(?)87 b("error")40 b(:])87
b(->)p 3455 3307 V 649 3407 V 875 3377 a(...)p 2048 3407
V 1267 w(...)p 3455 3407 V 651 3410 2807 4 v 125 3581
a Fh(\017)41 b Fi(In)27 b(normal)g(syn)n(tax,)g(the)h(comp)r(onen)n(t)f
(optimization)g(starts)g(with)h(")p Fb(?!)p Fi(",)e(in)i(revised)f(syn)
n(tax)f(with)i(")p Fb(!)p Fi(":)p 655 3714 2798 4 v 653
3813 4 100 v 705 3783 a(OCaml)p 2052 3813 V 1140 w(Revised)p
3451 3813 V 655 3817 2798 4 v 653 3916 4 100 v 705 3886
a Fb(parser)p 2052 3916 V 1135 w(parser)p 3451 3916 V
653 4016 V 792 3986 a([<)43 b('1;)f('2)h(?!)86 b(>])43
b(->)p 2052 4016 V 570 w([:)86 b(`1;)42 b(`2)h(!)87 b(:])f(->)p
3451 4016 V 653 4116 V 879 4086 a(...)p 2052 4116 V 1267
w(...)p 3451 4116 V 655 4119 2798 4 v 0 4342 a Fc(21.6)136
b(Classes)46 b(and)e(Ob)7 b(jects)125 4527 y Fh(\017)41
b Fi(Ob)5 b(ject)27 b(items)h(end)g(with)g(a)f(single)g(semicolon)g
(whic)n(h)g(is)h(required.)125 4698 y Fh(\017)41 b Fi(Class)26
b(t)n(yp)r(e)i(parameters)e(follo)n(w)h(the)h(class)e(iden)n(ti\014er:)
p 655 4831 V 653 4931 4 100 v 705 4901 a(OCaml)p 2052
4931 V 1140 w(Revised)p 3451 4931 V 655 4934 2798 4 v
653 5034 4 100 v 705 5004 a Fb(class)41 b(['a,)h('b])h(point)e(=)i(...)
p 2052 5034 V 265 w(class)e(point)h(['a,)g('b])g(=)h(...)p
3451 5034 V 653 5133 V 705 5103 a(class)e(c)i(=)h([int])d(color;;)p
2052 5133 V 394 w(class)g(c)i(=)g(color)f([int];)p 3451
5133 V 655 5137 2798 4 v 125 5308 a Fh(\017)f Fi(In)33
b(the)g(t)n(yp)r(e)g(of)g(class)f(with)i(parameters,)f(the)g(t)n(yp)r
(e)g(of)g(the)h(parameters)d(are)h(b)r(et)n(w)n(een)h(brac)n(k)n(ets.)
52 b(Example)32 b(in)208 5407 y(signature:)1888 5656
y(173)p eop end
%%Page: 174 176
TeXDict begin 174 175 bop 0 70 a Fi(CHAPTER)27 b(21.)64
b(THE)27 b(REVISED)h(SYNT)-7 b(AX)p 0 103 3900 4 v 655
311 2798 4 v 653 410 4 100 v 705 380 a(OCaml)p 2052 410
V 1140 w(Revised)p 3451 410 V 655 413 2798 4 v 653 513
4 100 v 705 483 a Fb(class)41 b(c)i(:)87 b(int)43 b(->)f(point;;)p
2052 513 V 307 w(class)f(c)i(:)87 b([int])42 b(->)g(point;)p
3451 513 V 655 516 2798 4 v 125 682 a Fh(\017)f Fi(The)27
b(k)n(eyw)n(ords)f("virtual")g(and)h("priv)-5 b(ate")26
b(m)n(ust)i(b)r(e)g(in)g(this)g(order:)p 655 809 V 653
909 4 100 v 705 879 a(OCaml)p 2052 909 V 1140 w(Revised)p
3451 909 V 655 912 2798 4 v 653 1012 4 100 v 705 982
a Fb(method)41 b(virtual)g(private)f(m)j(:)p 2052 1012
V 266 w(method)e(virtual)f(private)h(m)i(:)p 3451 1012
V 653 1112 V 792 1082 a(...)p 2052 1112 V 1267 w(...)p
3451 1112 V 653 1211 V 705 1181 a(method)e(private)g(virtual)f(m)j(:)p
2052 1211 V 266 w(method)e(virtual)f(private)h(m)i(:)p
3451 1211 V 653 1311 V 792 1281 a(...)p 2052 1311 V 1267
w(...)p 3451 1311 V 655 1314 2798 4 v 125 1480 a Fh(\017)e
Fi(Ob)5 b(ject)27 b(v)-5 b(ariables)26 b(are)h(in)n(tro)r(duced)g(with)
h("v)-5 b(alue")27 b(instead)g(of)h("v)-5 b(al":)p 655
1607 V 653 1707 4 100 v 705 1677 a(OCaml)p 2052 1707
V 1140 w(Revised)p 3451 1707 V 655 1710 2798 4 v 653
1810 4 100 v 705 1780 a Fb(object)41 b(val)h(x)h(=)h(3)f(end)p
2052 1810 V 526 w(object)e(value)g(x)i(=)h(3;)e(end)p
3451 1810 V 655 1813 2798 4 v 125 1979 a Fh(\017)f Fi(T)n(yp)r(e)27
b(constrain)n(ts)f(in)i(ob)5 b(jects)27 b(are)g(in)n(tro)r(duced)g
(with)h("t)n(yp)r(e")f(instead)g(of)h("constrain)n(t":)p
651 2106 2807 4 v 649 2206 4 100 v 701 2176 a(OCaml)p
2056 2206 V 1148 w(Revised)p 3455 2206 V 651 2209 2807
4 v 649 2309 4 100 v 701 2279 a Fb(object)41 b(constraint)e('a)k(=)g
(int)f(end)p 2056 2309 V 99 w(object)f(type)h('a)h(=)g(int;)f(end)p
3455 2309 V 651 2312 2807 4 v 0 2528 a Fc(21.7)136 b(Lab)t(els)45
b(and)g(V)-11 b(arian)l(ts)125 2710 y Fh(\017)41 b Fi(Lab)r(els)27
b(in)h(t)n(yp)r(es)f(m)n(ust)h(start)f(with)h(")p Fb(~)p
Fi(":)p 655 2838 2798 4 v 653 2937 4 100 v 705 2907 a(OCaml)p
2052 2937 V 1140 w(Revised)p 3451 2937 V 655 2940 2798
4 v 653 3040 4 100 v 705 3010 a Fb(val)42 b(x)h(:)87
b(num:int)41 b(->)h(bool;;)p 2052 3040 V 264 w(value)f(x)i(:)87
b(~num:int)40 b(->)j(bool;)p 3451 3040 V 655 3043 2798
4 v 125 3209 a Fh(\017)e Fi(T)n(yp)r(es)27 b(whose)g(n)n(um)n(b)r(er)g
(of)h(v)-5 b(arian)n(ts)26 b(are)h(\014xed)g(start)g(with)h(")p
Fb([)43 b(=)p Fi(":)p 655 3336 V 653 3436 4 100 v 705
3406 a(OCaml)p 2052 3436 V 1140 w(Revised)p 3451 3436
V 655 3439 2798 4 v 653 3539 4 100 v 705 3509 a Fb(type)f(t)h(=)g([`On)
f(|)h(`Off];;)p 2052 3539 V 394 w(type)f(t)h(=)g([)g(=)g(`On)g(|)g
(`Off];)p 3451 3539 V 655 3542 2798 4 v 125 3708 a Fh(\017)e
Fi(The)27 b(")p Fb([)p Fi(")f(and)i(the)g(")p Fb(<)p
Fi(")e(in)i(v)-5 b(arian)n(t)27 b(t)n(yp)r(es)g(m)n(ust)h(not)f(b)r(e)h
(stic)n(k)n(ed:)p 655 3835 V 653 3935 4 100 v 705 3905
a(OCaml)p 2052 3935 V 1140 w(Revised)p 3451 3935 V 655
3938 2798 4 v 653 4038 4 100 v 705 4008 a Fb(type)42
b(t)h(=)g([<)g(`Foo)f(|)h(`Bar)f(];;)p 2052 4038 V 221
w(type)g(t)h(=)g([)g(<)g(`Foo)f(|)h(`Bar)f(];)p 3451
4038 V 655 4041 2798 4 v 1888 5656 a Fi(174)p eop end
%%Page: 175 177
TeXDict begin 175 176 bop 0 1013 a Fd(Chapter)65 b(22)0
1428 y Fg(Sc)-6 b(heme)77 b(and)h(Lisp)e(syn)-6 b(taxes)0
1860 y Fi(It)32 b(is)f(p)r(ossible)h(to)f(write)g(OCaml)g(programs)e
(with)j(Sc)n(heme)g(or)f(Lisp)g(syn)n(tax.)48 b(They)31
b(are)g(close)f(to)i(one)f(another,)h(b)r(oth)0 1959
y(using)27 b(paren)n(theses)f(to)i(iden)n(tify)g(and)f(separate)g
(statemen)n(ts.)0 2229 y Fc(22.1)136 b(Common)0 2411
y Fi(The)20 b(syn)n(tax)e(extension)i(kits)f(are)g(named)g(")p
Fb(pa)p 1456 2411 27 4 v 31 w(scheme.cmo)p Fi(")c(and)k(")p
Fb(pa)p 2267 2411 V 30 w(lisp.cmo)p Fi(".)31 b(The)19
b(sources)g(\(same)g(names)g(ending)0 2510 y(with)32
b(".ml")f(in)h(the)g(Camlp5)g(sources\),)f(are)g(written)h(in)g(their)g
(o)n(wn)f(syn)n(tax.)48 b(They)32 b(are)e(b)r(o)r(ostrapp)r(ed)i
(thanks)f(to)h(the)0 2610 y(v)n(ersions)26 b(b)r(eing)h(written)h(in)g
(revised)f(syn)n(tax)g(and)g(to)g(the)h(Camlp5)f(prett)n(y)h(prin)n
(ting)f(system.)0 2809 y(In)32 b(the)g(OCaml)f(toplev)n(el,)h(it)g(is)g
(p)r(ossible)f(to)h(use)g(them)g(b)n(y)f(loading)g(")p
Fb(camlp5r.cma)p Fi(")26 b(\014rst,)33 b(then)f(")p Fb(pa)p
3379 2809 V 30 w(lisp.cmo)p Fi(")c(or)0 2909 y(")p Fb(pa)p
135 2909 V 30 w(scheme.cmo)p Fi(")23 b(after:)87 3062
y Fb(ocaml)42 b(-I)g(+camlp5)f(camlp5r.cma)e(pa_scheme.cmo)436
3162 y(Objective)h(Caml)i(version)e(...)436 3361 y(Camlp5)h(Parsing)g
(version)f(...)87 3560 y(#)j(\(let)f(\(\(x)h(3\)\))f(\(*)h(3)g(x\)\))87
3660 y(-)g(:)h(int)e(=)h(9)87 3759 y(#)g(\(values)e(3)i(4)g(5\))87
3859 y(-)g(:)h(\(int)d(*)j(int)e(*)h(int\))f(=)h(\(3,)g(4,)f(5\))87
4058 y(ocaml)g(-I)g(+camlp5)f(camlp5r.cma)e(pa_lisp.cmo)436
4158 y(Objective)h(Caml)i(version)e(...)436 4357 y(Camlp5)h(Parsing)g
(version)f(...)87 4556 y(#)j(\(let)f(\(\(x)h(3\)\))f(\(*)h(3)g(x\)\))87
4656 y(-)g(:)h(int)e(=)h(9)87 4756 y(#)g(\(,)g(3)g(4)g(5\))87
4855 y(-)g(:)h(\(int)d(*)j(int)e(*)h(int\))f(=)h(\(3,)g(4,)f(5\))0
5009 y Fi(The)31 b(grammar)f(of)h(Sc)n(heme)g(and)g(Lisp)g(are)f
(relativ)n(ely)g(simple,)i(just)g(reading)e(s-expressions.)46
b(The)31 b(syn)n(tax)f(tree)h(no)r(des)0 5108 y(are)c(created)f(in)i
(the)g(seman)n(tic)f(actions.)36 b(Because)27 b(of)h(this,)f(these)h
(grammars)d(are)i(hardly)g(extensible.)0 5308 y(Ho)n(w)n(ev)n(er,)g
(the)i(syn)n(tax)f(extension)g(EXTEND)h(\(")p Fb(pa)p
1695 5308 V 31 w(extend.cmo)p Fi(")24 b(in)29 b(extensible)g
(grammars\))d(w)n(orks)h(for)i(them:)39 b(only)0 5407
y(the)26 b(seman)n(tic)e(actions)g(need)i(b)r(e)f(written)h(with)f(the)
h(Sc)n(heme)f(or)f(Lisp)h(syn)n(tax.)35 b(Stream)25 b(parsers)e(are)h
(also)g(implemen)n(ted.)1888 5656 y(175)p eop end
%%Page: 176 178
TeXDict begin 176 177 bop 0 70 a Fi(CHAPTER)27 b(22.)64
b(SCHEME)27 b(AND)i(LISP)e(SYNT)-7 b(AXES)p 0 103 3900
4 v 0 490 a(W)g(arning:)36 b(these)28 b(syn)n(taxes)e(are)h
(incomplete,)h(but)g(can)f(b)r(e)h(completed,)g(if)g(Camlp5)f(users)g
(are)f(insterested.)0 764 y Fc(22.2)136 b(Sc)l(heme)45
b(syn)l(tax)0 946 y Fi(Some)27 b(examples)g(are)g(giv)n(en)g(to)g(sho)n
(w)g(the)h(principles:)p 303 1057 3294 4 v 301 1157 4
100 v 353 1127 a(OCaml)p 2014 1157 V 1453 w(Sc)n(heme)p
3595 1157 V 303 1160 3294 4 v 301 1260 4 100 v 353 1230
a Fb(let)42 b(x)h(=)h(42;;)p 2014 1260 V 1187 w(\(define)d(x)i(42\))p
3595 1260 V 301 1359 V 353 1329 a(let)f(f)h(x)h(=)f(0;;)p
2014 1359 V 1144 w(\(define)e(\(f)i(x\))f(0\))p 3595
1359 V 301 1459 V 353 1429 a(let)g(rec)h(f)g(x)g(y)g(=)g(0;;)p
2014 1459 V 883 w(\(definerec)d(\(f)i(x)i(y\))e(0\))p
3595 1459 V 301 1558 V 353 1529 a(let)g(x)h(=)h(42)e(and)h(y)g(=)g(27)g
(in)g(x)g(+)g(y;;)p 2014 1558 V 316 w(\(let)f(\(\(x)g(42\))h(\(y)g
(27\)\))f(\(+)g(x)h(y\)\))p 3595 1558 V 301 1658 V 353
1628 a(let)f(x)h(=)h(42)e(in)h(let)f(y)i(=)f(27)g(in)f(x)h(+)h(y;;)p
2014 1658 V 185 w(\(let*)e(\(\(x)g(42\))g(\(y)h(27\)\))f(\(+)h(x)g
(y\)\))p 3595 1658 V 301 1758 V 353 1728 a(module)e(M)i(=)g(struct)e
(...)86 b(end;;)p 2014 1758 V 490 w(\(module)41 b(M)i(\(struct)e
(...\)\))p 3595 1758 V 301 1857 V 353 1827 a(type)h('a)h(t)g(=)g(A)g
(of)g('a)g(*)g(int)f(|)h(B)p 2014 1857 V 448 w(\(type)f(\(t)g('a\))h
(\(sum)f(\(A)h('a)f(int\))g(\(B\)\)\))p 3595 1857 V 301
1957 V 353 1927 a(fun)g(x)h(y)h(->)e(x)p 2014 1957 V
1189 w(\(lambda)f(\(x)i(y\))f(x\))p 3595 1957 V 301 2057
V 353 2027 a(x;)h(y;)f(z)p 2014 2057 V 1407 w(\(begin)f(x)i(y)h(z\))p
3595 2057 V 301 2156 V 353 2126 a(f)f(x)g(y)p 2014 2156
V 1494 w(\(f)g(x)g(y\))p 3595 2156 V 301 2256 V 353 2226
a([1;)f(2;)h(3])p 2014 2256 V 1319 w([1)g(2)g(3])p 3595
2256 V 301 2355 V 353 2326 a(x)g(::)86 b(y)44 b(::)86
b(z)43 b(::)86 b(t)p 2014 2355 V 884 w([x)43 b(y)g(z)g(::)87
b(t])p 3595 2355 V 301 2455 V 353 2425 a(a,)43 b(b,)f(c)p
2014 2455 V 1407 w(\(values)f(a)i(b)g(c\))p 3595 2455
V 301 2555 V 353 2525 a(match)e(x)j(with)d('A'..'Z')g(->)i("x")p
2014 2555 V 490 w(\(match)e(x)i(\(\(range)e('A')i('Z'\))e("x"\)\)\))p
3595 2555 V 301 2654 V 353 2624 a Fh(f)p Fb(x)i(=)g(y;)f(z)i(=)f(t)p
Fh(g)p 2014 2654 V 1105 w(f)p Fb(\(x)f(y\))h(\(z)g(t\))p
Fh(g)p 3595 2654 V 303 2658 3294 4 v 0 2874 a Fc(22.3)136
b(Lisp)44 b(syn)l(tax)0 3056 y Fi(The)28 b(same)f(examples:)p
303 3167 V 301 3266 4 100 v 353 3236 a(OCaml)p 2014 3266
V 1453 w(Lisp)p 3595 3266 V 303 3270 3294 4 v 301 3369
4 100 v 353 3339 a Fb(let)42 b(x)h(=)h(42;;)p 2014 3369
V 1187 w(\(value)d(x)i(42\))p 3595 3369 V 301 3469 V
353 3439 a(let)f(f)h(x)h(=)f(0;;)p 2014 3469 V 1144 w(\(value)e(f)i
(\(lambda)e(x)i(0\)\))p 3595 3469 V 301 3569 V 353 3539
a(let)f(rec)h(f)g(x)g(y)g(=)g(0;;)p 2014 3569 V 883 w(\(value)e(rec)i
(f)g(\(lambda)e(\(x)h(y\))h(0\)\))p 3595 3569 V 301 3668
V 353 3638 a(let)f(x)h(=)h(42)e(and)h(y)g(=)g(27)g(in)g(x)g(+)g(y;;)p
2014 3668 V 316 w(\(let)f(\(\(x)g(42\))h(\(y)g(27\)\))f(\(+)g(x)h
(y\)\))p 3595 3668 V 301 3768 V 353 3738 a(let)f(x)h(=)h(42)e(in)h(let)
f(y)i(=)f(27)g(in)f(x)h(+)h(y;;)p 2014 3768 V 185 w(\(let*)e(\(\(x)g
(42\))g(\(y)h(27\)\))f(\(+)h(x)g(y\)\))p 3595 3768 V
301 3867 V 353 3838 a(module)e(M)i(=)g(struct)e(...)86
b(end;;)p 2014 3867 V 490 w(\(module)41 b(M)i(\(struct)e(...\)\))p
3595 3867 V 301 3967 V 353 3937 a(type)h('a)h(t)g(=)g(A)g(of)g('a)g(*)g
(int)f(|)h(B)p 2014 3967 V 448 w(\(type)f(\(t)g('a\))h(\(sum)f(\(A)h
('a)f(int\))g(\(B\)\)\))p 3595 3967 V 301 4067 V 353
4037 a(fun)g(x)h(y)h(->)e(x)p 2014 4067 V 1189 w(\(lambda)f(\(x)i(y\))f
(x\))p 3595 4067 V 301 4166 V 353 4136 a(x;)h(y;)f(z)p
2014 4166 V 1407 w(\(progn)f(x)i(y)h(z\))p 3595 4166
V 301 4266 V 353 4236 a(f)f(x)g(y)p 2014 4266 V 1494
w(\(f)g(x)g(y\))p 3595 4266 V 301 4366 V 353 4336 a([1;)f(2;)h(3])p
2014 4366 V 1319 w(\(list)f(1)h(2)g(3\))p 3595 4366 V
301 4465 V 353 4435 a(x)g(::)86 b(y)44 b(::)86 b(z)43
b(::)86 b(t)p 2014 4465 V 884 w(\(list)42 b(x)h(y)g(z)g(::)87
b(t\))p 3595 4465 V 301 4565 V 353 4535 a(a,)43 b(b,)f(c)p
2014 4565 V 1407 w(\(,)h(a)g(b)g(c\))p 3595 4565 V 301
4664 V 353 4635 a(match)e(x)j(with)d('A'..'Z')g(->)i("x")p
2014 4664 V 490 w(\(match)e(x)i(\(\(range)e('A')i('Z'\))e("x"\)\)\))p
3595 4664 V 301 4764 V 353 4734 a Fh(f)p Fb(x)i(=)g(y;)f(z)i(=)f(t)p
Fh(g)p 2014 4764 V 1105 w Fb(\()p Fh(fg)f Fb(\(x)h(y\))g(\(z)g(t\)\))p
3595 4764 V 303 4767 3294 4 v 1888 5656 a Fi(176)p eop
end
%%Page: 177 179
TeXDict begin 177 178 bop 0 1014 a Fd(Chapter)65 b(23)0
1430 y Fg(Macros)0 1863 y Fi(Camlp5)22 b(pro)n(vides)f(a)h(system)g(of)
g(macros,)g(added)g(b)n(y)g(the)h(parsing)e(kit)h(")p
Fb(pa)p 2380 1863 27 4 v 30 w(macro.cmo)p Fi(".)31 b(Macros)21
b(are)g(v)-5 b(alues)22 b(ev)-5 b(aluated)0 1963 y(at)27
b(parsing)g(time.)0 2164 y(When)h(loaded,)f(the)h(parsing)e(kit)i
(extends)g(the)g(syn)n(tax)e(of)i(the)g(language)e(and)h(adds)h
(command)f(options.)0 2445 y Fc(23.1)136 b(Added)44 b(syn)l(tax)0
2629 y Fi(The)30 b(parsing)e(kit)i(")p Fb(pa)p 730 2629
V 30 w(macro.cmo)p Fi(")25 b(extends)30 b(the)g(structure)f(items)h
(\(=)f(toplev)n(el)g(phrases\),)g(the)h(expressions)e(and)i(the)0
2728 y(patterns)d(b)n(y)g(the)h(follo)n(wing)f(grammar)f(rules:)479
2917 y Fb(str-item)41 b(::=)h(str-macro-def)479 3016
y(sig-item)f(::=)h(sig-macro-def)654 3116 y(expr)g(::=)g(macro-expr)654
3215 y(patt)g(::=)g(macro-patt)436 3315 y(cons-decl)e(::=)i
(macro-cons-decl)349 3415 y(match-assoc)d(::=)j(macro-match-asso)o(c)
262 3514 y(str_macro-def)c(::=)k("DEFINE")e(uident)959
3614 y(|)j("DEFINE")d(uident)h("=")i(expr)959 3714 y(|)g("DEFINE")d
(uident)h(params)h("=")g(expr)959 3813 y(|)h("UNDEF")e(uident)959
3913 y(|)i("IFDEF")e(dexpr)g("THEN")g(st-or-mac)f("END")959
4012 y(|)j("IFDEF")e(dexpr)g("THEN")g(st-or-mac)1046
4112 y("ELSE")g(st-or-mac)f("END")959 4212 y(|)j("IFNDEF")d(dexpr)i
("THEN")f(st-or-mac)f("END")959 4311 y(|)j("IFNDEF")d(dexpr)i("THEN")f
(st-or-mac)1046 4411 y("ELSE")g(st-or-mac)f("END")262
4511 y(sig_macro-def)e(::=)k("DEFINE")e(uident)959 4610
y(|)j("DEFINE")d(uident)h(params)h("=")g(type)959 4710
y(|)h("UNDEF")e(uident)959 4809 y(|)i("IFDEF")e(dexpr)g("THEN")g
(sg-or-mac)f("END")959 4909 y(|)j("IFDEF")e(dexpr)g("THEN")g(sg-or-mac)
1046 5009 y("ELSE")g(sg-or-mac)f("END")959 5108 y(|)j("IFNDEF")d(dexpr)
i("THEN")f(sg-or-mac)f("END")959 5208 y(|)j("IFNDEF")d(dexpr)i("THEN")f
(sg-or-mac)1046 5308 y("ELSE")g(sg-or-mac)f("END")392
5407 y(macro-expr)g(::=)i("IFDEF")f(dexpr)g("THEN")g(expr)h("ELSE")f
(expr)h("END")1888 5656 y Fi(177)p eop end
%%Page: 178 180
TeXDict begin 178 179 bop 0 70 a Fi(CHAPTER)27 b(23.)64
b(MA)n(CR)n(OS)p 0 103 3900 4 v 959 390 a Fb(|)43 b("IFNDEF")d(dexpr)i
("THEN")f(expr)h("ELSE")f(expr)h("END")959 490 y(|)h("__FILE__")959
589 y(|)g("__LOCATION__")392 689 y(macro-patt)d(::=)i("IFDEF")f(dexpr)g
("THEN")g(patt)h("ELSE")f(patt)h("END")959 789 y(|)h("IFNDEF")d(dexpr)i
("THEN")f(patt)h("ELSE")f(patt)h("END")174 888 y(macro-cons-decl)c(::=)
k("IFDEF")f(dexpr)g("THEN")g(cons-decl)f("END")959 988
y(|)j("IFDEF")e(dexpr)g("THEN")g(cons-decl)1046 1088
y("ELSE")g(cons-decl)f("END")959 1187 y(|)j("IFNDEF")d(dexpr)i("THEN")f
(cons-decl)f("END")959 1287 y(|)j("IFNDEF")d(dexpr)i("THEN")f
(cons-decl)1046 1386 y("ELSE")g(cons-decl)f("END")87
1486 y(macro-match-assoc)d(::=)42 b("IFDEF")f(dexpr)g("THEN")g
(match_assoc)e("END")959 1586 y(|)k("IFDEF")e(dexpr)g("THEN")g
(match-assoc)1046 1685 y("ELSE")g(match-assoc)e("END")959
1785 y(|)k("IFNDEF")d(dexpr)i("THEN")f(match-assoc)e("END")959
1885 y(|)k("IFNDEF")d(dexpr)i("THEN")f(match-assoc)1046
1984 y("ELSE")g(match-assoc)e("END")436 2084 y(st-or-mac)h(::=)i
(str_macro-def)1002 2183 y(|)i(str-item)436 2283 y(sg-or-mac)c(::=)i
(sig-macro-def)1002 2383 y(|)i(sig-item)610 2482 y(params)d(::=)i
(ident)e(params)1002 2582 y(|)j(ident)654 2682 y(dexpr)d(::=)i(dexpr)e
("OR")h(dexpr)1002 2781 y(|)i(dexpr)d("AND")h(dexpr)1002
2881 y(|)i("NOT")d(dexpr)1002 2980 y(|)j(uident)1002
3080 y(|)g("\(")e(dexpr)g("\)")610 3180 y(uident)f(::=)i('A'-'Z')d
(ident)654 3279 y(ident)h(::=)i(ident-char*)436 3379
y(ident-char)c(::=)k(\('a'-'a')d(|)j('A'-'Z')e(|)i('0'-'9')e(|)i('_')f
(|)h(''')g(|)1133 3479 y(utf8-byte\))479 3578 y(utf8-byte)d(::=)j
('\\128'-'\\255')0 3810 y Fi(When)24 b(a)e(macro)g(has)h(b)r(een)g
(de\014ned,)i(as)d(name)h(e.g.)35 b("NAME",)23 b(the)h(expressions)d
(and)i(patterns)f(are)h(extended)g(this)g(w)n(a)n(y:)349
4055 y Fb(expr)42 b(::=)g("NAME")654 4154 y(|)h("NAME")e("\(")h
(expr-params)d("\)")349 4254 y(patt)j(::=)g("NAME")654
4353 y(|)h("NAME")e("\(")h(patt-params)d("\)")87 4453
y(expr-params)g(:=)k(expr)f(",")g(expr-params)654 4553
y(|)h(expr)87 4652 y(patt-params)c(:=)k(patt)f(",")g(patt-params)654
4752 y(|)h(patt)0 4984 y Fi(Notice)30 b(that)g(the)g(iden)n(ti\014ers)f
(")p Fb(DEFINE)p Fi(",)e(")p Fb(UNDEF)p Fi(",)g(")p Fb(IFDEF)p
Fi(",)h(")p Fb(IFNDEF)p Fi(",)f(")p Fb(ELSE)p Fi(",)g(")p
Fb(END)p Fi(",)i(")p Fb(OR)p Fi(",)f(")p Fb(AND)p Fi(")g(and)h(")p
Fb(NOT)p Fi(")0 5084 y(are)e(new)g(k)n(eyw)n(ords)f(\(they)i(cannot)f
(b)r(e)h(used)f(as)g(iden)n(ti\014ers)h(of)f(constructors)f(or)h(mo)r
(dules.)0 5308 y(Ho)n(w)n(ev)n(er,)40 b(the)g(iden)n(ti\014ers)f(")p
967 5308 27 4 v 998 5308 V 62 w Fb(FILE)p 1205 5308 V
1235 5308 V 61 w Fi(")g(and)h(")p 1563 5308 V 1594 5308
V 62 w Fb(LOCATION)p 1977 5308 V 2005 5308 V 59 w Fi(")f(and)g(the)h
(new)g(de\014ned)f(macro)f(names)h(are)g(not)g(new)0
5407 y(iden)n(ti\014ers.)1888 5656 y(178)p eop end
%%Page: 179 181
TeXDict begin 179 180 bop 2918 70 a Fi(CHAPTER)27 b(23.)63
b(MA)n(CR)n(OS)p 0 103 3900 4 v 0 390 a Fc(23.2)136 b(Added)44
b(command)g(options)0 584 y Fi(The)28 b(parsing)e(kit)i(")p
Fb(pa)p 724 584 27 4 v 30 w(macro.cmo)p Fi(")23 b(also)k(add)g(t)n(w)n
(o)g(options)g(usable)g(in)h(all)f(Camlp5)g(commands:)0
792 y Fb(-D)43 b(uident)208 937 y Fi(De\014ne)28 b(the)g(uiden)n(t)g
(in)g(question)f(lik)n(e)g(w)n(ould)g(ha)n(v)n(e)g(b)r(een)h(a)f
(DEFINE)g(\(without)i(parameter\))d(in)i(the)g(co)r(de.)0
1128 y Fb(-U)43 b(uident)208 1274 y Fi(Unde\014ne)28
b(the)g(uiden)n(t)g(in)g(question)f(lik)n(e)g(w)n(ould)g(ha)n(v)n(e)g
(b)r(een)h(a)f(UNDEF)h(in)g(the)g(co)r(de.)0 1465 y Fb(-defined)208
1611 y Fi(Prin)n(t)e(the)i(de\014ned)g(macros)e(and)i(exit.)0
1919 y Fc(23.3)136 b(Seman)l(tics)0 2112 y Fi(The)29
b(statemen)n(t)h(")p Fb(DEFINE)p Fi(")c(de\014nes)j(a)g(new)g(macro)f
(with)i(optional)f(parameters)e(and)i(an)g(optional)g(v)-5
b(alue.)42 b(The)29 b(macro)0 2212 y(name)e(m)n(ust)h(start)f(with)h
(an)g(upp)r(ercase)e(letter.)0 2424 y(The)i(test)g(of)f(a)g(macro)g
(can)g(b)r(e)h(done)f(either:)125 2609 y Fh(\017)41 b
Fi(in)27 b(structure)g(items)125 2800 y Fh(\017)41 b
Fi(in)27 b(signature)g(items)125 2991 y Fh(\017)41 b
Fi(in)27 b(expressions)125 3183 y Fh(\017)41 b Fi(in)27
b(patterns)125 3374 y Fh(\017)41 b Fi(in)27 b(a)h(constructor)e
(declaration)125 3565 y Fh(\017)41 b Fi(in)27 b(a)h(matc)n(h)f(case)0
3750 y(using)d(the)h(statemen)n(t)g(")p Fb(IFDEF)p Fi(".)33
b(Its)25 b(non-existence)f(can)g(b)r(e)h(tested)g(b)n(y)g(")p
Fb(IFNDEF)p Fi(".)32 b(In)25 b(expressions)e(and)i(patterns,)g(the)0
3850 y(")p Fb(ELSE)p Fi(")g(part)i(is)h(required,)e(not)i(in)g
(structure)f(items.)0 4062 y(The)22 b(expression)e(b)r(ehind)j(the)f(")
p Fb(IFDEF)p Fi(")d(or)i(the)h(")p Fb(IFNDEF)p Fi(")d(statemen)n(t)j
(ma)n(y)f(use)g(the)i(op)r(erators)c(")p Fb(OR)p Fi(",)j(")p
Fb(AND)p Fi(")e(and)h(")p Fb(NOT)p Fi(")0 4161 y(and)27
b(con)n(tain)g(paren)n(theses.)0 4373 y(Notice)32 b(that)h(in)f(an)h(")
p Fb(IFDEF)p Fi(")c(where)j(the)g(v)-5 b(alue)33 b(is)f(T)-7
b(rue)32 b(\(resp.)50 b(F)-7 b(alse\),)34 b(the)f(")p
Fb(ELSE)p Fi(")c(\(resp)j(")p Fb(THEN)p Fi("\))e(part)i(do)r(es)g(not)0
4473 y(need)27 b(to)g(b)r(e)g(seman)n(tically)f(correct)f(\(w)n(ell)i
(t)n(yp)r(ed\),)h(since)e(it)i(do)r(es)e(not)h(app)r(ear)f(in)h(the)g
(resulting)g(syn)n(tax)f(tree.)36 b(Same)27 b(for)0 4572
y(")p Fb(IFNDEF)p Fi(")d(and)k(for)f(p)r(ossible)g(macros)f(parameters)
g(whic)n(h)h(are)g(not)h(used)f(in)h(the)g(asso)r(ciated)e(expression.)
0 4784 y(If)i(a)f(macro)g(is)g(de\014ned)h(t)n(wice,)f(its)h(\014rst)g
(v)n(ersion)e(is)h(lost.)0 4996 y(The)h(statemen)n(t)f(")p
Fb(UNDEF)p Fi(")e(remo)n(v)n(es)h(a)h(macro)f(de\014nition.)0
5208 y(When)38 b(asso)r(ciated)e(with)i(a)e(v)-5 b(alue,)40
b(the)e(")p Fb(DEFINE)p Fi(")33 b(macro)j(acts)h(lik)n(e)g(a)g(v)-5
b(ariable)36 b(\(or)h(lik)n(e)g(a)f(function)i(call)f(if)h(it)g(has)0
5308 y(parameters\),)31 b(except)h(that)g(the)g(parameters)e(are)g(ev)
-5 b(aluated)32 b(at)f(parse)g(time)h(and)f(can)h(also)e(b)r(e)i(used)g
(also)e(in)i(pattern)0 5407 y(p)r(ositions.)k(Notice)28
b(that)g(this)g(is)f(a)g(w)n(a)n(y)g(to)g(de\014ne)h(constan)n(ts)f(b)n
(y)g(name)g(in)h(patterns.)37 b(F)-7 b(or)27 b(example:)1888
5656 y(179)p eop end
%%Page: 180 182
TeXDict begin 180 181 bop 0 70 a Fi(CHAPTER)27 b(23.)64
b(MA)n(CR)n(OS)p 0 103 3900 4 v 87 390 a Fb(DEFINE)41
b(WW1)i(=)g(1914;)87 490 y(DEFINE)e(WW2)i(=)g(1939;)87
589 y(value)f(war_or_year)d(=)174 689 y(fun)174 789 y([)44
b(WW1)e(->)h("world)e(war)h(I")174 888 y(|)i(WW2)e(->)h("world)e(war)h
(II")174 988 y(|)i(_)f(->)f("not)g(a)i(war")d(])87 1088
y(;)0 1241 y Fi(In)28 b(the)g(de\014nition)f(of)h(a)f(macro,)f(if)i
(the)g(expression)e(con)n(tains)h(an)g(ev)-5 b(aluation,)27
b(the)h(ev)-5 b(aluation)26 b(is)i(not)f(done)g(b)n(y)h(Camlp5)0
1341 y(but)g(just)g(transmitted)g(as)f(co)r(de.)37 b(In)28
b(this)f(case,)g(it)h(do)r(es)f(not)h(w)n(ork)e(in)i(pattern)g(p)r
(osition.)36 b(Example)27 b(in)h(the)g(toplev)n(el:)87
1494 y Fb(#)43 b(DEFINE)e(PLUS\(x,)g(y\))i(=)g(x)g(+)g(y;)87
1594 y(#)g(PLUS\(3,)e(4\);)87 1693 y(-)i(:)h(int)e(=)h(7)87
1793 y(#)131 b(fun)42 b([)h(PLUS\(3,)e(4\))h(->)h(\(\))g(];)87
1893 y(Toplevel)d(input:)87 1992 y(#)131 b(fun)42 b([)h(PLUS\(3,)e(4\))
h(->)h(\(\))g(];)523 2092 y(^^^^^^^^^^)87 2192 y(Failure:)d(this)i(is)h
(not)f(a)i(constructor,)38 b(it)43 b(cannot)e(be)i(applied)e(in)h(a)i
(pattern)0 2345 y Fi(On)27 b(the)h(other)f(hand,)h(if)g(the)g
(expression)e(do)r(es)h(not)h(con)n(tain)f(ev)-5 b(aluation,)27
b(this)h(is)f(p)r(ossible:)87 2498 y Fb(#)43 b(DEFINE)e(FOO\(x,)h(y\))g
(=)h(\(x,)g(Some)f(y\);)87 2598 y(#)h(FOO\(True,)d("bar"\);)87
2698 y(-)j(:)h(\(bool)d(*)i(option)e(string\))g(=)i(\(True,)e(Some)h
("bar"\))87 2797 y(#)h(fun)g([)g(FOO\(_,)e("hello"\))f(->)j(0)g(|)g(_)h
(->)e(1)h(];)87 2897 y(-)g(:)h(\('a)e(*)h(option)e(string\))g(->)i(int)
f(=)h(<fun>)0 3050 y Fi(The)25 b(macro)e(")p 461 3050
27 4 v 492 3050 V 62 w Fb(FILE)p 699 3050 V 729 3050
V 61 w Fi(")i(is)f(replaced)g(b)n(y)g(the)h(curren)n(t)f(compiled)g
(source)g(\014le)g(name.)36 b(In)25 b(the)g(OCaml)f(toplev)n(el,)g(its)
h(v)-5 b(alue)0 3150 y(is)27 b(the)h(empt)n(y)g(string.)0
3349 y(The)23 b(macro)e(")p 457 3349 V 489 3349 V 63
w Fb(LOCATION)p 872 3349 V 900 3349 V 59 w Fi(")i(is)f(replaced)g(b)n
(y)h(the)g(the)g(curren)n(t)f(lo)r(cation)g(\(t)n(w)n(o)h(in)n(tegers)e
(in)j(n)n(um)n(b)r(er)e(of)h(c)n(haracters)d(from)0 3449
y(the)28 b(b)r(eginning)g(of)f(the)h(\014le,)g(starting)f(at)g(zero\))g
(of)g(the)h(macro)f(itself.)0 3648 y(In)h(signatures,)e(the)i(macro)e
(de\014nitions)i(can)f(return)g(t)n(yp)r(es)h(whic)n(h)f(can)h(b)r(e)g
(used)f(in)h(t)n(yp)r(e)g(de\014nitions.)0 3847 y(In)g(constructor)f
(declarations)f(and)i(in)g(matc)n(h)f(cases,)g(it)i(is)f(p)r(ossible)f
(to)h(conditionally)f(de\014ne)h(some)g(cases)e(b)n(y)i(")p
Fb(IFDEF)p Fi(")0 3947 y(or)f(")p Fb(IFNDEF)p Fi(".)33
b(F)-7 b(or)27 b(example:)87 4101 y Fb(type)42 b(t)h(=)174
4200 y([)h(A)f(of)f(int)174 4300 y(|)i(IFNDEF)d(FOO)h(THEN)349
4399 y(B)h(of)g(string)262 4499 y(END)174 4599 y(|)h(C)f(of)f(bool)g(])
87 4698 y(;)87 4898 y(match)g(x)h(with)87 4997 y([)g(A)h(i)f(->)f(j)87
5097 y(|)h(IFNDEF)e(FOO)i(THEN)262 5196 y(B)g(s)g(->)g(toto)174
5296 y(END)87 5396 y(|)g(C)h(b)f(->)f(e)i(];)1888 5656
y Fi(180)p eop end
%%Page: 181 183
TeXDict begin 181 182 bop 2918 70 a Fi(CHAPTER)27 b(23.)63
b(MA)n(CR)n(OS)p 0 103 3900 4 v 0 390 a Fc(23.4)136 b(Prede\014ned)44
b(macros)0 572 y Fi(The)28 b(macro)e(")p Fb(CAMLP5)p
Fi(")e(is)k(alw)n(a)n(ys)d(prede\014ned.)0 771 y(The)k(macro)e(")p
Fb(OCAML)p 689 771 27 4 v 29 w(oversion)p Fi(")d(is)29
b(prede\014ned,)g(where)f(")p Fb(oversion)p Fi(")c(is)k(the)h(OCaml)f
(v)n(ersion)f(the)i(Camlp5)f(program)0 871 y(has)22 b(b)r(een)i
(compiled)e(with,)j(where)d(all)h(c)n(haracters)d(but)k(n)n(um)n(b)r
(ers)e(are)g(replaced)g(b)n(y)h(underscores.)33 b(F)-7
b(or)23 b(example,)g(if)g(using)0 971 y(OCaml)k(3.09.3,)f(the)i(macro)e
(")p Fb(OCAML)p 1208 971 V 29 w(3)p 1281 971 V 31 w(09)p
1400 971 V 30 w(3)p Fi(")h(is)h(de\014ned.)0 1170 y(Moreo)n(v)n(er,)21
b(for)g Fa(some)29 b Fi(Camlp5)22 b(v)n(ersions)e(\(and)j(all)f(the)g
(v)n(ersions)f(whic)n(h)h(follo)n(ws)f(them\),)j(the)f(macro)e(")p
Fb(CAMLP5)p 3530 1170 V 28 w(version)p Fi(")0 1269 y(is)28
b(de\014ned)g(where)f(")p Fb(version)p Fi(")d(is)j(the)i(Camlp5)e(v)n
(ersion)f(where)h(all)h(c)n(haracters)d(but)j(n)n(um)n(b)r(ers)g(are)e
(replaced)h(b)n(y)h(under-)0 1369 y(scores.)72 b(F)-7
b(or)39 b(example,)k(in)d(v)n(ersion)e(4.02,)k(the)e(macro)f(")p
Fb(CAMLP5)p 2180 1369 V 28 w(4)p 2252 1369 V 31 w(02)p
Fi(")g(had)g(b)r(een)i(de\014ned)f(and)g(this)g(macro)e(ha)n(v)n(e)0
1469 y(app)r(eared)27 b(in)h(all)f(v)n(ersions)f(of)h(Camlp5)g(since)h
(4.02.)0 1668 y(T)-7 b(o)27 b(see)g(whic)n(h)h(macros)e(are)h
(prede\014ned,)g(t)n(yp)r(e:)87 1851 y Fb(camlp5r)41
b(pa_macro.cmo)d(-defined)1888 5656 y Fi(181)p eop end
%%Page: 182 184
TeXDict begin 182 183 bop eop end
%%Page: 183 185
TeXDict begin 183 184 bop 0 1013 a Fd(Chapter)65 b(24)0
1428 y Fg(Pragma)77 b(directiv)-6 b(e)0 1860 y Fi(The)34
b(directiv)n(e)f(")p Fb(#pragma)p Fi(")e(allo)n(ws)h(to)i(ev)-5
b(aluate)34 b(expressions)e(at)i(parse)f(time,)j(useful,)g(for)e
(example,)h(to)f(test)g(syn)n(tax)0 1959 y(extensions)27
b(b)n(y)g(the)h(statemen)n(t)g(EXTEND)f(without)h(ha)n(ving)f(to)g
(compile)h(it)g(in)g(a)f(separate)f(\014le.)0 2159 y(T)-7
b(o)30 b(use)g(it,)h(add)f(the)h(syn)n(tax)e(extension)h(")p
Fb(pa)p 1463 2159 27 4 v 30 w(pragma.cmo)p Fi(")c(in)k(the)h(Camlp5)e
(command)h(line.)45 b(It)31 b(adds)f(the)g(abilit)n(y)g(to)0
2258 y(use)d(this)h(directiv)n(e.)0 2457 y(As)g(an)f(example,)g(let's)h
(add)f(syn)n(tax)g(for)g(the)h(statemen)n(t)g('rep)r(eat')f(and)g(use)h
(it)g(immediately:)87 2640 y Fb(#pragma)174 2740 y(EXTEND)262
2839 y(GLOBAL:)40 b(expr;)262 2939 y(expr:)h(LEVEL)h("top")349
3039 y([)h([)g("repeat";)d(e1)j(=)g(sequence;)d("until";)g(e2)j(=)g
(SELF)f(->)610 3138 y(<:expr<)f(do)i({)g($e1$;)e(while)h(not)g($e2$)g
(do)h({)g($e1$)f(})h(})g(>>)g(])g(])262 3238 y(;)262
3337 y(sequence:)349 3437 y([)g([)g(el)g(=)g(LIST1)e(expr_semi)f(->)j
(<:expr<)e(do)i({)g($list:el$)d(})j(>>)g(])g(])262 3537
y(;)262 3636 y(expr_semi:)349 3736 y([)g([)g(e)g(=)g(expr;)f(";")g(->)h
(e)g(])g(])262 3836 y(;)174 3935 y(END;)87 4134 y(let)g(i)g(=)g(ref)f
(1)h(in)87 4234 y(repeat)e(print_int)f(i.val;)h(print_endline)d("";)43
b(incr)f(i;)g(until)g(i.val)g(=)h(10;)0 4417 y Fi(The)28
b(compilation)f(of)g(this)h(example)f(\(naming)h(it)g("fo)r(o.ml"\))f
(can)g(b)r(e)h(done)f(with)h(the)g(command:)87 4599 y
Fb(ocamlc)41 b(-pp)i("camlp5r)d(q_MLast.cmo)f(pa_extend.cmo)f
(pa_pragma.cmo")g(-I)43 b(+camlp5)d(foo.ml)0 4782 y Fi(Notice)28
b(that)f(it)i(is)e(still)h(exp)r(erimen)n(tal)f(and)g(probably)g
(incomplete,)h(for)f(the)h(momen)n(t.)1888 5656 y(183)p
eop end
%%Page: 184 186
TeXDict begin 184 185 bop eop end
%%Page: 185 187
TeXDict begin 185 186 bop 0 1013 a Fd(Chapter)65 b(25)0
1428 y Fg(Extensible)76 b(functions)0 1860 y Fi(Extensible)25
b(functions)i(allo)n(ws)d(the)i(de\014nition)h(of)e(pattern)h(matc)n
(hing)f(functions)i(whic)n(h)e(are)g(extensible)h(b)n(y)g(adding)f(new)
0 1959 y(cases)35 b(that)h(are)f(inserted)h(automatically)e(at)i(the)g
(prop)r(er)f(place)h(b)n(y)f(comparing)g(the)h(patterns.)62
b(The)35 b(pattern)h(cases)0 2059 y(are)26 b(ordered)f(according)g(to)i
(syn)n(tax)e(trees)h(represen)n(ting)g(them,)h("when")f(statemen)n(ts)g
(b)r(eing)h(inserted)g(b)r(efore)f(the)h(cases)0 2159
y(without)h("when".)0 2358 y(Notice)g(that)f(extensible)h(functions)g
(are)f(functional:)37 b(when)27 b(extending)h(a)f(function,)h(a)g(new)f
(function)h(is)g(returned.)0 2557 y(The)g(extensible)f(functions)h(are)
f(used)g(in)h(the)g(prett)n(y)f(prin)n(ting)h(system)f(of)h(Camlp5.)0
2830 y Fc(25.1)136 b(Syn)l(tax)0 3012 y Fi(The)28 b(syn)n(tax)e(of)i
(the)g(extensible)f(functions,)h(when)g(loading)f("pa)p
2083 3012 25 4 v 29 w(extfun.cmo",)g(is)h(the)g(follo)n(wing:)479
3185 y Fb(expression)40 b(::=)i(extensible-functi)o(on)87
3285 y(extensible-functi)o(on)37 b(::=)42 b("extfun")f(expression)e
("with")i("[")h(match-cases)d("]")436 3384 y(match-cases)g(::=)j
(match-case)e("|")i(match-cases)479 3484 y(match-case)e(::=)i(pattern)f
("->")h(expression)1046 3584 y(|)h(pattern)e("when")g(expression)e
("->")j(expression)0 3757 y Fi(It)28 b(is)f(an)h(extension)f(of)g(the)h
(same)f(syn)n(tax)g(as)g(the)h("matc)n(h")e(and)i("try")e
(constructions.)0 4030 y Fc(25.2)136 b(Seman)l(tics)0
4212 y Fi(The)32 b(statemen)n(t)g("extend")g(de\014ned)g(b)n(y)g(the)h
(syn)n(tax)e(tak)n(es)g(an)h(extensible)g(function)h(and)f(return)g
(another)f(extensible)0 4311 y(function)d(with)g(the)g(new)g(matc)n(h)f
(cases)g(inserted)g(at)h(the)g(prop)r(er)e(place)h(within)i(the)f
(initial)g(extensible)f(function.)0 4511 y(Extensible)g(functions)g
(are)f(of)h(t)n(yp)r(e)g(")p Fb(Extfun.t)40 b(a)j(b)p
Fi(",)26 b(whic)n(h)h(is)g(an)f(abstract)g(t)n(yp)r(e,)i(where)e(")p
Fb(a)p Fi(")g(and)g(")p Fb(b)p Fi(")g(are)g(resp)r(ec-)0
4610 y(tiv)n(ely)j(the)h(t)n(yp)r(e)g(of)g(the)g(patterns)f(and)h(the)g
(t)n(yp)r(e)g(of)f(the)h(expressions.)42 b(It)30 b(corresp)r(onds)e(to)
h(a)g(function)i(of)e(t)n(yp)r(e)h(")p Fb(a)43 b(->)0
4710 y(b)p Fi(".)0 4909 y(The)30 b(function)g(")p Fb(Extfun.apply)p
Fi(")24 b(tak)n(es)k(an)h(extensible)h(function)g(as)f(parameter)f(and)
i(returns)f(a)g(function)h(whic)n(h)f(can)0 5009 y(b)r(e)f(applied)g
(lik)n(e)f(a)g(normal)g(function.)0 5208 y(The)e(v)-5
b(alue)25 b(")p Fb(Extfun.empty)p Fi(")18 b(is)25 b(an)g(empt)n(y)g
(extensible)f(function,)i(of)f(t)n(yp)r(e)g(")p Fb(Extfun.t)40
b('a)j('b)p Fi(".)34 b(When)26 b(applied)f(with)0 5308
y(")p Fb(Extfun.apply)p Fi(")d(and)27 b(a)g(parameter,)g(it)h(raises)e
(the)i(exception)f(")p Fb(Extfun.Failure)p Fi(")21 b(whatev)n(er)26
b(the)i(parameter.)1888 5656 y(185)p eop end
%%Page: 186 188
TeXDict begin 186 187 bop 0 70 a Fi(CHAPTER)27 b(25.)64
b(EXTENSIBLE)26 b(FUNCTIONS)p 0 103 3900 4 v 0 390 a(F)-7
b(or)36 b(debugging,)h(it)g(is)f(p)r(ossible)g(to)g(use)g(the)h
(function)g(")p Fb(Extfun.print)p Fi(")30 b(whic)n(h)36
b(displa)n(ys)g(the)g(matc)n(h)g(cases)f(of)i(the)0 490
y(extensible)28 b(functions.)37 b(\(Only)27 b(the)h(patterns)f(are)g
(displa)n(y)n(ed)g(in)g(clear)g(text,)h(the)g(asso)r(ciated)e
(expressions)g(are)h(not.\))0 689 y(The)h(matc)n(h)f(cases)g(are)f
(inserted)h(according)f(to)i(the)g(follo)n(wing)e(rules:)125
872 y Fh(\017)41 b Fi(The)27 b(matc)n(h)h(cases)e(are)h(inserted)g(in)h
(the)g(order)e(they)i(are)e(de\014ned)i(in)g(the)g(syn)n(tax)f(")p
Fb(extend)p Fi(")125 1038 y Fh(\017)41 b Fi(A)27 b(matc)n(h)h(case)f
(pattern)g(with)h("when")f(is)g(inserted)h(b)r(efore)f(a)g(matc)n(h)h
(case)e(pattern)i(without)g("when".)125 1204 y Fh(\017)41
b Fi(Tw)n(o)32 b(matc)n(h)h(cases)f(patterns)g(b)r(oth)i(with)g("when")
e(or)g(b)r(oth)i(without)f("when")f(are)h(inserted)f(according)g(to)h
(the)208 1303 y(alphab)r(etic)i(order)e(of)i(some)g(in)n(ternal)f(syn)n
(tax)g(tree)h(of)g(the)g(patterns)g(where)f(b)r(ound)i(v)-5
b(ariables)33 b(names)i(are)f(not)208 1403 y(tak)n(en)27
b(in)n(to)g(accoun)n(t.)125 1569 y Fh(\017)41 b Fi(If)32
b(t)n(w)n(o)f(matc)n(h)h(cases)f(patterns)h(without)g("when")f(ha)n(v)n
(e)g(the)i(same)e(patterns)h(in)n(ternal)f(syn)n(tax)g(tree,)i(the)g
(initial)208 1669 y(one)27 b(is)g(silen)n(tly)h(remo)n(v)n(ed.)125
1835 y Fh(\017)41 b Fi(If)29 b(t)n(w)n(o)f(matc)n(h)h(cases)e(patterns)
i(with)g("when")f(ha)n(v)n(e)g(the)h(same)f(patterns)h(in)n(ternal)f
(syn)n(tax)g(tree,)h(the)g(new)g(one)f(is)208 1934 y(inserted)f(b)r
(efore)g(the)h(old)g(one.)1888 5656 y(186)p eop end
%%Page: 187 189
TeXDict begin 187 188 bop 1621 2049 a Fd(P)-5 b(art)65
b(IV)1454 2464 y Fg(App)6 b(endix)1888 5656 y Fi(187)p
eop end
%%Page: 188 190
TeXDict begin 188 189 bop eop end
%%Page: 189 191
TeXDict begin 189 190 bop 0 1013 a Fd(App)5 b(endix)64
b(A)0 1428 y Fg(Commands)77 b(and)g(Files)0 1860 y Fi(The)31
b(main)f(command)g(of)h(Camlp5)f(is)g(")p Fb(camlp5)p
Fi(".)43 b(It)31 b(is)f(an)g(OCaml)g(program)f(in)i(b)n(yteco)r(de)f
(\(compiled)g(with)i(o)r(camlc,)0 1959 y(not)c(o)r(camlopt\),)f(able)g
(to)h(dynamically)f(load)f(OCaml)h(ob)5 b(ject)28 b(\014les)f(\(ending)
h(with)g(".cmo")f(and)g(".cma"\).)0 2159 y(Most)d(other)g(Camlp5)f
(commands)h(deriv)n(e)f(from)h(that)g(one:)35 b(they)25
b(are)e(the)h(command)g(")p Fb(camlp5)p Fi(")d(with)k(some)e
(implicitely)0 2258 y(applied)28 b(parameters.)0 2457
y(Tw)n(o)k(other)g(commands)g(are)f(pro)n(vided:)46 b(")p
Fb(mkcamlp5)p Fi(")28 b(and)33 b(")p Fb(mkcamlp5.opt)p
Fi(".)46 b(They)32 b(allo)n(w)g(to)g(create)g(camlp5)g(exe-)0
2557 y(cutables)27 b(with)h(already)f(loaded)f(kits.)0
2756 y(All)h(commands)f(ha)n(v)n(e)f(an)i(option)f(")p
Fb(-help)p Fi(")e(whic)n(h)i(displa)n(y)g(all)g(p)r(ossible)h(command)f
(parameters)f(and)h(options.)36 b(Notice)0 2856 y(that)28
b(some)f(parameters)f(\(the)i(parsing)e(and)i(pretting)f(kits\))h(ma)n
(y)f(add)g(new)h(options.)36 b(F)-7 b(or)27 b(example,)h(the)g
(command:)87 3027 y Fb(camlp5)41 b(pr_r.cmo)g(-help)0
3198 y Fi(prin)n(ts)27 b(more)g(lines)h(than)f(just:)87
3369 y Fb(camlp5)41 b(-help)0 3540 y Fi(The)32 b(\014rst)f(parameter)g
(\("load)g(options"\))g(allo)n(ws)f(to)i(sp)r(ecify)g(parsing)e(and)i
(prin)n(ting)f(kits)h(\(".cmo")f(and)g(".cma")g(\014les\))0
3640 y(whic)n(h)d(are)e(loaded)h(inside)h(the)g(")p Fb(camlp5)p
Fi(")c(core)i(b)r(efore)i(an)n(y)f(action.)36 b(Other)27
b(options)g(ma)n(y)g(follo)n(w.)0 3912 y Fc(A.1)135 b(P)l(arsing)45
b(and)g(Prin)l(ting)h(Kits)0 4111 y Fe(A.1.1)112 b(P)m(arsing)38
b(kits)0 4264 y Ff(language)31 b(parsing)h(kits)0 4417
y Fb(pa)p 93 4417 27 4 v 31 w(r.cmo)208 4548 y Fi(Revised)27
b(syn)n(tax)g(\(without)h(parsers\).)0 4709 y Fb(pa)p
93 4709 V 31 w(rp.cmo)208 4840 y Fi(Add)g(revised)e(syn)n(tax)h
(parsers.)0 5001 y Fb(pa)p 93 5001 V 31 w(o.cmo)208 5132
y Fi(Normal)f(syn)n(tax)h(\(without)h(parsers\).)36 b(Option)27
b(added:)208 5293 y Fb(-no)p 345 5293 V 30 w(quot)390
5407 y Fi(don't)h(parse)e(quotations,)h(allo)n(wing)f(to)i(use,)f(e.g.)
37 b(")p Fb(<:>)p Fi(")25 b(as)i(tok)n(en.)1888 5656
y(189)p eop end
%%Page: 190 192
TeXDict begin 190 191 bop 0 70 a Fi(APPENDIX)27 b(A.)56
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 0 390 a
Fb(pa)p 93 390 27 4 v 31 w(op.cmo)208 529 y Fi(Add)g(normal)e(syn)n
(tax)h(parsers.)0 708 y Fb(pa)p 93 708 V 31 w(oop.cmo)208
847 y Fi(Add)h(normal)e(syn)n(tax)h(parsers)f(without)i(co)r(de)f
(optimization.)0 1026 y Fb(pa)p 93 1026 V 31 w(lexer.cmo)208
1165 y Fi(Add)h(stream)f(lexers.)0 1398 y Ff(extensible)j(grammars)0
1557 y Fb(pa)p 93 1557 V 31 w(extend.cmo)208 1697 y Fi(Add)e(the)g
(EXTEND)f(statemen)n(t.)37 b(Options)27 b(added:)208
1875 y Fb(-split)p 477 1875 V 28 w(ext)390 1995 y Fi(split)h(EXTEND)g
(b)n(y)f(functions)h(to)f(turn)h(around)f(a)g(P)n(o)n(w)n(erPC)e
(problem.)208 2134 y Fb(-quotify)390 2253 y Fi(generate)i(co)r(de)g
(for)g(quotations)g(\(in)n(ternally)g(used)g(to)h(sync)n(hronize)e(q)p
2644 2253 25 4 v 30 w(MLast)h(and)g(pa)p 3185 2253 V
30 w(r\))208 2393 y Fb(-meta)p 433 2393 27 4 v 29 w(action)390
2512 y Fi(undo)r(cumen)n(ted)h(\(in)n(ternally)f(used)h(for)f(compiled)
h(v)n(ersion\))0 2691 y Fb(pa)p 93 2691 V 31 w(extfold.cmo)208
2830 y Fi(Add)g(the)g(sp)r(eci\014c)f(sym)n(b)r(ols)g(F)n(OLD0)g(and)h
(F)n(OLD1)f(to)g(the)h(EXTEND)g(statemen)n(t.)0 3063
y Ff(extensible)i(functions)i(and)g(prin)m(ters)0 3222
y Fb(pa)p 93 3222 V 31 w(extfun.cmo)208 3361 y Fi(Add)c(the)g
(extensible)f(function)h(\("extfun")g(statemen)n(t\).)0
3554 y Fb(pa)p 93 3554 V 31 w(extprint.cmo)208 3693 y
Fi(Add)g(the)g(EXTEND)p 899 3693 25 4 v 30 w(PRINTER)f(statemen)n(t.)0
3925 y Ff(functional)32 b(parsers)0 4085 y Fb(pa)p 93
4085 27 4 v 31 w(fstream.cmo)208 4224 y Fi(Add)26 b(the)h(functional)f
(parsers)f(\("fparser")f(statemen)n(t\))j(and)f(the)g(bac)n(ktrac)n
(king)e(parsers)h(\("bparser")f(statemen)n(t\).)0 4457
y Ff(other)32 b(languages)0 4616 y Fb(pa)p 93 4616 V
31 w(lisp.cmo)208 4755 y Fi(Lisp)27 b(syn)n(tax.)0 4934
y Fb(pa)p 93 4934 V 31 w(scheme.cmo)208 5073 y Fi(Sc)n(heme)g(syn)n
(tax.)0 5252 y Fb(pa)p 93 5252 V 31 w(sml.cmo)208 5391
y Fi(SML)g(syn)n(tax.)1888 5656 y(190)p eop end
%%Page: 191 193
TeXDict begin 191 192 bop 2289 70 a Fi(APPENDIX)28 b(A.)55
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 0 390 a
Ff(other)k(parsing)f(kits)0 548 y Fb(pa)p 93 548 27 4
v 31 w(lefteval.cmo)208 685 y Fi(Add)d(guaran)n(tee)d(of)j(left)g(ev)-5
b(aluation)27 b(in)h(functions)g(calls.)0 860 y Fb(pa)p
93 860 V 31 w(macro.cmo)208 997 y Fi(Add)g(macros.)35
b(Options)27 b(added:)208 1172 y Fb(-D)42 b(<string>)390
1290 y Fi(de\014ne)28 b(for)f(IFDEF)h(statemen)n(t)208
1427 y Fb(-U)42 b(<string>)390 1546 y Fi(unde\014ne)28
b(for)f(IFDEF)h(statemen)n(t)208 1683 y Fb(-defined)390
1801 y Fi(prin)n(t)g(the)g(de\014ned)g(macros)e(and)h(exit)0
1976 y Fb(pa)p 93 1976 V 31 w(pragma.cmo)208 2113 y Fi(Add)h(pragma)e
(directiv)n(e:)36 b(ev)-5 b(aluations)27 b(at)g(parse)g(time)0
2357 y Fe(A.1.2)112 b(Prin)m(ting)37 b(kits)0 2515 y
Ff(language)31 b(prin)m(ting)h(kits)0 2672 y Fb(pr)p
93 2672 V 31 w(r.cmo)208 2809 y Fi(Displa)n(y)27 b(in)h(revised)e(syn)n
(tax.)36 b(Added)28 b(options:)208 2984 y Fb(-flag)41
b(<str>)390 3103 y Fi(Change)27 b(prett)n(y)g(prin)n(ting)g(b)r(eha)n
(viour)g(according)f(to)h(")p Fb(<str>)p Fi(":)390 3202
y(A/a)g(enable/disable)f(all)i(\015ags)390 3302 y(C/c)f(enable/disable)
g(commen)n(ts)g(in)h(phrases)390 3401 y(D/d)g(enable/disable)e(allo)n
(wing)g(expanding)h('declare')390 3501 y(E/e)g(enable/disable)f
(equilibrate)h(cases)390 3601 y(L/l)g(enable/disable)g(allo)n(wing)f
(prin)n(ting)h('let..in')h(horizon)n(tally)390 3700 y(S/s)f
(enable/disable)g(prin)n(ting)g(sequences)g(b)r(eginners)g(at)g(end)h
(of)f(lines)390 3800 y(default)h(setting)g(is)f("aS".)208
3937 y Fb(-wflag)41 b(<str>)390 4056 y Fi(Change)27 b(displa)n(ying)g
('where')g(statemen)n(ts)g(instead)g(of)h('let':)390
4155 y(A/a)f(enable/disable)f(all)i(\015ags)390 4255
y(I/i)f(enable/disable)g('where')g(after)g('in')390 4355
y(L/l)g(enable/disable)g('where')g(after)g('let..=')390
4454 y(M/m)h(enable/disable)e('where')h(after)g('matc)n(h')h(and)f
('try')390 4554 y(P/p)g(enable/disable)f('where')i(after)f(left)h
(paren)n(thesis)390 4653 y(R/r)f(enable/disable)f('where')i(after)f
('record)p 1841 4653 25 4 v 28 w(\014eld..=')390 4753
y(S/s)g(enable/disable)g('where')g(in)h(sequences)390
4853 y(T/t)g(enable/disable)e('where')h(after)g('then')i(or)d('else')
390 4952 y(V/v)h(enable/disable)g('where')g(after)g('v)-5
b(alue..=')390 5052 y(W/w)28 b(enable/disable)e('where')h(after)g(')p
Fb(->)p Fi(')390 5152 y(default)h(setting)g(is)f("Ars".)208
5289 y Fb(-l)42 b(<length>)390 5407 y Fi(Maxim)n(um)28
b(line)f(length)h(for)f(prett)n(y)g(prin)n(ting)h(\(default)g(78\))1888
5656 y(191)p eop end
%%Page: 192 194
TeXDict begin 192 193 bop 0 70 a Fi(APPENDIX)27 b(A.)56
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 208 390
a Fb(-sep)p 389 390 27 4 v 29 w(src)390 509 y Fi(Read)g(source)e
(\014le)i(for)f(text)h(b)r(et)n(w)n(een)f(phrases)g(\(default\).)208
648 y Fb(-sep)41 b(<string>)390 767 y Fi(Use)28 b(this)g(string)f(b)r
(et)n(w)n(een)g(phrases)g(instead)g(of)g(reading)g(source.)0
945 y Fb(pr)p 93 945 V 31 w(ro.cmo)208 1084 y Fi(Add)h(displa)n(y)f(ob)
5 b(jects,)27 b(lab)r(els)g(and)h(v)-5 b(arian)n(ts)26
b(in)i(revised)e(syn)n(tax.)0 1262 y Fb(pr)p 93 1262
V 31 w(rp.cmo)208 1400 y Fi(Add)i(displa)n(y)f(parsers)e(with)j(their)g
(\(revised\))f(syn)n(tax.)0 1578 y Fb(pr)p 93 1578 V
31 w(o.cmo)208 1717 y Fi(Displa)n(y)g(in)h(normal)e(syn)n(tax.)36
b(Added)28 b(options:)208 1895 y Fb(-flag)41 b(<str>)390
2014 y Fi(Change)27 b(prett)n(y)g(prin)n(ting)g(b)r(eha)n(viour)g
(according)f(to)h Fb(<str>)p Fi(:)390 2113 y(A/a)g(enable/disable)f
(all)i(\015ags)390 2213 y(C/c)f(enable/disable)g(commen)n(ts)g(in)h
(phrases)390 2313 y(E/e)f(enable/disable)f(equilibrate)h(cases)390
2412 y(L/l)g(enable/disable)g(allo)n(wing)f(prin)n(ting)h('let..in')h
(horizon)n(tally)390 2512 y(M/m)g(enable/disable)e(prin)n(ting)h
(double)h(semicolons)390 2612 y(default)g(setting)g(is)f("Am".)208
2750 y Fb(-l)42 b(<length>)390 2869 y Fi(Maxim)n(um)28
b(line)f(length)h(for)f(prett)n(y)g(prin)n(ting)h(\(default)g(78\))208
3008 y Fb(-sep)p 389 3008 V 29 w(src)390 3127 y Fi(Read)g(source)e
(\014le)i(for)f(text)h(b)r(et)n(w)n(een)f(phrases)g(\(default\).)208
3266 y Fb(-sep)41 b(<string>)390 3385 y Fi(Use)28 b(this)g(string)f(b)r
(et)n(w)n(een)g(phrases)g(instead)g(of)g(reading)g(source.)0
3563 y Fb(pr)p 93 3563 V 31 w(op.cmo)208 3702 y Fi(Add)h(displa)n(ying)
e(parsers)g(with)i(their)g(\(normal\))f(syn)n(tax.)0
3933 y Ff(extensible)j(parsers)0 4092 y Fb(pr)p 93 4092
V 31 w(extend.cmo)208 4230 y Fi(Add)e(the)g(displa)n(ying)e(of)i
(EXTEND)f(statemen)n(ts)h(in)g(their)f(initial)h(syn)n(tax.Option)e
(added:)208 4408 y Fb(-no)p 345 4408 V 30 w(slist)390
4527 y Fi(Don't)i(reconstruct)f(SLIST,)h(SOPT,)e(SFLA)n(G)0
4759 y Ff(extensible)k(functions)i(and)g(prin)m(ters)0
4918 y Fb(pr)p 93 4918 V 31 w(extfun.cmo)208 5056 y Fi(Add)c(displa)n
(ying)e(extensible)i(functions)g(\("extfun")f(statemen)n(t\))h(in)g
(their)g(initial)g(syn)n(tax.)0 5248 y Fb(pr)p 93 5248
V 31 w(extprint.cmo)208 5386 y Fi(Add)g(displa)n(ying)e(extensible)i
(prin)n(ters)e(\("EXTEND)p 1915 5386 25 4 v 30 w(PRINTER")h(statemen)n
(t\))h(in)f(their)h(initial)g(syn)n(tax.)1888 5656 y(192)p
eop end
%%Page: 193 195
TeXDict begin 193 194 bop 2289 70 a Fi(APPENDIX)28 b(A.)55
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 0 390 a
Ff(other)k(language)0 544 y Fb(pr)p 93 544 27 4 v 31
w(scheme.cmo)208 677 y Fi(Displa)n(y)27 b(in)h(Sc)n(heme)f(syn)n(tax.)
36 b(Option)27 b(added:)208 844 y Fb(-l)42 b(<length>)390
960 y Fi(Maxim)n(um)28 b(line)f(length)h(for)f(prett)n(y)g(prin)n(ting)
h(\(default)g(78\))208 1094 y Fb(-sep)41 b(<string>)390
1210 y Fi(Use)28 b(this)g(string)f(b)r(et)n(w)n(een)g(phrases)g
(instead)g(of)g(reading)g(source.)0 1377 y Fb(pr)p 93
1377 V 31 w(schemep.cmo)208 1510 y Fi(Add)h(displa)n(y)f(parsers)e
(with)j(their)g(\(Sc)n(heme\))g(syn)n(tax.)0 1727 y Ff(other)k(prin)m
(ting)f(kits)0 1881 y Fb(pr)p 93 1881 V 31 w(depend.cmo)208
2014 y Fi(Displa)n(y)c(dep)r(endencies.)37 b(Option)27
b(added:)208 2181 y Fb(-I)42 b(dir)390 2297 y Fi(Add)28
b("dir")f(to)g(the)h(list)g(of)g(searc)n(h)e(directories.)0
2464 y Fb(pr)p 93 2464 V 31 w(dump.cmo)208 2597 y Fi(Dump)i(the)g(syn)n
(tax)f(tree)g(in)h(binary)f(\(for)g(the)h(OCaml)f(compiler\))0
2764 y Fb(pr)p 93 2764 V 31 w(null.cmo)208 2897 y Fi(No)g(output.)0
3131 y Fe(A.1.3)112 b(Quotations)38 b(expanders)0 3284
y Fb(q)p 49 3284 V 31 w(MLast.cmo)208 3418 y Fi(Syn)n(tax)27
b(tree)h(quotations.)38 b(De\014ne)29 b(the)g(quotations)e(named:)38
b("expr",)27 b("patt",)h("ct)n(yp",)g("str)p 3227 3418
25 4 v 29 w(item",)g("sig)p 3650 3418 V 29 w(item",)208
3517 y("mo)r(dule)p 520 3517 V 29 w(t)n(yp)r(e",)20 b("mo)r(dule)p
1100 3517 V 30 w(expr",)f("class)p 1584 3517 V 28 w(t)n(yp)r(e",)h
("class)p 2066 3517 V 29 w(expr",)f("class)p 2549 3517
V 28 w(sig)p 2675 3517 V 30 w(item",)h("class)p 3161
3517 V 28 w(str)p 3287 3517 V 30 w(item",)g("with)p 3766
3517 V 30 w(constr")208 3617 y(and)27 b("p)r(oly)p 573
3617 V 29 w(v)-5 b(arian)n(t".)0 3784 y Fb(q)p 49 3784
27 4 v 31 w(phony.cmo)208 3917 y Fi(T)e(ransform)21 b(quotations)g(in)n
(to)h(phon)n(y)g(v)-5 b(ariables)22 b(to)g(b)r(e)h(able)f(to)g(prett)n
(y)h(prin)n(t)f(the)h(quotations)e(in)i(their)g(initial)f(form)208
4017 y(\(not)27 b(suitable)h(for)f(compilation\))0 4292
y Fc(A.2)135 b(Commands)0 4474 y Fb(camlp5r)208 4608
y Fi(Shortcut)27 b(for)g(")p Fb(camlp5)41 b(pa)p 1116
4608 V 30 w(r.cmo)h(pa)p 1496 4608 V 30 w(rp.cmo)g(pr)p
1920 4608 V 30 w(dump.cmo)p Fi(")0 4775 y Fb(camlp5r.opt)208
4908 y Fi(Same)32 b(as)g(previous,)g(but)h(in)g(nativ)n(e)f(co)r(de)g
(instead)g(of)h(b)n(yteco)r(de,)g(therefore)f(faster.)51
b(But)32 b(not)h(extensible:)46 b(it)33 b(is)208 5007
y(not)28 b(p)r(ossible)f(to)h(add)g(other)g(parsing)f(or)g(prin)n(ting)
g(kits)h(neither)h(in)f(command)g(argumen)n(ts)e(nor)i(with)g(the)h
("load")208 5107 y(directiv)n(e)d(inside)i(sources.)36
b(Suitable)27 b(for)h(compiling)f(sources)f(not)h(using)h(other)f(syn)n
(tax)f(extensions.)0 5274 y Fb(camlp5o)208 5407 y Fi(Shortcut)h(for)g
(")p Fb(camlp5)41 b(pa)p 1116 5407 V 30 w(o.cmo)h(pa)p
1496 5407 V 30 w(op.cmo)g(pr)p 1920 5407 V 30 w(dump.cmo)p
Fi(")1888 5656 y(193)p eop end
%%Page: 194 196
TeXDict begin 194 195 bop 0 70 a Fi(APPENDIX)27 b(A.)56
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 0 390 a
Fb(camlp5o.opt)208 519 y Fi(Same)19 b(as)h(previous,)g(and)g(lik)n(e)g
(")p Fb(camlp5r.opt)p Fi(",)c(faster)k(and)g(not)g(extensible.)34
b(Moreo)n(v)n(er,)19 b(this)h(has)g(b)r(een)g(pro)r(duced)208
618 y(b)n(y)27 b(compilation)g(of)g(Camlp5)g(grammars,)f(resulting)h
(in)h(a)f(still)h(faster)f(executable.)0 776 y Fb(camlp5sch)208
905 y Fi(Shortcut)g(for)g(")p Fb(camlp5)41 b(pa)p 1116
905 27 4 v 30 w(scheme.cmo)f(pr)p 1714 905 V 30 w(dump.cmo)p
Fi(")0 1062 y Fb(mkcamlp5)208 1191 y Fi(creates)d(camlp5)g(executables)
h(with)h(almost)f(the)g(same)g(options)g(than)g(o)r(camlmktop.)69
b(The)38 b(in)n(terfaces)f(to)i(b)r(e)208 1291 y(visible)26
b(m)n(ust)h(b)r(e)g(explicitly)g(added)f(in)h(the)g(command)f(line)h
(as)f(".cmi")g(\014les.)36 b(F)-7 b(or)26 b(example,)h(ho)n(w)f(to)g
(add)h(the)g(the)208 1390 y(OCaml)g(mo)r(dule)g("str":)36
b(")p Fb(mkcamlp5)k(-custom)g(str.cmi)h(str.cma)g(-cclib)g(-lstr)g(-o)i
(camlp5str)p Fi(")0 1548 y Fb(mkcamlp5.opt)208 1677 y
Fi(creates)32 b(camlp5)h(executables)g(lik)n(e)h Fb(mkcamlp5)p
Fi(,)e(except)h(that)h(it)g(is)g(in)g(nativ)n(e)f(co)r(de,)i(therefore)
e(faster,)i(but)f(not)208 1776 y(extensible;)27 b(the)h(added)g(kits)f
(m)n(ust)h(b)r(e)g(cmx)g(or)e(cmxa)h(\014les)0 2047 y
Fc(A.3)135 b(En)l(vironmen)l(t)46 b(v)-7 b(ariable)0
2229 y Fi(When)23 b(running)f(a)f(program)g(using)g(extensible)i
(grammars)d(\(in)i(particular,)g(the)h(camlp5)e(commands\),)i(the)g(en)
n(vironmen)n(t)0 2329 y(v)-5 b(ariable)27 b(")p Fb(CAMLP5PARAM)p
Fi(")22 b(is)27 b(consulted.)37 b(It)28 b(sets)f(the)h(grammar)e
(parsing)g(algoritm)g(parameters.)0 2528 y(This)d(v)-5
b(ariable)23 b(m)n(ust)g(b)r(e)h(a)f(sequence)g(of)h(parameter)d(sp)r
(eci\014cations.)35 b(A)24 b(parameter)e(sp)r(eci\014cation)h(is)g(a)g
(letter)h(optionally)0 2627 y(follo)n(w)n(ed)j(b)n(y)g(an)g(=)g(and)h
(a)f(v)-5 b(alue,)28 b(with)g(an)n(y)f(separator.)34
b(There)27 b(are)g(four)g(p)r(ossible)g(parameters:)0
2789 y Fb(b)208 2918 y Fi(Set)h(the)g(bac)n(ktrac)n(k)d(algorithm)h(as)
h(default.)0 3075 y Fb(t)208 3204 y Fi(T)-7 b(race)26
b(sym)n(b)r(ols)h(\(terminals)g(and)h(non-terminals\))f(while)g
(parsing)g(with)h(bac)n(ktrac)n(king.)0 3362 y Fb(y)208
3490 y Fi(In)h(bac)n(ktrac)n(king,)f(trace)g(the)i(adv)-5
b(ance)29 b(in)g(the)h(input)g(stream)f(\(n)n(um)n(b)r(er)g(of)h
(unfrozen)f(tok)n(ens\))f(and)i(the)f(p)r(ossible)208
3590 y(stalling)e(\(n)n(um)n(b)r(er)g(of)h(tok)n(ens)f(tests\).)0
3748 y Fb(l=value)208 3876 y Fi(Set)h(the)g(maxim)n(um)f(stalling)g(v)
-5 b(alue.)0 4147 y Fc(A.4)135 b(OCaml)45 b(toplev)l(el)i(\014les)0
4329 y Fi(These)31 b(ob)5 b(ject)31 b(\014les)g(can)g(b)r(e)h(loaded)f
(in)g(the)h(OCaml)f(toplev)n(el)f(to)h(mak)n(e)g(Camlp5)g(parse)f(the)i
(input.)48 b(It)32 b(is)f(p)r(ossible)g(to)0 4429 y(load)23
b(them)i(either)f(b)n(y)f(putting)i(them)f(as)g(parameters)e(of)i(the)g
(toplev)n(el,)g(or)f(b)n(y)h(using)g(the)g(directiv)n(e)f("load".)34
b(The)24 b(option)0 4528 y(")p Fb(-I)42 b(+camlp5)p Fi(")25
b(m)n(ust)i(b)r(e)h(added)g(to)f(the)h(")p Fb(ocaml)p
Fi(")d(command)i(\(the)h(OCaml)f(toplev)n(el\).)0 4690
y Fb(camlp5r.cma)208 4818 y Fi(Read)g(phrases)f(and)i(displa)n(y)e
(results)i(in)f(revised)g(syn)n(tax)0 4976 y Fb(camlp5o.cma)208
5105 y Fi(Read)g(phrases)f(and)i(displa)n(y)e(results)i(in)f(normal)g
(syn)n(tax)0 5262 y Fb(camlp5sch.cma)208 5391 y Fi(Read)g(phrases)f(in)
i(Sc)n(heme)g(syn)n(tax)1888 5656 y(194)p eop end
%%Page: 195 197
TeXDict begin 195 196 bop 2289 70 a Fi(APPENDIX)28 b(A.)55
b(COMMANDS)29 b(AND)f(FILES)p 0 103 3900 4 v 0 390 a
Fc(A.5)135 b(Library)45 b(\014les)0 572 y Fi(The)26 b(Camlp5)g(library)
e(is)i(named)g(")p Fb(gramlib.cma)p Fi(")21 b(and)26
b(its)g(nativ)n(e)g(co)r(de)g(v)n(ersion)e(is)i(")p Fb(gramlib.cmxa)p
Fi(".)31 b(They)26 b(con)n(tain)0 672 y(the)i(mo)r(dules:)125
854 y Fh(\017)41 b Fi(Plo)r(c)27 b(:)36 b(building)28
b(and)g(com)n(bining)f(lo)r(cations)125 1020 y Fh(\017)41
b Fi(Plexing)26 b(:)37 b(lexing)27 b(for)g(Camlp5)g(grammars)125
1186 y Fh(\017)41 b Fi(Plexer)26 b(:)37 b(lexer)27 b(used)g(in)h
(revised)f(and)g(normal)g(syn)n(tax)125 1352 y Fh(\017)41
b Fi(Gramext)27 b(:)37 b(implemen)n(tation)27 b(of)h(extensible)f
(grammars)125 1518 y Fh(\017)41 b Fi(Grammar)26 b(:)37
b(extensible)27 b(grammars)125 1685 y Fh(\017)41 b Fi(Extfold)27
b(:)37 b(functions)28 b(for)f(grammar)e(extensions)i(F)n(OLD0)g(and)h
(F)n(OLD1)125 1851 y Fh(\017)41 b Fi(Extfun)27 b(:)37
b(functions)28 b(for)f(extensible)h(functions)125 2017
y Fh(\017)41 b Fi(Eprin)n(ter)26 b(:)37 b(extensible)28
b(prin)n(ters)125 2183 y Fh(\017)41 b Fi(Fstream)27 b(:)37
b(functional)27 b(streams)125 2349 y Fh(\017)41 b Fi(Prett)n(y)26
b(:)37 b(prett)n(y)27 b(prin)n(ting)h(on)f(strings)0
2531 y(This)h(is)f(a)g(pure)h(library)e(:)37 b(when)28
b(linking)f(with)h(it,)g(the)g(Camlp5)f(program)f(is)h
Fa(not)36 b Fi(included.)1888 5656 y(195)p eop end
%%Page: 196 198
TeXDict begin 196 197 bop eop end
%%Page: 197 199
TeXDict begin 197 198 bop 0 1015 a Fd(App)5 b(endix)64
b(B)0 1432 y Fg(Library)0 1866 y Fi(All)23 b(mo)r(dules)f(de\014ned)g
(in)h("gramlib.cma",)e(but)i Fa(not)29 b Fi(including)23
b(all)f(Camlp5)f(mo)r(dules)i(used)f(b)n(y)g(the)g(Camlp5)g(commands)0
1966 y(and)27 b(kits.)0 2252 y Fc(B.1)135 b(Plo)t(c)45
b(mo)t(dule)0 2437 y Fi(Building)28 b(and)f(com)n(bining)g(lo)r
(cations.)36 b(This)27 b(mo)r(dule)h(also)f(con)n(tains)g(some)g(p)r
(erv)-5 b(asiv)n(e)26 b(t)n(yp)r(es)i(and)f(functions.)0
2628 y Fb(type)42 b(t)h(=)g('abstract;)208 2766 y Fi(Lo)r(cation)26
b(t)n(yp)r(e.)0 3009 y Fe(B.1.1)112 b(lo)s(cated)38 b(exceptions)0
3166 y Fb(exception)i(Exc)i(of)h(location)d(and)j(exn;)208
3304 y Fi(")p Fb(Ploc.Exc)c(loc)k(e)p Fi(")23 b(is)h(an)f
(encapsulation)g(of)h(the)h(exception)e(")p Fb(e)p Fi(")g(with)h(the)h
(input)f(lo)r(cation)g(")p Fb(loc)p Fi(".)33 b(T)-7 b(o)24
b(b)r(e)g(used)208 3403 y(to)j(sp)r(ecify)g(a)g(lo)r(cation)f(for)h(an)
f(error.)35 b(This)27 b(exception)g(m)n(ust)g(not)g(b)r(e)h(raised)e(b)
n(y)g(the)i(OCaml)e(function)i(")p Fb(raise)p Fi(",)208
3503 y(but)g(rather)e(b)n(y)h(")p Fb(Ploc.raise)p Fi(")c(\(see)k(b)r
(elo)n(w\),)h(to)f(prev)n(en)n(t)g(the)h(risk)e(of)i(sev)n(eral)d
(encapsulations)i(of)g(")p Fb(Ploc.Exc)p Fi(".)0 3677
y Fb(value)42 b(raise)f(:)87 b(t)43 b(->)g(exn)f(->)h('a;)208
3814 y Fi(")p Fb(Ploc.raise)c(loc)j(e)p Fi(",)22 b(if)g(")p
Fb(e)p Fi(")f(is)g(already)f(the)i(exception)g(")p Fb(Ploc.Exc)p
Fi(",)d(re-raise)g(it)j(\(ignoring)f(the)h(new)g(lo)r(cation)208
3914 y(")p Fb(loc)p Fi("\),)j(else)j(raise)e(the)i(exception)f(")p
Fb(Ploc.Exc)40 b(loc)i(e)p Fi(".)0 4158 y Fe(B.1.2)112
b(making)39 b(lo)s(cations)0 4315 y Fb(value)j(make)f(:)87
b(int)43 b(->)f(int)h(->)f(\(int)g(*)i(int\))d(->)i(t;)208
4452 y Fi(")p Fb(Ploc.make)c(line)p 866 4452 27 4 v 30
w(nb)j(bol)p 1158 4452 V 31 w(pos)g(\(bp,)g(ep\))p Fi(")20
b(creates)h(a)h(lo)r(cation)g(starting)f(at)h(line)g(n)n(um)n(b)r(er)g
(")p Fb(line)p 3488 4452 V 30 w(nb)p Fi(",)g(where)208
4552 y(the)29 b(p)r(osition)h(of)f(the)h(b)r(eginning)g(of)f(the)h
(line)g(is)f(")p Fb(bol)p 1959 4552 V 30 w(pos)p Fi(")f(and)h(b)r(et)n
(w)n(een)h(the)g(p)r(ositions)f(")p Fb(bp)p Fi(")f(\(included\))i(and)
208 4651 y(")p Fb(ep)p Fi(")25 b(excluded.)37 b(The)28
b(p)r(ositions)f(are)g(in)h(n)n(um)n(b)r(er)f(of)g(c)n(haracters)f
(since)h(the)h(b)r(egin)g(of)f(the)h(stream.)0 4826 y
Fb(value)42 b(make)p 443 4826 V 29 w(unlined)f(:)87 b(\(int)42
b(*)h(int\))f(->)g(t;)208 4963 y Fi(")p Fb(Ploc.make)p
651 4963 V 27 w(unlined)p Fi(")20 b(is)j(lik)n(e)g(")p
Fb(Ploc.make)p Fi(")c(except)24 b(that)f(the)h(line)g(n)n(um)n(b)r(er)f
(is)h(not)f(pro)n(vided)f(\(to)i(b)r(e)g(used)f(e.g.)208
5063 y(when)k(the)h(line)g(n)n(um)n(b)r(er)f(is)h(unkno)n(wn\).)0
5252 y Fb(value)42 b(dummy)f(:)87 b(t;)208 5389 y Fi(")p
Fb(Ploc.dummy)p Fi(")22 b(is)28 b(a)f(dumm)n(y)h(lo)r(cation,)f(used)g
(in)h(situations)f(when)h(lo)r(cation)f(has)g(no)g(meaning.)1888
5656 y(197)p eop end
%%Page: 198 200
TeXDict begin 198 199 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fe(B.1.3)112
b(getting)37 b(lo)s(cation)h(info)0 554 y Fb(value)k(first)p
487 554 27 4 v 29 w(pos)g(:)87 b(t)43 b(->)g(int;)208
699 y Fi(")p Fb(Ploc.first)p 695 699 V 26 w(pos)g(loc)p
Fi(")30 b(returns)i(the)h(initial)f(p)r(osition)h(of)f(the)h(lo)r
(cation)e(in)i(n)n(um)n(b)r(er)f(of)g(c)n(haracters)f(since)h(the)208
798 y(b)r(eginning)27 b(of)h(the)g(stream.)0 988 y Fb(value)42
b(last)p 443 988 V 29 w(pos)h(:)86 b(t)44 b(->)e(int;)208
1132 y Fi(")p Fb(Ploc.last)p 651 1132 V 27 w(pos)g(loc)p
Fi(")24 b(returns)h(the)i(\014nal)f(p)r(osition)f(plus)h(one)g(of)g
(the)g(lo)r(cation)f(in)h(n)n(um)n(b)r(er)g(of)g(c)n(haracters)d(since)
208 1232 y(the)28 b(b)r(eginning)f(of)h(the)g(stream.)0
1421 y Fb(value)42 b(line)p 443 1421 V 29 w(nb)h(:)87
b(t)43 b(->)g(int;)208 1566 y Fi(")p Fb(Ploc.line)p 651
1566 V 27 w(nb)f(loc)p Fi(")28 b(returns)g(the)h(line)g(n)n(um)n(b)r
(er)g(of)g(the)g(lo)r(cation)f(or)g(")p Fb(-1)p Fi(")f(if)j(the)f(lo)r
(cation)f(do)r(es)h(not)g(con)n(tain)208 1666 y(a)e(line)h(n)n(um)n(b)r
(er)f(\(i.e.)37 b(built)28 b(with)h(")p Fb(Ploc.make)p
1742 1666 V 27 w(unlined)p Fi(")24 b(ab)r(o)n(v)n(e\).)0
1855 y Fb(value)42 b(bol)p 399 1855 V 30 w(pos)g(:)87
b(t)43 b(->)g(int;)208 1999 y Fi(")p Fb(Ploc.bol)p 607
1999 V 27 w(pos)f(loc)p Fi(")34 b(returns)h(the)h(p)r(osition)f(of)h
(the)g(b)r(eginning)f(of)g(the)h(line)g(of)f(the)h(lo)r(cation)f(in)h
(n)n(um)n(b)r(er)f(of)208 2099 y(c)n(haracters)22 b(since)j(the)g(b)r
(eginning)g(of)g(the)g(stream,)g(or)f(")p Fb(0)p Fi(")f(if)i(the)h(lo)r
(cation)e(do)r(es)g(not)h(con)n(tain)f(a)h(line)g(n)n(um)n(b)r(er)g
(\(i.e.)208 2199 y(built)j(the)g(with)g(")p Fb(Ploc.make)p
1181 2199 V 27 w(unlined)p Fi(")c(ab)r(o)n(v)n(e\).)0
2462 y Fe(B.1.4)112 b(com)m(bining)39 b(lo)s(cations)0
2626 y Fb(value)j(encl)f(:)87 b(t)43 b(->)g(t)g(->)g(t;)208
2771 y Fi(")p Fb(Ploc.encl)c(loc1)j(loc2)p Fi(")23 b(returns)i(the)i
(lo)r(cation)e(starting)f(at)i(the)g(smallest)f(start)h(and)f(ending)h
(at)f(the)h(greatest)208 2870 y(end)21 b(of)g(the)g(lo)r(cations)g(")p
Fb(loc1)p Fi(")d(and)j(")p Fb(loc2)p Fi(".)32 b(In)22
b(other)e(w)n(ords,)h(it)h(is)f(the)g(lo)r(cation)g(enclosing)f(")p
Fb(loc1)p Fi(")f(and)i(")p Fb(loc2)p Fi(".)0 3060 y Fb(value)42
b(shift)f(:)87 b(int)42 b(->)h(t)g(->)g(t;)208 3204 y
Fi(")p Fb(Ploc.shift)c(sh)j(loc)p Fi(")32 b(returns)h(the)h(lo)r
(cation)f(")p Fb(loc)p Fi(")e(shifted)j(with)g(")p Fb(sh)p
Fi(")e(c)n(haracters.)53 b(The)33 b(line)h(n)n(um)n(b)r(er)f(is)208
3304 y(not)27 b(recomputed.)0 3493 y Fb(value)42 b(sub)g(:)87
b(t)43 b(->)g(int)f(->)h(int)f(->)h(t;)208 3638 y Fi(")p
Fb(Ploc.sub)c(loc)k(sh)f(len)p Fi(")33 b(is)h(the)g(lo)r(cation)f(")p
Fb(loc)p Fi(")f(shifted)j(with)f(")p Fb(sh)p Fi(")e(c)n(haracters)g
(and)i(with)g(length)g(")p Fb(len)p Fi(".)208 3737 y(The)27
b(previous)g(ending)g(p)r(osition)h(of)f(the)h(lo)r(cation)f(is)h
(lost.)0 3927 y Fb(value)42 b(after)f(:)87 b(t)43 b(->)g(int)f(->)h
(int)f(->)h(t;)208 4071 y Fi(")p Fb(Ploc.after)c(loc)j(sh)h(len)p
Fi(")23 b(is)i(the)g(lo)r(cation)f(just)h(after)g(lo)r(c)g(\(starting)f
(at)h(the)g(end)g(p)r(osition)g(of)f(")p Fb(loc)p Fi("\))f(shifted)208
4171 y(with)28 b(")p Fb(sh)p Fi(")e(c)n(haracters)f(and)i(of)h(length)f
(")p Fb(len)p Fi(".)0 4434 y Fe(B.1.5)112 b(miscellaneous)0
4598 y Fb(value)42 b(name)f(:)87 b(ref)43 b(string;)208
4743 y Fi(")p Fb(Ploc.name.val)p Fi(")20 b(is)27 b(the)h(name)f(of)g
(the)g(lo)r(cation)f(v)-5 b(ariable)26 b(used)h(in)h(grammars)d(and)h
(in)i(the)f(prede\014ned)g(quota-)208 4843 y(tions)g(for)g(OCaml)g(syn)
n(tax)g(trees.)36 b(Default:)i(")p Fb("loc")p Fi(".)0
5043 y Fb(value)k(from)p 443 5043 V 29 w(file)g(:)87
b(string)41 b(->)i(t)g(->)g(\(string)d(*)k(int)e(*)h(int)f(*)i(int\);)
208 5187 y Fi(")p Fb(Ploc.from)p 651 5187 V 27 w(file)e(fname)f(loc)p
Fi(")32 b(reads)h(the)h(\014le)f(")p Fb(fname)p Fi(")e(up)j(to)f(the)h
(lo)r(cation)f(")p Fb(loc)p Fi(")f(and)h(returns)g(the)h(real)208
5287 y(input)d(\014le,)g(the)g(line)f(n)n(um)n(b)r(er)g(and)h(the)f(c)n
(haracters)e(lo)r(cation)i(in)h(the)f(line;)i(the)f(real)f(input)h
(\014le)f(can)g(b)r(e)h(di\013eren)n(t)208 5386 y(from)c(")p
Fb(fname)p Fi(")d(b)r(ecause)k(of)f(p)r(ossibilit)n(y)g(of)h(line)g
(directiv)n(es)f(t)n(ypically)g(generated)f(b)n(y)h(/lib/cpp.)1888
5656 y(198)p eop end
%%Page: 199 201
TeXDict begin 199 200 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fe(B.1.6)112
b(p)s(erv)-6 b(asiv)m(es)0 548 y Fb(type)42 b(vala)g('a)h(=)87
647 y([)g(VaAnt)f(of)h(string)87 747 y(|)g(VaVal)f(of)h('a)f(])0
847 y(;)201 1036 y Fi(Encloser)23 b(of)i(man)n(y)f(abstract)g(syn)n
(tax)g(tree)h(notes)f(t)n(yp)r(es,)i(in)f("strict")f(mo)r(de.)36
b(This)25 b(allo)n(w)e(the)j(system)e(of)h(an)n(tiquo-)208
1136 y(tations)i(of)g(abstract)g(syn)n(tax)g(tree)g(quotations)f(to)i
(w)n(ork)e(when)i(using)f(the)h(quotation)f(kit)h(")p
Fb(q)p 3219 1136 27 4 v 30 w(ast.cmo)p Fi(".)0 1325 y
Fb(value)42 b(call)p 443 1325 V 29 w(with)g(:)87 b(ref)42
b('a)h(->)g('a)g(->)f(\('b)h(->)f('c\))h(->)g('b)f(->)h('c;)208
1463 y Fi(")p Fb(Ploc.call)p 651 1463 V 27 w(with)f(r)h(v)g(f)g(a)p
Fi(")22 b(sets)h(the)g(reference)f(")p Fb(r)p Fi(")f(to)i(the)g(v)-5
b(alue)23 b(")p Fb(v)p Fi(",)g(then)g(calls)f(")p Fb(f)43
b(a)p Fi(",)23 b(and)g(resets)f(")p Fb(r)p Fi(")f(to)208
1562 y(its)j(initial)h(v)-5 b(alue.)35 b(If)25 b(")p
Fb(f)43 b(a)p Fi(")24 b(raises)e(an)j(exception,)f(its)h(initial)g(v)-5
b(alue)24 b(is)g(also)f(reset)h(and)h(the)f(exception)g(is)h(reraised.)
208 1662 y(The)i(result)h(is)f(the)h(result)f(of)h(")p
Fb(f)43 b(a)p Fi(".)0 1949 y Fc(B.2)135 b(Plexing)45
b(mo)t(dule)0 2135 y Fi(Lexing)27 b(for)g(Camlp5)g(grammars.)0
2339 y(This)i(mo)r(dule)h(de\014nes)f(the)g(Camlp5)g(lexer)f(t)n(yp)r
(e)i(to)f(b)r(e)g(used)h(in)f(extensible)g(grammars)e(\(see)i(mo)r
(dule)h(")p Fb(Grammar)p Fi("\).)38 b(It)0 2438 y(also)27
b(pro)n(vides)f(some)h(useful)h(functions)g(to)f(create)g(lexers.)0
2630 y Fb(type)42 b(pattern)f(=)i(\(string)d(*)k(string\);)208
2767 y Fi(T)n(yp)r(e)25 b(for)f(v)-5 b(alues)25 b(used)h(b)n(y)f(the)g
(generated)f(co)r(de)i(of)f(the)h(EXTEND)f(statemen)n(t)g(to)g
(represen)n(t)f(terminals)h(in)h(en)n(try)208 2867 y(rules.)307
3042 y Fh(\017)41 b Fi(The)28 b(\014rst)g(string)f(is)h(the)h
(constructor)d(name)i(\(m)n(ust)g(start)g(with)g(an)g(upp)r(ercase)f(c)
n(haracter\).)36 b(When)29 b(empt)n(y)-7 b(,)390 3142
y(the)28 b(second)f(string)g(should)g(b)r(e)h(a)g(k)n(eyw)n(ord.)307
3279 y Fh(\017)41 b Fi(The)28 b(second)g(string)f(is)h(the)h
(constructor)d(parameter.)37 b(Empt)n(y)28 b(if)g(it)h(has)e(no)h
(parameter)f(\(corresp)r(onding)f(to)390 3379 y(the)i('wildcard')f
(pattern\).)307 3516 y Fh(\017)41 b Fi(The)20 b(w)n(a)n(y)f(tok)n(ens)g
(patterns)h(are)f(in)n(terpreted)g(to)h(parse)f(tok)n(ens)h(is)f(done)h
(b)n(y)g(the)g(lexer,)h(function)g(")p Fb(tok)p 3616
3516 V 30 w(match)p Fi(")390 3616 y(b)r(elo)n(w.)0 3806
y Fb(exception)40 b(Error)h(of)i(string;)208 3943 y Fi(A)27
b(lexing)h(error)d(exception)j(to)f(b)r(e)h(used)g(b)n(y)f(lexers.)0
4188 y Fe(B.2.1)112 b(lexer)38 b(t)m(yp)s(e)0 4345 y
Fb(type)k(lexer)f('te)i(=)87 4445 y({)g(tok_func)e(:)i(lexer_func)c
('te;)174 4544 y(tok_using)h(:)j(pattern)e(->)i(unit;)174
4644 y(tok_removing)c(:)k(pattern)e(->)i(unit;)174 4744
y(tok_match)d(:)j(mutable)e(pattern)g(->)i('te)f(->)h(string;)174
4843 y(tok_text)e(:)i(pattern)d(->)j(string;)174 4943
y(tok_comm)e(:)i(mutable)d(option)i(\(list)f(Ploc.t\))g(})201
5132 y Fi(The)28 b(t)n(yp)r(e)h(for)f(lexers)g(compatible)g(with)i
(Camlp5)e(grammars.)37 b(The)29 b(parameter)e(t)n(yp)r(e)i(")p
Fb('te)p Fi(")e(is)h(the)h(t)n(yp)r(e)g(of)g(the)208
5232 y(tok)n(ens.)307 5407 y Fh(\017)41 b Fi(The)28 b(\014eld)g(")p
Fb(tok)p 920 5407 V 29 w(func)p Fi(")e(is)h(the)h(main)g(lexer)f
(function.)37 b(See)28 b(")p Fb(lexer)p 2595 5407 V 29
w(func)p Fi(")d(t)n(yp)r(e)j(b)r(elo)n(w.)1888 5656 y(199)p
eop end
%%Page: 200 202
TeXDict begin 200 201 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 307 390 a Fh(\017)41
b Fi(The)32 b(\014eld)g(")p Fb(tok)p 928 390 27 4 v 30
w(using)p Fi(")d(is)j(a)f(function)i(called)e(b)n(y)g(the)i(")p
Fb(EXTEND)p Fi(")28 b(statemen)n(t)k(to)f(w)n(arn)g(the)h(lexer)f(that)
h(a)390 490 y(rule)i(uses)g(this)h(pattern)f(\(giv)n(en)g(as)g
(parameter\).)56 b(This)35 b(allo)n(w)e(the)i(lexer)e(1/)h(to)g(c)n
(hec)n(k)g(that)g(the)h(pattern)390 589 y(constructor)26
b(is)i(really)e(among)h(its)h(p)r(ossible)f(constructors)f(2/)g(to)i
(en)n(ter)f(the)h(k)n(eyw)n(ords)d(in)j(its)g(tables.)307
715 y Fh(\017)41 b Fi(The)28 b(\014eld)g(")p Fb(tok)p
920 715 V 30 w(removing)p Fi(")c(is)k(a)g(function)g(p)r(ossibly)g
(called)f(b)n(y)h(the)g(")p Fb(DELETE)p 2967 715 V 29
w(RULE)p Fi(")d(statemen)n(t)j(to)g(w)n(arn)390 815 y(the)h(lexer)f
(that)g(this)h(pattern)f(\(giv)n(en)g(as)g(parameter\))f(is)h(no)g
(longer)f(used)h(in)h(the)g(grammar)d(\(the)j(grammar)390
915 y(system)23 b(main)n(tains)g(a)g(n)n(um)n(b)r(er)g(of)g(usages)f
(of)h(all)g(patterns)f(and)h(calls)g(this)h(function)f(when)h(this)f(n)
n(um)n(b)r(er)g(falls)390 1014 y(to)28 b(zero\).)36 b(If)28
b(it)g(is)f(a)g(k)n(eyw)n(ord,)f(this)i(allo)n(ws)e(the)i(lexer)f(to)h
(remo)n(v)n(e)e(it)i(in)f(its)h(tables.)307 1140 y Fh(\017)41
b Fi(The)29 b(\014eld)g(")p Fb(tok)p 922 1140 V 30 w(match)p
Fi(")d(is)j(a)g(function)g(called)g(b)n(y)f(the)i(Camlp5)e(grammar)f
(system)h(to)h(ask)f(the)i(lexer)e(ho)n(w)390 1240 y(the)k(input)g(tok)
n(ens)e(should)h(b)r(e)g(matc)n(hed)g(against)f(the)h(patterns.)47
b(W)-7 b(arning:)44 b(for)30 b(e\016ciency)-7 b(,)32
b(this)g(function)390 1339 y(m)n(ust)22 b(b)r(e)h(written)f(as)g(a)f
(function)i(taking)e(patterns)h(as)g(parameters)e(and,)j(for)f(eac)n(h)
f(pattern)h(v)-5 b(alue,)23 b(returning)390 1439 y(a)k(function)i(matc)
n(hing)e(a)g(tok)n(en,)g Fa(not)35 b Fi(as)27 b(a)g(function)h(with)h
(t)n(w)n(o)d(parameters.)307 1565 y Fh(\017)41 b Fi(The)30
b(\014eld)g(")p Fb(tok)p 924 1565 V 30 w(text)p Fi(")d(is)j(a)f
(function)i(called)e(b)n(y)h(the)g(grammar)e(system)h(to)h(get)f(the)h
(name)g(of)g(the)g(tok)n(ens)390 1664 y(for)d(the)h(error)e(messages,)g
(in)i(case)e(of)i(syn)n(tax)f(error,)e(or)i(for)g(the)h(displa)n(ying)f
(of)g(the)h(rules)f(of)h(an)f(en)n(try)-7 b(.)307 1790
y Fh(\017)41 b Fi(The)29 b(\014eld)h(")p Fb(tok)p 923
1790 V 29 w(comm)p Fi(")d(is)i(a)g(m)n(utable)g(place)g(where)f(the)i
(lexer)e(can)h(put)g(the)h(lo)r(cations)e(of)h(the)g(commen)n(ts,)390
1890 y(if)f(its)g(initial)g(v)-5 b(alue)27 b(is)h(not)f(")p
Fb(None)p Fi(".)35 b(If)28 b(it)g(is)f(")p Fb(None)p
Fi(",)e(nothing)j(has)f(to)g(b)r(e)h(done)g(b)n(y)f(the)h(lexer.)0
2055 y Fb(and)42 b(lexer)p 399 2055 V 30 w(func)g('te)g(=)h(Stream.t)d
(char)i(->)h(\(Stream.t)d('te)i(*)h(location)p 2698 2055
V 29 w(function\))208 2185 y Fi(The)24 b(t)n(yp)r(e)g(of)g(a)g(lexer)f
(function)i(\(\014eld)f(")p Fb(tok)p 1621 2185 V 30 w(func)p
Fi(")e(of)i(the)g(t)n(yp)r(e)h(")p Fb(lexer)p Fi("\).)33
b(The)24 b(c)n(haracter)e(stream)h(is)h(the)g(input)208
2284 y(stream)j(to)g(b)r(e)h(lexed.)37 b(The)28 b(result)g(is)f(a)h
(pair)f(of)g(a)h(tok)n(en)f(stream)g(and)g(a)h(lo)r(cation)f(function)h
(\(see)g(b)r(elo)n(w\))g(for)f(this)208 2384 y(tok)n(ens)f(stream.)0
2549 y Fb(and)42 b(location)p 531 2549 V 28 w(function)f(=)i(int)f(->)h
(Ploc.t;)208 2678 y Fi(The)22 b(t)n(yp)r(e)h(of)g(a)g(function)g
(giving)f(the)h(lo)r(cation)f(of)h(a)f(tok)n(en)g(in)i(the)f(source)e
(from)i(the)g(tok)n(en)f(n)n(um)n(b)r(er)h(in)g(the)g(stream)208
2778 y(\(starting)k(from)g(zero\).)0 2943 y Fb(value)42
b(lexer)p 487 2943 V 29 w(text)g(:)87 b(pattern)40 b(->)j(string;)208
3073 y Fi(A)27 b(simple)h(")p Fb(tok)p 735 3073 V 30
w(text)p Fi(")d(function.)0 3238 y Fb(value)42 b(default)p
575 3238 V 28 w(match)g(:)86 b(pattern)41 b(->)i(\(string)d(*)k
(string\))c(->)j(string;)208 3367 y Fi(A)27 b(simple)h(")p
Fb(tok)p 735 3367 V 30 w(match)p Fi(")d(function,)j(appling)f(to)h(the)
g(tok)n(en)f(t)n(yp)r(e)h(")p Fb(\(string)40 b(*)j(string\))p
Fi(".)0 3597 y Fe(B.2.2)112 b(lexers)38 b(from)g(parsers)g(or)f(o)s
(camllex)0 3750 y Fi(The)19 b(functions)g(b)r(elo)n(w)f(create)g(lexer)
g(functions)h(either)g(from)f(a)h(")p Fb(char)41 b(stream)p
Fi(")16 b(parser)h(or)h(for)g(an)h(")p Fb(ocamllex)p
Fi(")14 b(function.)0 3850 y(With)28 b(the)g(returned)g(function)g(")p
Fb(f)p Fi(",)e(it)i(is)g(p)r(ossible)f(to)g(get)h(a)f(simple)h(lexer)f
(\(of)g(the)h(t)n(yp)r(e)g(")p Fb(Plexing.lexer)p Fi(")21
b(ab)r(o)n(v)n(e\):)131 4015 y Fb({Plexing.tok_fun)o(c)37
b(=)43 b(f;)174 4114 y(Plexing.tok_using)37 b(=)43 b(\(fun)f(_)h(->)g
(\(\)\);)174 4214 y(Plexing.tok_remov)o(in)o(g)38 b(=)43
b(\(fun)f(_)h(->)g(\(\)\);)174 4314 y(Plexing.tok_match)37
b(=)43 b(Plexing.default_)o(mat)o(ch)o(;)174 4413 y(Plexing.tok_text)37
b(=)43 b(Plexing.lexer_tex)o(t})0 4579 y Fi(Note)25 b(that)g(a)g(b)r
(etter)h(")p Fb(tok)p 866 4579 V 29 w(using)p Fi(")d(function)j(w)n
(ould)e(c)n(hec)n(k)g(the)i(used)f(tok)n(ens)f(and)h(raise)f(")p
Fb(Plexing.Error)p Fi(")19 b(for)24 b(incor-)0 4678 y(rect)i(ones.)36
b(The)27 b(other)f(functions)h(")p Fb(tok)p 1304 4678
V 29 w(removing)p Fi(",)d(")p Fb(tok)p 1948 4678 V 29
w(match)p Fi(")g(and)j(")p Fb(tok)p 2598 4678 V 29 w(text)p
Fi(")e(ma)n(y)h(ha)n(v)n(e)f(other)h(implemen)n(ta-)0
4778 y(tions)h(as)g(w)n(ell.)0 4943 y Fb(value)42 b(lexer_func_of_p)o
(ar)o(ser)37 b(:)87 5043 y(\(\(Stream.t)j(char)i(*)h(ref)f(int)g(*)i
(ref)e(int\))g(->)h(\('te)f(*)h(Ploc.t\)\))d(->)j(lexer_func)c('te;)201
5208 y Fi(A)24 b(lexer)g(function)h(from)f(a)g(lexer)f(written)i(as)e
(a)h(c)n(har)f(stream)h(parser)f(returning)g(the)i(next)f(tok)n(en)g
(and)g(its)h(lo)r(cation.)208 5308 y(The)39 b(t)n(w)n(o)f(references)g
(with)h(the)g(c)n(har)f(stream)g(con)n(tain)h(the)g(curren)n(t)f(line)h
(n)n(um)n(b)r(er)g(and)g(the)g(p)r(osition)g(of)g(the)208
5407 y(b)r(eginning)27 b(of)h(the)g(curren)n(t)e(line.)1888
5656 y(200)p eop end
%%Page: 201 203
TeXDict begin 201 202 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fb(value)42
b(lexer_func_of_o)o(ca)o(mll)o(ex)37 b(:)43 b(\(Lexing.lexbuf)38
b(->)43 b('te\))f(->)g(lexer_func)e('te;)201 570 y Fi(A)28
b(lexer)e(function)j(from)e(a)g(lexer)g(created)g(b)n(y)g(")p
Fb(ocamllex)p Fi(".)0 802 y Fe(B.2.3)112 b(function)38
b(to)f(build)h(a)g(stream)g(and)h(a)f(lo)s(cation)f(function)0
956 y Fb(value)42 b(make_stream_and)o(_l)o(oca)o(ti)o(on)37
b(:)87 1055 y(\(unit)42 b(->)g(\('te)g(*)i(Ploc.t\)\))c(->)j
(\(Stream.t)c('te)k(*)g(location_functio)o(n\);)0 1287
y Fe(B.2.4)112 b(useful)39 b(functions)f(and)g(v)-6 b(alues)0
1440 y Fb(value)42 b(eval)p 443 1440 27 4 v 29 w(char)g(:)87
b(string)41 b(->)i(char;)0 1606 y(value)f(eval)p 443
1606 V 29 w(string)f(:)87 b(Ploc.t)41 b(->)i(string)e(->)i(string;)208
1738 y Fi(Con)n(v)n(ert)30 b(a)i(c)n(har)f(or)g(a)g(string)h(tok)n(en,)
g(where)g(the)g(bac)n(kslashes)e(are)h(not)i(b)r(een)f(in)n(terpreted)g
(in)n(to)f(a)h(real)f(c)n(har)g(or)208 1838 y(string;)38
b(raise)c(")p Fb(Failure)p Fi(")d(if)36 b(a)e(bad)h(bac)n(kslash)f
(sequence)g(is)h(found;)40 b(")p Fb(Plexing.eval)p 3095
1838 V 25 w(char)i(\(Char.escaped)208 1937 y(c\))p Fi(")26
b(returns)h(")p Fb(c)p Fi(")f(and)i(")p Fb(Plexing.eval)p
1542 1937 V 25 w(string)42 b(\(String.escaped)37 b(s\))p
Fi(")26 b(returns)h Fb(s)p Fi(.)0 2117 y Fb(value)42
b(restore)p 575 2117 V 28 w(lexing)p 867 2117 V 29 w(info)g(:)87
b(ref)42 b(\(option)f(\(int)h(*)h(int\)\);)0 2282 y(value)f(line)p
443 2282 V 29 w(nb)h(:)87 b(ref)42 b(\(ref)g(int\);)0
2448 y(value)g(bol)p 399 2448 V 30 w(pos)g(:)87 b(ref)42
b(\(ref)g(int\);)208 2580 y Fi(Sp)r(ecial)29 b(v)-5 b(ariables)29
b(used)h(to)g(reinitialize)f(line)h(n)n(um)n(b)r(ers)f(and)h(p)r
(osition)g(of)g(b)r(eginning)f(of)h(line)g(with)h(their)e(correct)208
2679 y(curren)n(t)k(v)-5 b(alues)34 b(when)h(a)f(parser)f(is)h(called)g
(sev)n(eral)f(times)h(with)h(the)g(same)f(c)n(haracter)e(stream.)57
b(Necessary)33 b(for)208 2779 y(directiv)n(es)20 b(\(e.g.)34
b(#load)21 b(or)f(#use\))i(whic)n(h)f(in)n(terrupt)g(the)g(parsing.)34
b(Without)21 b(usage)f(of)i(these)f(v)-5 b(ariables,)21
b(lo)r(cations)208 2879 y(after)27 b(the)h(directiv)n(es)e(can)i(b)r(e)
g(wrong.)0 3111 y Fe(B.2.5)112 b(bac)m(kw)m(ard)38 b(compatibilities)0
3264 y Fi(Deprecated)27 b(since)h(v)n(ersion)e(4.08.)0
3444 y Fb(type)42 b(location)e(=)j(Ploc.t;)0 3609 y(value)f(make)p
443 3609 V 29 w(loc)h(:)86 b(\(int)42 b(*)h(int\))f(->)h(location;)0
3774 y(value)f(dummy)p 487 3774 V 29 w(loc)g(:)87 b(location;)0
4048 y Fc(B.3)135 b(Plexer)45 b(mo)t(dule)0 4230 y Fi(This)28
b(mo)r(dule)f(con)n(tains)g(a)g(lexer)g(used)h(for)f(OCaml)g(syn)n(tax)
f(\(revised)h(and)h(normal\).)0 4462 y Fe(B.3.1)112 b(lexer)0
4616 y Fb(value)42 b(gmake)f(:)87 b(unit)42 b(->)g(Plexing.lexer)d
(\(string)h(*)k(string\);)208 4748 y Fi(")p Fb(gmake)d(\(\))p
Fi(")25 b(returns)h(a)h(lexer)f(compatible)h(with)g(the)h(extensible)f
(grammars.)34 b(The)27 b(returned)f(tok)n(ens)h(follo)n(w)f(the)208
4848 y(normal)g(syn)n(tax)h(and)g(the)h(revised)f(syn)n(tax)g(lexing)g
(rules.)0 5028 y(The)h(tok)n(en)f(t)n(yp)r(e)g(is)h(")p
Fb(\(string)40 b(*)j(string\))p Fi(")25 b(just)j(lik)n(e)f(the)h
(pattern)f(t)n(yp)r(e.)0 5227 y(The)h(meaning)f(of)g(the)h(tok)n(ens)f
(are:)125 5407 y Fh(\017)41 b Fb(\("",)g(s\))27 b Fi(is)h(the)g(k)n
(eyw)n(ord)e Fb(s)p Fi(,)1888 5656 y(201)p eop end
%%Page: 202 204
TeXDict begin 202 203 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 125 390 a Fh(\017)41
b Fb(\("LIDENT",)e(s\))27 b Fi(is)g(the)h(iden)n(t)g
Fb(s)f Fi(starting)g(with)h(a)f(lo)n(w)n(ercase)f(letter,)125
556 y Fh(\017)41 b Fb(\("UIDENT",)e(s\))27 b Fi(is)g(the)h(iden)n(t)g
Fb(s)f Fi(starting)g(with)h(an)g(upp)r(ercase)e(letter,)125
722 y Fh(\017)41 b Fb(\("INT",)f(s\))27 b Fi(is)h(an)f(in)n(teger)g
(constan)n(t)f(whose)h(string)g(source)g(is)g Fb(s)p
Fi(,)125 888 y Fh(\017)41 b Fb(\("INT)p 433 888 27 4
v 29 w(l",)h(s\))27 b Fi(is)h(an)f(32)g(bits)g(in)n(teger)g(constan)n
(t)g(whose)g(string)g(source)f(is)i Fb(s)p Fi(,)125 1053
y Fh(\017)41 b Fb(\("INT)p 433 1053 V 29 w(L",)h(s\))27
b Fi(is)h(an)f(64)g(bits)g(in)n(teger)g(constan)n(t)g(whose)g(string)g
(source)f(is)i Fb(s)p Fi(,)125 1219 y Fh(\017)41 b Fb(\("INT)p
433 1219 V 29 w(n",)h(s\))27 b Fi(is)h(an)f(nativ)n(e)g(in)n(teger)g
(constan)n(t)f(whose)h(string)g(source)g(is)g Fb(s)p
Fi(,)125 1385 y Fh(\017)41 b Fb(\("FLOAT",)e(s\))27 b
Fi(is)h(a)f(\015oat)g(constan)n(t)g(whose)g(string)g(source)f(is)i
Fb(s)p Fi(,)125 1551 y Fh(\017)41 b Fb(\("STRING",)e(s\))27
b Fi(is)g(the)h(string)f(constan)n(t)g Fb(s)p Fi(,)125
1717 y Fh(\017)41 b Fb(\("CHAR",)f(s\))27 b Fi(is)g(the)h(c)n(haracter)
e(constan)n(t)h Fb(s)p Fi(,)125 1882 y Fh(\017)41 b Fb(\("TILDEIDENT",)
c(s\))27 b Fi(is)h(the)g(tilde)g(c)n(haracter)d(")p Fb(~)p
Fi(")i(follo)n(w)n(ed)f(b)n(y)h(the)h(iden)n(t)g Fb(s)p
Fi(,)125 2048 y Fh(\017)41 b Fb(\("TILDEIDENTCOL)o(ON")o(,)c(s\))27
b Fi(is)h(the)g(tilde)g(c)n(haracter)d(")p Fb(~)p Fi(")i(follo)n(w)n
(ed)f(b)n(y)h(the)h(iden)n(t)g Fb(s)f Fi(and)h(a)f(colon)g(")p
Fb(:)p Fi(",)125 2214 y Fh(\017)41 b Fb(\("QUESTIONIDENT)o(",)c(s\))27
b Fi(is)g(the)h(question)g(mark)e(")p Fb(?)p Fi(")h(follo)n(w)n(ed)f(b)
n(y)i(the)f(iden)n(t)h Fb(s)p Fi(,)125 2380 y Fh(\017)41
b Fb(\("QUESTIONIDENT)o(COL)o(ON)o(",)c(s\))27 b Fi(is)g(the)h
(question)g(mark)e(")p Fb(?)p Fi(")h(follo)n(w)n(ed)f(b)n(y)h(the)h
(iden)n(t)g Fb(s)g Fi(and)f(a)g(colon)g(")p Fb(:)p Fi(",)125
2545 y Fh(\017)41 b Fb(\("QUOTATION",)d("t:s"\))25 b
Fi(is)i(a)h(quotation)f(")p Fb(t)p Fi(")f(holding)h(the)h(string)g
Fb(s)p Fi(,)125 2711 y Fh(\017)41 b Fb(\("ANTIQUOT",)d("t:s"\))25
b Fi(is)j(an)f(an)n(tiquotation)g(")p Fb(t)p Fi(")f(holding)h(the)h
(string)g Fb(s)p Fi(,)125 2877 y Fh(\017)41 b Fb(\("EOI",)f(""\))27
b Fi(is)g(the)h(end)g(of)g(input.)0 3059 y(The)20 b(asso)r(ciated)f
(tok)n(en)h(patterns)f(in)i(the)f(EXTEND)g(statemen)n(t)g(hold)g(the)h
(same)e(names)h(as)f(the)i(\014rst)f(string)f(\(constructor)0
3159 y(name\))28 b(of)f(the)h(tok)n(ens)f(expressions)f(ab)r(o)n(v)n
(e.)0 3358 y(W)-7 b(arning:)36 b(the)27 b(string)f(asso)r(ciated)f
(with)i(the)g(")p Fb(STRING)p Fi(")d(constructor)h(is)h(the)h(string)f
(found)h(in)g(the)g(source)f(without)h(an)n(y)0 3458
y(in)n(terpretation.)34 b(In)23 b(particular,)f(the)h(bac)n(kslashes)e
(are)g(not)i(in)n(terpreted.)35 b(F)-7 b(or)22 b(example,)h(if)g(the)g
(input)g(is)g Fb(")p Fh(n)p Fb(n")e Fi(the)i(string)0
3557 y(is)34 b(*not*)f(a)h(string)g(with)h(one)f(elemen)n(t)g(con)n
(taining)f(the)i("newline")e(c)n(haracter,)h(but)h(a)f(string)g(of)g(t)
n(w)n(o)g(elemen)n(ts:)50 b(the)0 3657 y(bac)n(kslash)26
b(and)h(the)h Fb("n")f Fi(letter.)0 3856 y(Same)g(thing)h(for)f(the)h
(string)f(asso)r(ciated)f(with)j(the)f(")p Fb(CHAR)p
Fi(")d(constructor.)0 4055 y(The)k(functions)f(")p Fb(Plexing.eval)p
1105 4055 V 26 w(string)p Fi(")e(and)i(")p Fb(Plexing.eval)p
2195 4055 V 26 w(char)p Fi(")f(allo)n(w)g(to)i(con)n(v)n(ert)e(them)i
(in)n(to)f(the)h(real)e(cor-)0 4155 y(resp)r(onding)g(string)g(or)f(c)n
(har)h(v)-5 b(alue.)0 4387 y Fe(B.3.2)112 b(\015ags)0
4540 y Fb(value)42 b(dollar)p 531 4540 V 28 w(for)p 691
4540 V 31 w(antiquotation)c(:)87 b(ref)42 b(bool;)208
4673 y Fi(When)24 b(T)-7 b(rue)24 b(\(default\),)i(the)f(next)f(call)g
(to)g(")p Fb(Plexer.gmake)39 b(\(\))p Fi(")23 b(returns)g(a)h(lexer)g
(where)f(the)i(dollar)e(sign)h(is)g(used)208 4773 y(for)f(an)n
(tiquotations.)34 b(If)24 b(F)-7 b(alse,)24 b(there)g(is)f(no)h(an)n
(tiquotations)e(and)i(the)g(dollar)f(sign)g(can)g(b)r(e)h(used)g(as)f
(normal)g(tok)n(en.)0 4955 y Fb(value)42 b(specific)p
619 4955 V 28 w(space)p 867 4955 V 29 w(dot)g(:)87 b(ref)42
b(bool;)208 5088 y Fi(When)27 b(")p Fb(False)p Fi(")c(\(default\),)28
b(the)f(next)g(call)f(to)g(")p Fb(Plexer.gmake)38 b(\(\))p
Fi(")26 b(returns)f(a)i(lexer)e(where)h(there)h(is)f(no)g(di\013er-)208
5187 y(ence)h(b)r(et)n(w)n(een)h(dots)g(whic)n(h)g(ha)n(v)n(e)f(spaces)
g(b)r(efore)g(and)h(dots)g(whic)n(h)g(don't)g(ha)n(v)n(e)f(spaces)g(b)r
(efore.)37 b(If)29 b(")p Fb(True)p Fi(",)c(dots)208 5287
y(whic)n(h)k(ha)n(v)n(e)g(spaces)g(b)r(efore)h(return)f(the)h(k)n(eyw)n
(ord)e Fb(")43 b(.")30 b Fi(\(space)f(dot\))h(and)g(the)g(ones)f(whic)n
(h)h(don't)g(ha)n(v)n(e)f(spaces)208 5386 y(b)r(efore)e(return)g(the)h
(k)n(eyw)n(ord)e Fb(".")g Fi(\(dot)i(alone\).)1888 5656
y(202)p eop end
%%Page: 203 205
TeXDict begin 203 204 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fb(value)42
b(no)p 355 390 27 4 v 30 w(quotations)e(:)86 b(ref)43
b(bool;)208 522 y Fi(When)d(")p Fb(True)p Fi(",)g(all)f(lexers)g(built)
h(b)n(y)g(")p Fb(Plexer.make)e(\(\))p Fi(")g(do)i(not)f(lex)h(the)g
(quotation)f(syn)n(tax.)72 b(Default)40 b(is)208 622
y(")p Fb(False)p Fi(")24 b(\(quotations)j(are)g(lexed\).)0
895 y Fc(B.4)135 b(Gramext)45 b(mo)t(dule)0 1077 y Fi(This)28
b(mo)r(dule)f(is)h(not)g(in)n(tended)g(to)f(b)r(e)h(used)g(b)n(y)f(the)
h(casual)e(programmer.)0 1277 y(It)h(sho)n(ws,)f(in)h(clear,)f(the)h
(implemen)n(tations)f(of)h(grammars)d(and)j(en)n(tries)f(t)n(yp)r(es,)h
(the)g(normal)e(access)h(b)r(eing)h(through)f(the)0 1376
y(")p Fb(Grammar)p Fi(")e(mo)r(dule)29 b(where)e(these)h(t)n(yp)r(es)g
(are)f(abstract.)38 b(It)28 b(can)g(b)r(e)g(useful)h(for)e(programmers)
f(in)n(terested)i(in)g(scanning)0 1476 y(the)g(con)n(ten)n(ts)f(of)g
(grammars)f(and)h(en)n(tries,)g(for)g(example)g(to)h(mak)n(e)f
(analyses)f(on)h(them.)0 1707 y Fe(B.4.1)112 b(grammar)39
b(t)m(yp)s(e)0 1861 y Fb(type)j(grammar)f('te)h(=)87
1960 y({)h(gtokens)e(:)i(Hashtbl.t)d(Plexing.pattern)d(\(ref)42
b(int\);)174 2060 y(glexer)f(:)j(mutable)c(Plexing.lexer)f('te)j(})0
2160 y(;)201 2337 y Fi(The)25 b(visible)g(t)n(yp)r(e)g(of)g(grammars,)e
(i.e.)36 b(the)26 b(implemen)n(tation)f(of)g(the)g(abstract)f(t)n(yp)r
(e)h(")p Fb(Grammar.g)p Fi(".)32 b(It)25 b(is)g(also)f(the)208
2437 y(implemen)n(tation)j(of)h(an)f(in)n(ternal)g(grammar)f(t)n(yp)r
(e)h(used)h(in)g(the)g(Grammar)e(functorial)h(in)n(terface.)201
2615 y(The)35 b(t)n(yp)r(e)h(parameter)d(")p Fb('te)p
Fi(")h(is)h(the)h(t)n(yp)r(e)f(of)g(the)h(tok)n(ens,)h(whic)n(h)e(is)g
(")p Fb(\(string)40 b(*)j(string\))p Fi(")33 b(for)h(grammars)208
2715 y(built)f(with)g(")p Fb(Grammar.gcreate)p Fi(")o(,)28
b(and)33 b(an)n(y)f(t)n(yp)r(e)h(for)f(grammars)e(built)k(with)f(the)g
(functorial)f(in)n(terface.)52 b(The)208 2814 y(\014eld)30
b(")p Fb(gtokens)p Fi(")c(records)i(the)j(coun)n(t)e(of)h(usages)f(of)h
(eac)n(h)f(tok)n(en)g(pattern,)i(allo)n(wing)d(to)i(call)g(the)g(lexer)
g(function)208 2914 y(")p Fb(tok)p 387 2914 V 29 w(removing)p
Fi(")19 b(\(see)k(the)g(Plexing)f(mo)r(dule\))i(when)f(this)g(coun)n(t)
f(reac)n(hes)g(zero.)34 b(The)23 b(\014eld)g(")p Fb(lexer)p
Fi(")d(is)j(the)g(lexer.)0 3146 y Fe(B.4.2)112 b(en)m(try)37
b(t)m(yp)s(e)0 3299 y Fb(type)42 b(g_entry)f('te)h(=)87
3398 y({)h(egram)f(:)h(grammar)e('te;)174 3498 y(ename)h(:)h(string;)
174 3598 y(elocal)e(:)j(bool;)174 3697 y(estart)d(:)j(mutable)c(int)j
(->)f(Stream.t)f('te)h(->)h(Obj.t;)174 3797 y(econtinue)d(:)j(mutable)e
(int)h(->)h(int)g(->)f(Obj.t)g(->)h(Stream.t)d('te)i(->)h(Obj.t;)174
3897 y(edesc)f(:)h(mutable)e(g_desc)g('te)h(})201 4074
y Fi(The)23 b(visible)h(t)n(yp)r(e)f(for)g(grammar)f(en)n(tries,)i
(i.e.)35 b(the)24 b(implemen)n(tation)g(of)f(the)h(abstract)e(t)n(yp)r
(e)i(")p Fb(Grammar.Entry.e)o Fi(")208 4174 y(and)h(the)h(t)n(yp)r(e)g
(of)f(en)n(tries)g(in)h(the)g(Grammar)e(functorial)h(in)n(terface.)36
b(Notice)25 b(that)h(these)g(en)n(try)f(t)n(yp)r(es)g(ha)n(v)n(e)g(a)g
(t)n(yp)r(e)208 4274 y(parameter)33 b(whic)n(h)h(do)r(es)h(not)f(app)r
(ear)g(in)h(the)g(")p Fb(g)p 1832 4274 V 31 w(entry)p
Fi(")d(t)n(yp)r(e)j(\(the)g(")p Fb('te)p Fi(")e(parameter)g(is,)j(as)e
(for)g(grammars)208 4373 y(ab)r(o)n(v)n(e,)c(the)h(t)n(yp)r(e)g(of)g
(the)g(tok)n(ens\).)46 b(This)31 b(is)g(due)g(to)g(the)g(sp)r(eci\014c)
g(t)n(yping)g(system)f(of)h(the)g(EXTEND)g(statemen)n(t)208
4473 y(whic)n(h)25 b(sometimes)h(m)n(ust)g(hide)g(real)f(t)n(yp)r(es,)i
(the)f(OCaml)f(normal)g(t)n(yp)r(e)h(system)g(not)g(b)r(eing)g(able)g
(to)f(t)n(yp)r(e)i(Camlp5)208 4573 y(grammars.)201 4751
y(Meaning)g(of)g(the)h(\014elds:)307 4915 y Fh(\017)41
b Fb(egram)26 b Fi(:)37 b(the)28 b(asso)r(ciated)e(grammar)307
5046 y Fh(\017)41 b Fb(ename)26 b Fi(:)37 b(the)28 b(en)n(try)f(name)
307 5177 y Fh(\017)41 b Fb(elocal)27 b Fi(:)41 b(T)-7
b(rue)29 b(if)h(the)f(en)n(try)g(is)h(lo)r(cal)e(\(lo)r(cal)h(en)n
(tries)g(are)g(written)g(with)h(a)f(star)g(c)n(haracter)e("*")h(b)n(y)h
(Gram-)390 5276 y(mar.En)n(try)-7 b(.prin)n(t\))307 5407
y Fh(\017)41 b Fb(estart)25 b Fi(and)j Fb(econtinue)c
Fi(are)i(parsers)g(of)i(the)g(en)n(try)f(used)g(in)h(the)g(grammar)e
(mac)n(hinery)1888 5656 y(203)p eop end
%%Page: 204 206
TeXDict begin 204 205 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 307 390 a Fh(\017)41
b Fb(edesc)26 b Fi(:)37 b(the)28 b(en)n(try)f(description)g(\(see)g(b)r
(elo)n(w\))0 573 y Fb(and)42 b(g_desc)f('te)i(=)87 673
y([)g(Dlevels)e(of)i(list)f(\(g_level)e('te\))87 772
y(|)j(Dparser)e(of)i(Stream.t)d('te)i(->)h(Obj.t)f(])201
955 y Fi(The)27 b(en)n(try)g(description.)307 1121 y
Fh(\017)41 b Fi(The)32 b(constructor)e(")p Fb(Dlevels)p
Fi(")e(is)k(for)f(en)n(tries)g(built)h(b)n(y)g(")p Fb(Grammar.Entry.)o
(cre)o(at)o(e)p Fi(")25 b(and)32 b(extendable)f(b)n(y)390
1221 y(the)d(EXTEND)g(statemen)n(t.)307 1354 y Fh(\017)41
b Fi(The)28 b(constructor)e(")p Fb(Dparser)p Fi(")e(is)j(for)g(en)n
(tries)g(built)i(b)n(y)e(")p Fb(Grammar.Entry.o)o(f)p
2956 1354 27 4 v 25 w(parser)p Fi(".)0 1537 y Fb(and)42
b(g_level)f('te)h(=)87 1636 y({)h(assoc)f(:)h(g_assoc;)174
1736 y(lname)f(:)h(option)e(string;)174 1836 y(lsuffix)g(:)i(g_tree)e
('te;)174 1935 y(lprefix)g(:)i(g_tree)e('te)i(})0 2035
y(and)f(g_assoc)f(=)i([)g(NonA)f(|)h(RightA)f(|)h(LeftA)e(])201
2218 y Fi(Description)27 b(of)h(an)f(en)n(try)g(lev)n(el.)307
2384 y Fh(\017)41 b Fb(assoc)26 b Fi(:)37 b(the)28 b(lev)n(el)f(asso)r
(ciativit)n(y)307 2517 y Fh(\017)41 b Fb(lname)26 b Fi(:)37
b(the)28 b(lev)n(el)f(name,)g(if)h(an)n(y)307 2650 y
Fh(\017)41 b Fb(lsuffix)25 b Fi(:)37 b(the)28 b(tree)f(comp)r(osed)g
(of)h(the)g(rules)f(starting)f(with)j(")p Fb(SELF)p Fi(")307
2783 y Fh(\017)41 b Fb(lprefix)25 b Fi(:)37 b(the)28
b(tree)f(comp)r(osed)g(of)h(the)g(rules)f(not)g(starting)g(with)h(")p
Fb(SELF)p Fi(")0 2965 y Fb(and)42 b(g_symbol)f('te)h(=)87
3065 y([)h(Smeta)f(of)h(string)e(and)h(list)g(\(g_symbol)e('te\))i(and)
g(Obj.t)87 3165 y(|)h(Snterm)e(of)i(g_entry)e('te)87
3264 y(|)i(Snterml)e(of)i(g_entry)d('te)j(and)f(string)87
3364 y(|)h(Slist0)e(of)i(g_symbol)d('te)87 3464 y(|)j(Slist0sep)d(of)j
(g_symbol)d('te)j(and)f(g_symbol)e('te)87 3563 y(|)j(Slist1)e(of)i
(g_symbol)d('te)87 3663 y(|)j(Slist1sep)d(of)j(g_symbol)d('te)j(and)f
(g_symbol)e('te)87 3762 y(|)j(Sopt)f(of)h(g_symbol)d('te)87
3862 y(|)j(Sflag)f(of)h(g_symbol)d('te)87 3962 y(|)j(Sself)87
4061 y(|)g(Snext)87 4161 y(|)g(Stoken)e(of)i(Plexing.pattern)87
4261 y(|)g(Stree)f(of)h(g_tree)e('te)h(])201 4443 y Fi(Description)27
b(of)h(a)f(rule)g(sym)n(b)r(ol.)307 4610 y Fh(\017)41
b Fi(The)28 b(constructor)e(")p Fb(Smeta)p Fi(")f(is)i(used)h(b)n(y)f
(the)h(extensions)f(F)n(OLD0)g(and)g(F)n(OLD1)307 4743
y Fh(\017)41 b Fi(The)28 b(constructor)e(")p Fb(Snterm)p
Fi(")e(is)k(the)g(represen)n(tation)e(of)h(a)g(non-terminal)g(\(a)g
(call)h(to)f(another)g(en)n(try\))307 4875 y Fh(\017)41
b Fi(The)28 b(constructor)e(")p Fb(Snterml)p Fi(")e(is)j(the)h
(represen)n(tation)e(of)i(a)f(non-terminal)g(at)g(some)g(giv)n(en)g
(lev)n(el)307 5008 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Slist0)p Fi(")e(is)k(the)g(represen)n(tation)e(of)h(the)h(sym)n(b)r
(ol)f(LIST0)307 5141 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Slist0sep)p Fi(")d(is)k(the)h(represen)n(tation)e(of)i(the)g(sym)n
(b)r(ol)f(LIST0)g(follo)n(w)n(ed)g(b)n(y)g(SEP)307 5274
y Fh(\017)41 b Fi(The)28 b(constructor)e(")p Fb(Slist1)p
Fi(")e(is)k(the)g(represen)n(tation)e(of)h(the)h(sym)n(b)r(ol)f(LIST1)
307 5407 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Slist1sep)p Fi(")d(is)k(the)h(represen)n(tation)e(of)i(the)g(sym)n
(b)r(ol)f(LIST1)g(follo)n(w)n(ed)g(b)n(y)g(SEP)1888 5656
y(204)p eop end
%%Page: 205 207
TeXDict begin 205 206 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 307 390 a Fh(\017)41
b Fi(The)28 b(constructor)e(")p Fb(Sopt)p Fi(")f(is)i(the)h(represen)n
(tation)e(of)i(the)g(sym)n(b)r(ol)f(OPT)307 532 y Fh(\017)41
b Fi(The)28 b(constructor)e(")p Fb(Sflag)p Fi(")f(is)i(the)h(represen)n
(tation)e(of)h(the)h(sym)n(b)r(ol)g(FLA)n(G)307 674 y
Fh(\017)41 b Fi(The)28 b(constructor)e(")p Fb(Sself)p
Fi(")f(is)i(the)h(represen)n(tation)e(of)h(the)h(sym)n(b)r(ol)g(SELF)
307 816 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Snext)p Fi(")f(is)i(the)h(represen)n(tation)e(of)h(the)h(sym)n(b)r
(ol)g(NEXT)307 958 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Stoken)p Fi(")e(is)k(the)g(represen)n(tation)e(of)h(a)g(tok)n(en)g
(pattern)307 1100 y Fh(\017)41 b Fi(The)28 b(constructor)e(")p
Fb(Stree)p Fi(")f(is)i(the)h(represen)n(tation)e(of)h(a)h(anon)n(ymous)
e(rule)h(list)h(\(b)r(et)n(w)n(een)g(brac)n(k)n(ets\).)0
1301 y Fb(and)42 b(g_action)f(=)i(Obj.t)201 1497 y Fi(The)27
b(seman)n(tic)g(action,)f(represen)n(ted)g(b)n(y)h(a)g(t)n(yp)r(e)g(")p
Fb(Obj.t)p Fi(")e(due)i(to)g(the)h(sp)r(eci\014c)f(t)n(yping)g(of)g
(the)g(EXTEND)h(state-)208 1597 y(men)n(t)f(\(the)i(seman)n(tic)e
(action)g(b)r(eing)h(able)f(to)g(b)r(e)h(an)n(y)f(function)h(t)n(yp)r
(e,)g(dep)r(ending)g(on)f(the)h(rule\).)0 1798 y Fb(and)42
b(g_tree)f('te)i(=)87 1898 y([)g(Node)f(of)h(g_node)e('te)87
1997 y(|)i(LocAct)e(of)i(g_action)d(and)j(list)f(g_action)87
2097 y(|)h(DeadEnd)e(])0 2196 y(and)h(g_node)f('te)i(=)87
2296 y({)g(node)f(:)h(g_symbol)e('te;)h(son)g(:)h(g_tree)e('te;)h
(brother)f(:)i(g_tree)e('te)i(})0 2396 y(;)201 2592 y
Fi(The)27 b(t)n(yp)r(es)h(of)f(tree)h(and)f(tree)g(no)r(des,)h
(represen)n(ting)e(a)h(list)h(of)f(factorized)g(rules)g(in)h(an)f(en)n
(try)g(lev)n(el.)307 2776 y Fh(\017)41 b Fi(The)32 b(constructor)f(")p
Fb(Node)p Fi(")e(is)j(a)g(represen)n(tation)e(of)i(a)f(sym)n(b)r(ol)h
(\(\014eld)h(")p Fb(node)p Fi("\),)d(the)j(rest)e(of)h(the)h(rule)e
(tree)390 2876 y(\(\014eld)d(")p Fb(son)p Fi("\),)e(and)i(the)g(follo)n
(wing)e(no)r(de,)i(if)g(this)g(no)r(de)f(fails)h(\(\014eld)g(")p
Fb(brother)p Fi("\))307 3018 y Fh(\017)41 b Fi(The)22
b(constructor)e(")p Fb(LocAct)p Fi(")e(is)j(the)h(represen)n(tation)e
(of)i(an)f(action,)h(whic)n(h)g(is)f(a)g(function)i(ha)n(ving)d(all)h
(pattern)390 3118 y(v)-5 b(ariables)27 b(of)i(the)f(rule)g(as)g
(parameters)f(and)h(returning)g(the)g(rule)g(seman)n(tic)g(action.)39
b(The)28 b(list)h(of)f(actions)g(in)390 3217 y(the)d(constructor)d
(corresp)r(ond)h(to)h(p)r(ossible)g(previous)f(actions)h(when)g(it)h
(happ)r(ens)f(that)g(rules)g(are)f(mask)n(ed)g(b)n(y)390
3317 y(other)k(rules.)307 3459 y Fh(\017)41 b Fi(The)23
b(constructor)f(")p Fb(DeadEnd)p Fi(")d(is)k(a)g(represen)n(tation)e
(of)i(a)f(no)r(des)h(where)g(the)g(tree)g(fails)g(or)f(is)h(in)g(syn)n
(tax)f(error.)0 3660 y Fb(type)42 b(position)e(=)87 3759
y([)j(First)87 3859 y(|)g(Last)87 3959 y(|)g(Before)e(of)i(string)87
4058 y(|)g(After)f(of)h(string)87 4158 y(|)g(Level)f(of)h(string)e(])0
4258 y(;)201 4454 y Fi(The)27 b(t)n(yp)r(e)h(of)g(p)r(osition)f(where)g
(an)g(en)n(try)g(extension)h(tak)n(es)e(place.)307 4638
y Fh(\017)41 b Fb(First)26 b Fi(:)37 b(corresp)r(onds)25
b(to)j(FIRST)307 4780 y Fh(\017)41 b Fb(Last)26 b Fi(:)37
b(corresp)r(onds)26 b(to)h(LAST)307 4922 y Fh(\017)41
b Fb(Before)g(s)28 b Fi(:)37 b(corresp)r(onds)25 b(to)j(BEF)n(ORE)e
("s")307 5064 y Fh(\017)41 b Fb(After)h(s)27 b Fi(:)37
b(corresp)r(onds)26 b(to)h(AFTER)h("s")307 5206 y Fh(\017)41
b Fb(Level)h(s)27 b Fi(:)37 b(corresp)r(onds)26 b(to)h(LEVEL)g("s")0
5407 y(The)h(mo)r(dule)g(con)n(tains)e(other)h(de\014nitions)h(but)g
(for)f(in)n(ternal)g(use.)1888 5656 y(205)p eop end
%%Page: 206 208
TeXDict begin 206 207 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fc(B.5)135 b(Grammar)45
b(mo)t(dule)0 573 y Fi(Extensible)27 b(grammars.)0 772
y(This)d(mo)r(dule)h(implemen)n(ts)f(the)h(Camlp5)e(extensible)h
(grammars)e(system.)36 b(Grammars)22 b(en)n(tries)i(can)f(b)r(e)i
(extended)f(using)0 872 y(the)k Fb(EXTEND)d Fi(statemen)n(t,)j(added)f
(b)n(y)h(loading)e(the)i(Camlp5)f(")p Fb(pa)p 2078 872
27 4 v 30 w(extend.cmo)p Fi(")c(\014le.)0 1106 y Fe(B.5.1)112
b(main)39 b(t)m(yp)s(es)e(and)i(v)-6 b(alues)0 1260 y
Fb(type)42 b(g)h(=)g('abstract;)208 1393 y Fi(The)27
b(t)n(yp)r(e)h(of)g(grammars,)d(holding)i(en)n(tries.)0
1577 y Fb(value)42 b(gcreate)e(:)87 b(Plexing.lexer)38
b(\(string)j(*)i(string\))e(->)h(g;)208 1710 y Fi(Create)26
b(a)h(new)h(grammar,)e(without)i(k)n(eyw)n(ords,)d(using)j(the)g(giv)n
(en)e(lexer.)0 1893 y Fb(value)42 b(tokens)f(:)86 b(g)44
b(->)e(string)f(->)i(list)f(\(string)f(*)i(int\);)208
2027 y Fi(Giv)n(en)20 b(a)g(grammar)f(and)i(a)f(tok)n(en)g(pattern)h
(constructor,)f(returns)g(the)h(list)g(of)g(the)g(corresp)r(onding)e(v)
-5 b(alues)20 b(curren)n(tly)208 2126 y(used)27 b(in)h(all)f(en)n
(tries)g(of)h(this)g(grammar.)35 b(The)27 b(in)n(teger)g(is)g(the)h(n)n
(um)n(b)r(er)g(of)f(times)h(this)g(pattern)f(v)-5 b(alue)28
b(is)f(used.)208 2260 y(Examples:)307 2444 y Fh(\017)41
b Fi(The)28 b(call:)36 b Fb(Grammar.tokens)i(g)43 b("")27
b Fi(returns)g(the)h(k)n(eyw)n(ords)d(list.)307 2577
y Fh(\017)41 b Fi(The)32 b(call:)45 b Fb(Grammar.tokens)38
b(g)43 b("IDENT")29 b Fi(returns)i(the)h(list)g(of)g(all)f(usages)f(of)
i(the)g(pattern)g("IDENT")f(in)390 2677 y(the)d Fb(EXTEND)d
Fi(statemen)n(ts.)0 2861 y Fb(value)42 b(glexer)f(:)86
b(g)44 b(->)e(Plexing.lexer)d(token;)208 2994 y Fi(Return)27
b(the)h(lexer)f(used)h(b)n(y)f(the)h(grammar)0 3177 y
Fb(type)42 b(parsable)e(=)j('abstract;)0 3345 y(value)f(parsable)e(:)87
b(g)43 b(->)f(Stream.t)f(char)h(->)g(parsable;)208 3478
y Fi(T)n(yp)r(e)32 b(and)g(v)-5 b(alue)32 b(allo)n(wing)f(to)h(k)n(eep)
g(the)h(same)e(tok)n(en)h(stream)f(b)r(et)n(w)n(een)i(sev)n(eral)d
(calls)i(of)g(en)n(tries)g(of)g(the)h(same)208 3578 y(grammar,)25
b(to)j(prev)n(en)n(t)e(loss)h(of)h(tok)n(ens.)36 b(T)-7
b(o)27 b(b)r(e)h(used)g(with)g Fb(Entry.parse)p 2632
3578 V 26 w(parsable)d Fi(b)r(elo)n(w)0 3761 y Fb(module)41
b(Entry)h(=)87 3861 y(sig)174 3961 y(type)g(e)h('a)g(=)g('x;)174
4060 y(value)f(create)f(:)i(g)g(->)g(string)e(->)i(e)g('a;)174
4160 y(value)f(parse)f(:)j(e)f('a)f(->)h(Stream.t)e(char)g(->)i('a;)174
4260 y(value)f(parse_all)e(:)j(e)g('a)g(->)g(Stream.t)d(char)i(->)h
(list)e('a;)174 4359 y(value)h(parse_token)d(:)k(e)g('a)g(->)g
(Stream.t)d(token)i(->)g('a;)174 4459 y(value)g(parse_parsable)c(:)43
b(e)g('a)g(->)g(parsable)d(->)j('a;)174 4558 y(value)f(name)g(:)h(e)g
('a)g(->)g(string;)174 4658 y(value)f(of_parser)e(:)j(g)g(->)g(string)e
(->)i(\(Stream.t)d(token)h(->)i('a\))f(->)h(e)g('a;)174
4758 y(value)f(print)f(:)j(e)f('a)f(->)h(unit;)174 4857
y(value)f(find)g(:)h(e)g('a)g(->)g(string)e(->)i(e)g(Obj.t;)174
4957 y(external)e(obj)h(:)h(e)g('a)g(->)g(Gramext.g_entry)37
b(token)42 b(=)h("\\\045identity";)87 5057 y(end;)201
5240 y Fi(Mo)r(dule)27 b(to)h(handle)f(en)n(tries.)307
5407 y Fh(\017)41 b Fb(Grammar.Entry.e)22 b Fi(:)37 b(t)n(yp)r(e)27
b(for)h(en)n(tries)e(returning)h(v)-5 b(alues)27 b(of)h(t)n(yp)r(e)g(")
p Fb('a)p Fi(".)1888 5656 y(206)p eop end
%%Page: 207 209
TeXDict begin 207 208 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 307 390 a Fh(\017)41
b Fb(Grammar.Entry.cre)o(at)o(e)d(g)43 b(n)27 b Fi(:)37
b(creates)26 b(a)i(new)f(en)n(try)g(named)h(")p Fb(n)p
Fi(")e(in)i(the)g(grammar)d(")p Fb(g)p Fi(".)307 545
y Fh(\017)41 b Fb(Grammar.Entry.par)o(se)c(e)27 b Fi(:)37
b(returns)27 b(the)h(stream)f(parser)f(of)h(the)h(en)n(try)f(")p
Fb(e)p Fi(".)307 699 y Fh(\017)41 b Fb(Grammar.Entry.par)o(se)p
1229 699 27 4 v 25 w(all)h(e)g Fi(:)67 b(returns)42 b(the)g(stream)g
(parser)f(returning)h(all)g(p)r(ossible)g(v)-5 b(alues)42
b(while)390 798 y(parsing)d(with)h(the)g(en)n(try)f(")p
Fb(e)p Fi(":)60 b(ma)n(y)39 b(return)h(more)f(than)h(one)f(v)-5
b(alue)40 b(when)g(the)g(parsing)f(algorithm)f(is)390
898 y(")p Fb(Grammar.Backtrac)o(ki)o(ng)o Fi(".)307 1052
y Fh(\017)j Fb(Grammar.Entry.par)o(se)p 1229 1052 V 25
w(token)g(e)27 b Fi(:)37 b(returns)27 b(the)h(tok)n(en)f(parser)f(of)i
(the)g(en)n(try)f(")p Fb(e)p Fi(".)307 1207 y Fh(\017)41
b Fb(Grammar.Entry.par)o(se)p 1229 1207 V 25 w(parsable)f(e)27
b Fi(:)37 b(returns)27 b(the)h(parsable)e(parser)g(of)i(the)g(en)n(try)
f(")p Fb(e)p Fi(".)307 1361 y Fh(\017)41 b Fb(Grammar.Entry.nam)o(e)c
(e)28 b Fi(:)37 b(returns)26 b(the)i(name)g(of)f(the)h(en)n(try)f(")p
Fb(e)p Fi(".)307 1515 y Fh(\017)41 b Fb(Grammar.Entry.of)p
1099 1515 V 25 w(parser)g(g)i(n)g(p)28 b Fi(:)37 b(mak)n(es)26
b(an)h(en)n(try)g(from)h(a)f(tok)n(en)g(stream)g(parser.)307
1670 y Fh(\017)41 b Fb(Grammar.Entry.pri)o(nt)c(e)27
b Fi(:)37 b(displa)n(ys)27 b(the)h(en)n(try)f(")p Fb(e)p
Fi(")f(using)h(")p Fb(Format)p Fi(".)307 1824 y Fh(\017)41
b Fb(Grammar.Entry.fin)o(d)c(e)44 b(s)27 b Fi(:)37 b(\014nds)28
b(the)g(en)n(try)f(named)g Fb(s)g Fi(in)h(the)g(rules)f(of)h(")p
Fb(e)p Fi(".)307 1978 y Fh(\017)41 b Fb(Grammar.Entry.obj)c(e)f
Fi(:)56 b(con)n(v)n(erts)35 b(an)i(en)n(try)g(in)n(to)f(a)h(")p
Fb(Gramext.g)p 2720 1978 V 27 w(entry)p Fi(")e(allo)n(wing)g(to)i(see)g
(what)g(it)390 2078 y(holds.)0 2293 y Fb(value)42 b(of)p
355 2293 V 30 w(entry)g(:)86 b(Entry.e)41 b('a)i(->)g(g;)208
2447 y Fi(Return)27 b(the)h(grammar)e(asso)r(ciated)g(with)i(an)g(en)n
(try)-7 b(.)0 2737 y Fe(B.5.2)112 b(prin)m(ting)38 b(grammar)h(en)m
(tries)0 2910 y Fi(The)28 b(function)g(")p Fb(Grammar.Entry.pr)o(in)o
(t)p Fi(")22 b(displa)n(ys)k(the)j(curren)n(t)e(con)n(ten)n(ts)g(of)h
(an)f(en)n(try)-7 b(.)38 b(In)n(teresting)27 b(for)g(debugging,)0
3010 y(to)g(lo)r(ok)g(at)h(the)g(result)f(of)h(a)f(syn)n(tax)g
(extension,)g(to)g(see)g(the)h(names)g(of)f(the)h(lev)n(els.)0
3230 y(The)i(displa)n(y)g(do)r(es)g(not)h(include)f(the)h(patterns)f
(nor)g(the)g(seman)n(tic)g(actions,)h(whose)e(sources)g(are)h(not)g
(recorded)f(in)i(the)0 3330 y(grammar)26 b(en)n(tries)h(data.)0
3551 y(Moreo)n(v)n(er,)20 b(the)h(lo)r(cal)g(en)n(tries)f(\(not)i(sp)r
(eci\014ed)f(in)h(the)f(GLOBAL)g(indicator)f(of)i(the)f(EXTEND)g
(statemen)n(t\))h(are)e(indicated)0 3650 y(with)28 b(a)f(star)g(\(")p
Fb(*)p Fi("\))g(to)g(inform)h(that)g(they)f(are)g(not)h(directly)f
(accessible.)0 3940 y Fe(B.5.3)112 b(clearing)38 b(grammars)h(and)g(en)
m(tries)0 4113 y Fb(module)i(Unsafe)g(:)87 4213 y(sig)174
4312 y(value)h(gram_reinit)d(:)k(g)g(->)g(Plexing.lexer)38
b(token)k(->)g(unit;)174 4412 y(value)g(clear_entry)d(:)k(Entry.e)e('a)
i(->)f(unit;)87 4512 y(end;)201 4726 y Fi(Mo)r(dule)30
b(for)g(clearing)g(grammars)e(and)i(en)n(tries.)45 b(T)-7
b(o)30 b(b)r(e)h(manipulated)g(with)g(care,)f(b)r(ecause:)42
b(1\))31 b(reinitializing)e(a)208 4826 y(grammar)19 b(destro)n(ys)h
(all)i(tok)n(ens)f(and)g(there)g(ma)n(y)g(b)r(e)h(problems)f(with)i
(the)f(asso)r(ciated)e(lexer)h(if)h(there)f(are)g(k)n(eyw)n(ords;)208
4926 y(2\))27 b(clearing)f(an)i(en)n(try)f(do)r(es)g(not)g(destro)n(y)g
(the)h(tok)n(ens)e(used)i(only)f(b)n(y)h(itself.)307
5135 y Fh(\017)41 b Fb(Grammar.Unsafe.re)o(in)o(it)p
1317 5135 V 25 w(gram)h(g)h(lex)34 b Fi(remo)n(v)n(es)e(the)k(tok)n
(ens)e(of)g(the)i(grammar)c(and)j(sets)g(")p Fb(lex)p
Fi(")d(as)i(a)390 5234 y(new)28 b(lexer)f(for)g(")p Fb(g)p
Fi(".)35 b(W)-7 b(arning:)37 b(the)28 b(lexer)e(itself)j(is)e(not)h
(reinitialized.)307 5389 y Fh(\017)41 b Fb(Grammar.Unsafe.cl)o(ea)o(r)p
1273 5389 V 25 w(entry)h(e)27 b Fi(remo)n(v)n(es)f(all)h(rules)g(of)h
(the)g(en)n(try)f(")p Fb(e)p Fi(".)1888 5656 y(207)p
eop end
%%Page: 208 210
TeXDict begin 208 209 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fe(B.5.4)112
b(scan)38 b(en)m(tries)0 562 y Fb(value)k(print)p 487
562 27 4 v 29 w(entry)f(:)87 b(Format.formatter)37 b(->)43
b(Gramext.g)p 2176 562 V 27 w(entry)f('te)g(->)h(unit;)208
715 y Fi(General)26 b(prin)n(ter)h(for)g(all)h(kinds)f(of)h(en)n(tries)
f(\(ob)5 b(j)27 b(en)n(tries\).)0 937 y Fb(value)42 b(iter_entry)d(:)87
1037 y(\(Gramext.g_entry)e('te)42 b(->)h(unit\))f(->)h(Gramext.g_entry)
37 b('te)42 b(->)h(unit;)201 1249 y Fi(")p Fb(Grammar.iter)p
776 1249 V 26 w(entry)e(f)i(e)p Fi(")22 b(applies)h(")p
Fb(f)p Fi(")e(to)i(the)g(en)n(try)f(")p Fb(e)p Fi(")f(and)i(transitiv)n
(ely)f(all)g(en)n(tries)g(called)h(b)n(y)f(")p Fb(e)p
Fi(".)34 b(The)208 1349 y(order)21 b(in)h(whic)n(h)h(the)f(en)n(tries)g
(are)f(passed)h(to)g(")p Fb(f)p Fi(")f(is)i(the)g(order)e(they)h(app)r
(ear)g(in)g(eac)n(h)g(en)n(try)-7 b(.)35 b(Eac)n(h)21
b(en)n(try)h(is)g(passed)208 1448 y(only)27 b(once.)0
1661 y Fb(value)42 b(fold)p 443 1661 V 29 w(entry)g(:)87
b(\(Gramext.g)p 1305 1661 V 27 w(entry)41 b('te)i(->)f('a)h(->)g('a\))f
(->)h(Gramext.g)p 2861 1661 V 28 w(entry)e('te)i(->)f('a)h(->)g('a;)208
1813 y Fi(")p Fb(Grammar.fold)p 783 1813 V 25 w(entry)f(f)h(e)g(init)p
Fi(")17 b(computes)h(")p Fb(\(f)42 b(eN)h(..)86 b(\(f)43
b(e2)g(\(f)g(e1)f(init\)\)\))p Fi(",)17 b(where)h(")p
Fb(e1)42 b(..)87 b(eN)p Fi(")208 1913 y(are)28 b(")p
Fb(e)p Fi(")g(and)h(transitiv)n(ely)g(all)g(en)n(tries)g(called)g(b)n
(y)g(")p Fb(e)p Fi(".)41 b(The)29 b(order)f(in)i(whic)n(h)f(the)h(en)n
(tries)f(are)f(passed)h(to)g(")p Fb(f)p Fi(")f(is)208
2013 y(the)g(order)e(they)i(app)r(ear)e(in)i(eac)n(h)f(en)n(try)-7
b(.)36 b(Eac)n(h)27 b(en)n(try)g(is)g(passed)g(only)g(once.)0
2298 y Fe(B.5.5)112 b(parsing)39 b(algorithm)0 2470 y
Fb(type)j(parse_algorithm)37 b(=)43 b(Gramext.parse_alg)o(ori)o(th)o(m)
38 b(==)87 2569 y([)43 b(Imperative)d(|)j(Backtracking)c(|)k
(DefaultAlgorithm)37 b(])0 2669 y(;)201 2881 y Fi(T)n(yp)r(e)27
b(of)h(algorithm)e(used)i(in)g(grammar)d(en)n(tries.)307
3087 y Fh(\017)41 b Fb(Imperative)p Fi(:)33 b(use)27
b(imp)r(erativ)n(e)h(streams)307 3240 y Fh(\017)41 b
Fb(Backtracking)p Fi(:)32 b(use)c(functional)f(streams)g(with)h(full)g
(bac)n(ktrac)n(king)307 3392 y Fh(\017)41 b Fb(DefaultAlgorithm)p
Fi(:)31 b(found)c(in)h(the)g(v)-5 b(ariable)27 b(")p
Fb(backtrack)p 2375 3392 V 27 w(parse)p Fi(")e(b)r(elo)n(w.)208
3598 y(The)i(default,)h(when)g(a)f(grammar)f(is)h(created,)g(is)h
Fb(DefaultAlgorithm)o Fi(.)0 3811 y Fb(value)42 b(set)p
399 3811 V 30 w(algorithm)e(:)86 b(g)43 b(->)g(parse)p
1433 3811 V 30 w(algorithm)c(->)k(unit;)208 3963 y Fi(Set)28
b(the)g(parsing)e(algorithm)g(for)h(all)h(en)n(tries)f(of)g(a)g(giv)n
(en)g(grammar.)0 4176 y Fb(value)42 b(backtrack)p 663
4176 V 27 w(parse)g(:)86 b(ref)43 b(bool;)208 4329 y
Fi(If)36 b Fb(True)p Fi(,)30 b(the)g(default)g(parsing)f(uses)h(full)g
(bac)n(ktrac)n(king.)42 b(If)37 b Fb(False)p Fi(,)28
b(it)j(uses)e(parsing)g(with)i(normal)e(streams.)43 b(If)208
4428 y(the)31 b(en)n(vironmen)n(t)g(v)-5 b(ariable)30
b(CAMLP5P)-7 b(ARAM)31 b(con)n(tains)g("b",)g(the)h(default)g(is)f
Fb(True)p Fi(;)h(otherwise,)g(the)g(default)208 4528
y(is)27 b Fb(False)p Fi(.)0 4740 y Fb(value)42 b(backtrack)p
663 4740 V 27 w(stalling)p 1042 4740 V 28 w(limit)g(:)87
b(ref)42 b(int;)208 4893 y Fi(Limitation)24 b(of)g(bac)n(ktrac)n(king)e
(to)i(prev)n(en)n(t)f(stalling)g(in)i(case)e(of)h(syn)n(tax)f(error.)34
b(In)24 b(bac)n(ktrac)n(king)e(algorithm,)i(when)208
4993 y(there)33 b(is)g(a)g(syn)n(tax)f(error,)h(the)h(parsing)e(con)n
(tin)n(ues)g(trying)h(to)g(\014nd)h(another)e(solution.)54
b(It)33 b(some)g(grammars,)g(it)208 5092 y(can)27 b(b)r(e)h(v)n(ery)f
(long)g(b)r(efore)g(c)n(hec)n(king)g(all)g(p)r(ossibilities.)37
b(This)28 b(n)n(um)n(b)r(er)f(limits)i(the)f(n)n(um)n(b)r(er)f(of)h
(tok)n(ens)f(tests)g(after)208 5192 y(a)32 b(bac)n(ktrac)n(k.)52
b(\(The)33 b(n)n(um)n(b)r(er)g(of)g(tok)n(ens)g(tests)g(is)g(reset)g
(to)g(zero)f(when)h(the)h(tok)n(en)e(stream)h(o)n(v)n(ertak)n(es)d(the)
j(last)208 5291 y(reac)n(hed)e(tok)n(en.\))51 b(The)33
b(default)g(is)f(10000.)50 b(If)32 b(set)h(to)f(0,)i(there)e(is)h(no)f
(limit.)52 b(Can)32 b(b)r(e)h(set)g(b)n(y)f(the)h(en)n(vironmen)n(t)208
5391 y(v)-5 b(ariable)26 b(CAMLP5P)-7 b(ARAM)27 b(b)n(y)h("l=v)-5
b(alue".)1888 5656 y(208)p eop end
%%Page: 209 211
TeXDict begin 209 210 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fe(B.5.6)112
b(functorial)38 b(in)m(terface)0 558 y Fi(Alternativ)n(e)21
b(for)g(grammar)e(use.)35 b(Grammars)20 b(are)g(not)h(Ocaml)g(v)-5
b(alues:)33 b(there)22 b(is)f(no)g(t)n(yp)r(e)h(for)f(them.)35
b(Mo)r(dules)21 b(generated)0 657 y(preserv)n(e)26 b(the)i(rule)f("an)g
(en)n(try)g(cannot)g(call)g(an)h(en)n(try)f(of)g(another)g(grammar")e
(b)n(y)i(normal)g(OCaml)g(t)n(yping.)0 878 y Fb(module)41
b(type)h(GLexerType)d(=)87 978 y(sig)174 1077 y(type)j(te)h(=)g('x;)174
1177 y(value)f(lexer)f(:)j(Plexing.lexer)38 b(te;)87
1277 y(end;)201 1482 y Fi(The)27 b(input)i(signature)d(for)h(the)h
(functor)g(")p Fb(Grammar.GMake)p Fi(")o(:)j(")p Fb(te)p
Fi(")26 b(is)i(the)g(t)n(yp)r(e)f(of)h(the)g(tok)n(ens.)0
1695 y Fb(module)41 b(type)h(S)h(=)87 1795 y(sig)174
1895 y(type)f(te)h(=)g('x;)174 1994 y(type)f(parsable)f(=)i('x;)174
2094 y(value)f(parsable)e(:)j(Stream.t)e(char)h(->)g(parsable;)174
2193 y(value)g(tokens)f(:)i(string)e(->)i(list)f(\(string)f(*)i(int\);)
174 2293 y(value)f(glexer)f(:)i(Plexing.lexer)38 b(te;)174
2393 y(value)k(set_algorithm)c(:)43 b(parse_algorithm)38
b(->)k(unit;)174 2492 y(module)f(Entry)h(:)262 2592 y(sig)349
2692 y(type)g(e)h('a)g(=)g('y;)349 2791 y(value)e(create)g(:)i(string)f
(->)g(e)i('a;)349 2891 y(value)d(parse)h(:)h(e)g('a)g(->)g(parsable)d
(->)j('a;)349 2990 y(value)e(parse_token)e(:)k(e)h('a)e(->)h(Stream.t)d
(te)j(->)g('a;)349 3090 y(value)e(name)h(:)h(e)g('a)g(->)g(string;)349
3190 y(value)e(of_parser)f(:)j(string)e(->)i(\(Stream.t)d(te)j(->)f
('a\))h(->)g(e)g('a;)349 3289 y(value)e(print)h(:)h(e)g('a)g(->)g
(unit;)349 3389 y(external)d(obj)i(:)h(e)h('a)e(->)h(Gramext.g_entry)38
b(te)k(=)h("\\\045identity";)262 3489 y(end;)174 3588
y(module)e(Unsafe)h(:)262 3688 y(sig)349 3787 y(value)f(gram_reinit)e
(:)k(Plexing.lexer)c(te)j(->)h(unit;)349 3887 y(value)e(clear_entry)e
(:)k(Entry.e)e('a)i(->)g(unit;)262 3987 y(end;)87 4086
y(end;)201 4292 y Fi(Signature)25 b(t)n(yp)r(e)h(of)f(the)h(functor)g
(")p Fb(Grammar.GMake)p Fi(".)k(The)c(t)n(yp)r(es)f(and)h(functions)g
(are)f(almost)g(the)h(same)f(than)h(in)208 4392 y(generic)g(in)n
(terface,)h(but:)307 4588 y Fh(\017)41 b Fi(Grammars)22
b(are)h(not)h(v)-5 b(alues.)35 b(F)-7 b(unctions)24 b(holding)f(a)g
(grammar)f(as)h(parameter)f(do)h(not)h(ha)n(v)n(e)f(this)h(parameter)
390 4688 y(y)n(et.)307 4836 y Fh(\017)41 b Fi(The)22
b(t)n(yp)r(e)f(")p Fb(parsable)p Fi(")d(is)j(used)h(in)f(function)h(")p
Fb(parse)p Fi(")d(instead)i(of)h(the)g(c)n(har)e(stream,)i(a)n(v)n
(oiding)e(the)h(p)r(ossible)390 4935 y(loss)27 b(of)g(tok)n(ens.)307
5084 y Fh(\017)41 b Fi(The)29 b(t)n(yp)r(e)f(of)h(tok)n(ens)e
(\(expressions)g(and)i(patterns\))f(can)g(b)r(e)h(an)n(y)e(t)n(yp)r(e)i
(\(instead)f(of)h(\(string)f(*)g(string\)\);)h(the)390
5183 y(mo)r(dule)f(parameter)e(m)n(ust)i(sp)r(ecify)g(a)f(w)n(a)n(y)f
(to)i(sho)n(w)f(them)h(as)f(\(string)g(*)g(string\).)0
5389 y Fb(module)41 b(GMake)h(\(L)g(:)i(GLexerType\))39
b(:)86 b(S)44 b(with)d(type)h(te)h(=)g(L.te;)1888 5656
y Fi(209)p eop end
%%Page: 210 212
TeXDict begin 210 211 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fe(B.5.7)112
b(grammar)39 b(\015ags)0 548 y Fb(value)j(error)p 487
548 27 4 v 29 w(verbose)f(:)86 b(ref)43 b(bool;)208 685
y Fi(Flag)27 b(for)g(displa)n(ying)f(more)h(information)g(in)h(case)e
(of)i(parsing)e(error;)g(default)i(=)f(")p Fb(False)p
Fi(".)0 875 y Fb(value)42 b(warning)p 575 875 V 28 w(verbose)f(:)86
b(ref)43 b(bool;)208 1012 y Fi(Flag)27 b(for)g(displa)n(ying)f(w)n
(arnings)g(while)i(extension;)f(default)h(=)f(")p Fb(True)p
Fi(".)0 1202 y Fb(value)42 b(strict)p 531 1202 V 28 w(parsing)f(:)87
b(ref)42 b(bool;)208 1340 y Fi(Flag)27 b(to)g(apply)g(strict)h
(parsing,)e(without)i(trying)f(to)h(reco)n(v)n(er)d(errors;)g(default)j
(=)f(")p Fb(False)p Fi(".)0 1627 y Fc(B.6)135 b(Di\013)45
b(mo)t(dule)0 1813 y Fi(Di\013erences)30 b(b)r(et)n(w)n(een)h(t)n(w)n
(o)e(arra)n(ys.)43 b(Used)31 b(in)g(Camlp5)e(sources,)h(but)h(can)f(b)r
(e)h(used)g(for)e(other)h(applications,)h(indep)r(en-)0
1912 y(dan)n(tly)c(from)h(Camlp5)f(stu\013.)0 2107 y
Fb(value)42 b(f)h(:)g(array)e('a)i(->)g(array)e('a)i(->)g(\(array)e
(bool)h(*)h(array)f(bool\);}])201 2296 y(Diff.f)f(a1)h(a2)27
b Fi(returns)g(a)g(pair)g(of)h(b)r(o)r(olean)f(arra)n(ys)e
Fb(\(d1,)42 b(d2\))p Fi(.)307 2472 y Fh(\017)f Fb(d1)27
b Fi(has)g(the)h(same)f(size)g(as)g Fb(a1)p Fi(.)307
2609 y Fh(\017)41 b Fb(d2)27 b Fi(has)g(the)h(same)f(size)g(as)g
Fb(a2)p Fi(.)307 2747 y Fh(\017)41 b Fb(d1.\(i\))25 b
Fi(is)j Fb(True)e Fi(if)34 b Fb(a1.\(i\))26 b Fi(has)h(no)g(corresp)r
(onding)f(v)-5 b(alue)27 b(in)h Fb(a2)p Fi(.)307 2884
y Fh(\017)41 b Fb(d2.\(i\))25 b Fi(is)j Fb(True)e Fi(if)34
b Fb(a2.\(i\))26 b Fi(has)h(no)g(corresp)r(onding)f(v)-5
b(alue)27 b(in)h Fb(a1)p Fi(.)307 3022 y Fh(\017)41 b
Fb(d1)27 b Fi(and)g Fb(d2)g Fi(ha)n(v)n(e)g(the)h(same)f(n)n(um)n(b)r
(er)g(of)h(v)-5 b(alues)27 b(equal)g(to)g Fb(False)p
Fi(.)208 3197 y(Can)34 b(b)r(e)h(used,)i(e.g.,)f(to)f(write)f(the)h
Fb(diff)e Fi(program)g(\(comparison)g(of)i(t)n(w)n(o)f(\014les\),)j
(the)e(input)h(arra)n(ys)c(b)r(eing)j(the)208 3297 y(arra)n(y)25
b(of)i(lines)h(of)f(eac)n(h)g(\014le.)208 3572 y(Can)g(b)r(e)i(used)f
(also)f(to)i(compare)e(t)n(w)n(o)g(strings)g(\(they)i(m)n(ust)f(ha)n(v)
n(e)f(b)r(een)i(explo)r(ded)f(in)n(to)g(arra)n(ys)e(of)i(c)n(hars\),)g
(or)f(t)n(w)n(o)208 3671 y(DNA)h(strings,)f(and)g(so)g(on.)0
3958 y Fc(B.7)135 b(Extfold)46 b(mo)t(dule)0 4145 y Fi(Mo)r(dule)25
b(in)n(ternally)g(used)g(to)g(mak)n(e)g(the)g(sym)n(b)r(ols)g(F)n(OLD0)
f(and)h(F)n(OLD1)g(w)n(ork)f(in)h(the)h(EXTEND)f(statemen)n(t)g(+)g
(exten-)0 4244 y(sion)i(")p Fb(pa)p 306 4244 V 30 w(extfold.cmo)p
Fi(".)0 4531 y Fc(B.8)135 b(Extfun)45 b(mo)t(dule)0 4717
y Fi(Extensible)27 b(functions.)0 4921 y(This)18 b(mo)r(dule)h
(implemen)n(ts)g(pattern)f(matc)n(hing)g(extensible)g(functions)h(whic)
n(h)f(w)n(ork)f(with)i(the)g(parsing)e(kit)h(")p Fb(pa)p
3530 4921 V 30 w(extfun.cmo)p Fi(",)0 5021 y(the)28 b(syn)n(tax)f(of)g
(an)h(extensible)f(function)h(b)r(eing:)87 5215 y Fb(extfun)41
b(e)i(with)f([)i(pattern_matchin)o(g)38 b(])0 5407 y
Fi(See)28 b(c)n(hapter)e(:)37 b(Extensible)27 b(functions.)1888
5656 y(210)p eop end
%%Page: 211 213
TeXDict begin 211 212 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fb(type)42 b(t)h('a)g('b)g(=)g
('x;)208 541 y Fi(The)27 b(t)n(yp)r(e)h(of)g(the)g(extensible)f
(functions)h(of)g(t)n(yp)r(e)f Fb('a)43 b(->)g('b)p Fi(.)0
750 y Fb(value)f(empty)f(:)87 b(t)43 b('a)g('b;)208 900
y Fi(Empt)n(y)27 b(extensible)g(function.)0 1101 y Fb(value)42
b(apply)f(:)87 b(t)43 b('a)g('b)f(->)h('a)g(->)g('b;)208
1251 y Fi(Apply)28 b(an)f(extensible)h(function.)0 1453
y Fb(exception)40 b(Failure;)208 1603 y Fi(Matc)n(h)27
b(failure)g(while)h(applying)f(an)g(extensible)h(function.)0
1804 y Fb(value)42 b(print)f(:)87 b(t)43 b('a)g('b)f(->)h(unit;)208
1955 y Fi(Prin)n(t)26 b(patterns)i(in)f(the)h(order)f(they)g(are)g
(recorded)f(in)i(the)g(data)f(structure.)0 2276 y Fc(B.9)135
b(Eprin)l(ter)45 b(mo)t(dule)0 2474 y Fi(This)40 b(mo)r(dule)h(allo)n
(ws)e(creation)h(of)g(prin)n(ters,)j(apply)d(them)h(and)f(clear)g
(them.)76 b(It)41 b(is)f(also)f(in)n(ternally)h(used)h(b)n(y)f(the)0
2573 y(")p Fb(EXTEND)p 311 2573 27 4 v 28 w(PRINTER)p
Fi(")25 b(statemen)n(t.)0 2791 y Fb(type)42 b(t)h('a)g(=)g('abstract;)
208 2942 y Fi(Prin)n(ter)26 b(t)n(yp)r(e,)i(to)f(prin)n(t)h(v)-5
b(alues)27 b(of)g(t)n(yp)r(e)h(")p Fb('a)p Fi(".)0 3150
y Fb(type)42 b(pr)p 311 3150 V 30 w(context)f(=)i(Pprintf.pr)p
1217 3150 V 28 w(context;)208 3301 y Fi(Prin)n(ting)26
b(con)n(text.)0 3510 y Fb(value)42 b(make)f(:)87 b(string)41
b(->)i(t)g('a;)208 3660 y Fi(Builds)32 b(a)f(prin)n(ter.)50
b(The)32 b(string)g(parameter)e(is)i(used)g(in)g(error)f(messages.)48
b(The)32 b(prin)n(ter)g(is)g(created)f(empt)n(y)h(and)208
3760 y(can)27 b(b)r(e)h(extended)g(with)g(the)g(")p Fb(EXTEND)p
1469 3760 V 28 w(PRINTER)p Fi(")c(statemen)n(t.)0 3969
y Fb(value)42 b(apply)f(:)87 b(t)43 b('a)g(->)f(pr)p
1095 3969 V 31 w(context)f(->)h('a)h(->)g(string;)208
4119 y Fi(Applies)28 b(a)f(prin)n(ter,)g(returning)f(the)i(prin)n(ted)g
(string)f(of)g(the)h(parameter.)0 4320 y Fb(value)42
b(apply)p 487 4320 V 29 w(level)f(:)87 b(t)43 b('a)g(->)g(string)e(->)i
(pr)p 1781 4320 V 30 w(context)e(->)i('a)f(->)h(string;)208
4471 y Fi(Applies)28 b(a)f(prin)n(ter)g(at)g(some)g(sp)r(eci\014c)h
(lev)n(el.)36 b(Raises)27 b(")p Fb(Failure)p Fi(")d(if)k(the)g(giv)n
(en)f(lev)n(el)g(do)r(es)g(not)h(exist.)0 4680 y Fb(value)42
b(clear)f(:)87 b(t)43 b('a)g(->)f(unit;)208 4830 y Fi(Clears)26
b(a)h(prin)n(ter,)g(remo)n(ving)f(all)h(its)h(lev)n(els)f(and)g(rules.)
0 5039 y Fb(value)42 b(print)f(:)87 b(t)43 b('a)g(->)f(unit;)208
5189 y Fi(Prin)n(t)26 b(prin)n(ter)h(patterns,)h(in)f(the)h(order)f
(they)g(are)g(recorded,)f(for)h(debugging)g(purp)r(oses.)0
5407 y(Some)g(other)g(t)n(yp)r(es)h(and)f(functions)h(exist,)g(for)f
(in)n(ternal)g(use.)1888 5656 y(211)p eop end
%%Page: 212 214
TeXDict begin 212 213 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fc(B.10)135
b(Fstream)45 b(mo)t(dule)0 573 y Fi(This)28 b(mo)r(dule)f(implemen)n(t)
i(functional)e(streams)g(and)g(parsers)f(together)h(with)h(bac)n(ktrac)
n(king)d(parsers.)0 773 y(T)-7 b(o)27 b(b)r(e)h(used)g(with)g(syn)n
(tax)f(")p Fb(pa)p 1015 773 27 4 v 30 w(fstream.cmo)p
Fi(".)32 b(The)27 b(syn)n(tax)g(is:)125 957 y Fh(\017)41
b Fi(stream:)36 b(")p Fb(fstream)k([:)86 b(...)g(:])p
Fi(")125 1125 y Fh(\017)41 b Fi(functional)27 b(parser:)36
b(")p Fb(fparser)k([)j([:)86 b(...)g(:])h(->)42 b(...)86
b(|)43 b(...)86 b(])p Fi(")125 1292 y Fh(\017)41 b Fi(bac)n(ktrac)n
(king)25 b(parser:)35 b(")p Fb(bparser)40 b([)j([:)87
b(...)f(:])g(->)43 b(...)86 b(|)43 b(...)86 b(])p Fi(")0
1477 y(F)-7 b(unctional)28 b(parsers)d(are)i(of)h(t)n(yp)r(e:)87
1661 y Fb(Fstream.t)40 b('a)j(->)g(option)e(\('b)h(*)h(Fstream.t)d
('a\))0 1846 y Fi(Bac)n(ktrac)n(king)25 b(parsers)h(are)g(of)i(t)n(yp)r
(e:)87 2030 y Fb(Fstream.t)40 b('a)j(->)g(option)e(\('b)h(*)h
(Fstream.t)d('a)j(*)g(Fstream.kont)c('a)j('b\))0 2215
y Fi(F)-7 b(unctional)33 b(parsers)e(use)h(limited)i(bac)n(ktrac)n(k,)e
(i.e)h(if)g(a)f(rule)h(fails,)h(the)f(next)g(rule)g(is)f(tested)h(with)
h(the)f(initial)g(stream;)0 2314 y(limited)f(b)r(ecause)e(in)h(the)g
(case)f(of)h(a)g(rule)f(with)h(t)n(w)n(o)f(consecutiv)n(e)g(sym)n(b)r
(ols)g(")p Fb(a)p Fi(")g(and)h(")p Fb(b)p Fi(",)f(if)h(")p
Fb(b)p Fi(")f(fails,)h(the)h(rule)e(fails:)0 2414 y(there)d(is)h(no)f
(try)g(with)i(the)f(next)f(rule)h(of)f(")p Fb(a)p Fi(".)0
2614 y(Bac)n(ktrac)n(king)e(parsers)h(ha)n(v)n(e)g(full)i(bac)n(ktrac)n
(k.)35 b(If)28 b(a)f(rule)g(fails,)h(the)g(next)g(case)e(of)i(the)g
(previous)e(rule)i(is)f(tested.)0 2848 y Fe(B.10.1)112
b(F)-9 b(unctional)39 b(streams)0 3002 y Fb(type)j(t)h('a)g(=)g('x;)208
3136 y Fi(The)27 b(t)n(yp)r(e)h(of)g('a)f(functional)h(streams.)0
3320 y Fb(value)42 b(from)f(:)87 b(\(int)42 b(->)h(option)e('a\))h(->)h
(t)g('a;)208 3454 y Fi(")p Fb(Fstream.from)38 b(f)p Fi(")24
b(returns)h(a)g(stream)f(built)j(from)e(the)g(function)h(")p
Fb(f)p Fi(".)35 b(T)-7 b(o)25 b(create)g(a)g(new)g(stream)g(elemen)n
(t,)h(the)208 3553 y(function)i(")p Fb(f)p Fi(")e(is)i(called)f(with)i
(the)f(curren)n(t)f(stream)g(coun)n(t.)37 b(The)27 b(user)h(function)g
(")p Fb(f)p Fi(")e(m)n(ust)i(return)g(either)f(")p Fb(Some)208
3653 y(<value>)p Fi(")d(for)j(a)g(v)-5 b(alue)28 b(or)e(")p
Fb(None)p Fi(")f(to)j(sp)r(ecify)g(the)g(end)f(of)h(the)g(stream.)0
3837 y Fb(value)42 b(of)p 355 3837 V 30 w(list)g(:)87
b(list)42 b('a)g(->)h(t)g('a;)208 3970 y Fi(Return)27
b(the)h(stream)f(holding)g(the)h(elemen)n(ts)g(of)f(the)h(list)g(in)g
(the)g(same)f(order.)0 4138 y Fb(value)42 b(of)p 355
4138 V 30 w(string)f(:)87 b(string)41 b(->)i(t)g(char;)208
4272 y Fi(Return)27 b(the)h(stream)f(of)h(the)g(c)n(haracters)d(of)i
(the)h(string)f(parameter.)0 4439 y Fb(value)42 b(of)p
355 4439 V 30 w(channel)f(:)87 b(in)p 953 4439 V 30 w(channel)41
b(->)i(t)g(char;)208 4573 y Fi(Return)27 b(the)h(stream)f(of)h(the)g(c)
n(haracters)d(read)i(from)g(the)h(input)g(c)n(hannel.)0
4757 y Fb(value)42 b(iter)f(:)87 b(\('a)43 b(->)f(unit\))g(->)h(t)g('a)
g(->)f(unit;)208 4890 y Fi(")p Fb(Fstream.iter)c(f)43
b(s)p Fi(")26 b(scans)g(the)i(whole)e(stream)g(s,)h(applying)g
(function)g(")p Fb(f)p Fi(")f(in)h(turn)h(to)e(eac)n(h)h(stream)f
(elemen)n(t)208 4990 y(encoun)n(tered.)0 5174 y Fb(value)42
b(next)f(:)87 b(t)43 b('a)g(->)g(option)e(\('a)h(*)i(t)f('a\);)208
5308 y Fi(Return)32 b(")p Fb(Some)41 b(\(a,)i(s\))p Fi(")31
b(where)h(")p Fb(a)p Fi(")f(is)h(the)h(\014rst)f(elemen)n(t)g(of)h(the)
f(stream)g(and)g Fb(s)g Fi(the)h(remaining)e(stream,)i(or)208
5407 y(")p Fb(None)p Fi(")25 b(if)j(the)g(stream)f(is)g(empt)n(y)-7
b(.)1888 5656 y(212)p eop end
%%Page: 213 215
TeXDict begin 213 214 bop 2905 70 a Fi(APPENDIX)27 b(B.)55
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 0 390 a Fb(value)42
b(empty)f(:)87 b(t)43 b('a)g(->)f(option)g(\(unit)f(*)i(t)g('a\);)208
531 y Fi(Return)27 b(")p Fb(Some)42 b(\(\(\),)g(s\))p
Fi(")26 b(if)i(the)g(stream)f(is)g(empt)n(y)h(where)f
Fb(s)g Fi(is)h(itself,)g(else)f(")p Fb(None)p Fi(".)0
712 y Fb(value)42 b(count)f(:)87 b(t)43 b('a)g(->)f(int;)208
852 y Fi(Return)27 b(the)h(curren)n(t)f(coun)n(t)g(of)h(the)g(stream)f
(elemen)n(ts,)g(i.e.)37 b(the)28 b(n)n(um)n(b)r(er)g(of)f(the)h(stream)
f(elemen)n(ts)g(discarded.)0 1033 y Fb(value)42 b(count)p
487 1033 27 4 v 29 w(unfrozen)e(:)87 b(t)43 b('a)g(->)g(int;)208
1173 y Fi(Return)20 b(the)g(n)n(um)n(b)r(er)f(of)h(unfrozen)g(elemen)n
(ts)f(in)h(the)h(b)r(eginning)e(of)h(the)g(stream;)i(useful)e(to)g
(determine)g(the)g(p)r(osition)208 1273 y(of)27 b(a)g(parsing)g(error)e
(\(longest)i(path\).)0 1525 y Fe(B.10.2)112 b(Bac)m(ktrac)m(king)38
b(parsers)0 1685 y Fb(type)k(kont)g('a)h('b)f(=)i([)f(K)g(of)g(unit)f
(->)g(option)f(\('b)i(*)g(t)g('a)g(*)g(kont)f('a)h('b\))f(];)208
1826 y Fi(The)27 b(t)n(yp)r(e)h(of)g(con)n(tin)n(uation)e(of)i(a)f(bac)
n(ktrac)n(king)e(parser.)0 2020 y Fb(type)42 b(bp)h('a)f('b)h(=)g(t)h
('a)e(->)h(option)e(\('b)i(*)g(t)g('a)g(*)g(kont)f('a)g('b\);)208
2160 y Fi(The)27 b(t)n(yp)r(e)h(of)g(a)f(bac)n(ktrac)n(king)e(parser.)0
2354 y Fb(value)42 b(bcontinue)d(:)87 b(kont)42 b('a)h('b)g(->)f
(option)f(\('b)i(*)g(t)g('a)g(*)g(kont)f('a)h('b\);)208
2494 y Fi(")p Fb(bcontinue)c(k)p Fi(")27 b(return)g(the)h(next)g
(solution)f(of)g(a)g(bac)n(ktrac)n(king)f(parser.)0 2688
y Fb(value)42 b(bparse)p 531 2688 V 28 w(all)h(:)87 b(bp)42
b('a)h('b)g(->)g(t)g('a)f(->)h(list)f('b;)208 2828 y
Fi(")p Fb(bparse)p 519 2828 V 28 w(all)g(p)h(strm)p Fi(")28
b(return)i(the)g(list)h(of)f(all)f(solutions)h(of)g(a)f(bac)n(ktrac)n
(king)f(parser)g(applied)i(to)g(a)g(functional)208 2928
y(stream.)0 3222 y Fc(B.11)135 b(Pprin)l(tf)45 b(mo)t(dule)0
3411 y Fi(De\014nitions)28 b(for)f(pprin)n(tf)h(statemen)n(t.)0
3618 y(This)44 b(mo)r(dule)g(con)n(tains)f(t)n(yp)r(es)h(and)g
(functions)g(for)g(the)g("pprin)n(tf")g(statemen)n(t)g(added)f(b)n(y)h
(the)g(syn)n(tax)g(extension)0 3718 y("pa)p 135 3718
25 4 v 29 w(pprin)n(tf.cmo".)0 3915 y Fb(type)e(pr)p
311 3915 27 4 v 30 w(context)f(=)i Fh(f)g Fb(ind)g(:)87
b(int;)41 b(bef)i(:)87 b(string;)40 b(aft)j(:)86 b(string;)41
b(dang)h(:)87 b(string)41 b Fh(g)p Fb(;)208 4056 y Fi(Prin)n(ting)26
b(con)n(text.)307 4237 y Fh(\017)41 b Fi(")p Fb(ind)p
Fi(")26 b(:)37 b(the)28 b(curren)n(t)e(indendation)307
4377 y Fh(\017)41 b Fi(")p Fb(bef)p Fi(")26 b(:)37 b(what)27
b(should)h(b)r(e)g(prin)n(ted)f(b)r(efore,)g(in)h(the)g(same)f(line)307
4517 y Fh(\017)41 b Fi(")p Fb(aft)p Fi(")26 b(:)37 b(what)27
b(should)h(b)r(e)g(prin)n(ted)f(after,)g(in)h(the)g(same)f(line)307
4658 y Fh(\017)41 b Fi(")p Fb(dang)p Fi(")25 b(:)37 b(the)28
b(dangling)f(tok)n(en)g(to)g(kno)n(w)g(whether)h(paren)n(theses)e(are)g
(necessary)0 4852 y Fb(value)42 b(empty)p 487 4852 V
29 w(pc)h(:)86 b(pr)p 865 4852 V 31 w(context;)208 4992
y Fi(Empt)n(y)27 b(prin)n(ter)g(con)n(text,)g(equal)g(to)h
Fh(f)p Fb(ind)41 b(=)j(0;)e(bef)h(=)g("";)f(aft)h(=)g("";)f(dang)g(=)h
("")p Fh(g)0 5189 y Fb(value)f(sprint_break)c(:)87 5289
y(int)43 b(->)f(int)h(->)f(pr_context)e(->)j(\(pr_context)c(->)j
(string\))f(->)174 5389 y(\(pr_context)e(->)k(string\))e(->)i(string;)
1888 5656 y Fi(213)p eop end
%%Page: 214 216
TeXDict begin 214 215 bop 0 70 a Fi(APPENDIX)27 b(B.)56
b(LIBRAR)-7 b(Y)p 0 103 3900 4 v 201 390 a(")p Fb(sprint)p
512 390 27 4 v 28 w(break)42 b(nspaces)e(offset)h(pc)i(f)g(g)p
Fi(")30 b(concat)h(the)g(t)n(w)n(o)f(strings)g(returned)h(b)n(y)f(")p
Fb(f)p Fi(")g(and)h(")p Fb(g)p Fi(",)f(either)h(in)208
490 y(one)c(line,)h(if)h(it)f(holds)f(without)i(o)n(v)n(er\015o)n(wing)
c(\(see)i(mo)r(dule)h(")p Fb(Pretty)p Fi("\),)d(with)k(")p
Fb(nspaces)p Fi(")24 b(spaces)j(b)r(et)n(w)n(en)g(them,)208
589 y(or)f(in)i(t)n(w)n(o)f(lines)h(with)g(")p Fb(offset)p
Fi(")c(spaces)i(added)i(in)g(the)g(inden)n(tation)f(for)g(the)h(second)
f(line.)208 689 y(This)i(function)h(don't)g(need)f(to)h(b)r(e)g(called)
f(directly)-7 b(.)42 b(It)30 b(is)f(generated)g(b)n(y)g(the)h(")p
Fb(pprintf)p Fi(")25 b(statemen)n(t)30 b(according)208
789 y(to)d(its)h(parameters)e(when)h(the)h(format)f(con)n(tains)g
(breaks,)f(lik)n(e)i(")p Fb(@;)p Fi(")e(and)h(")p Fb(@)43
b Fi(".)0 939 y Fb(value)f(sprint_break_al)o(l)37 b(:)87
1039 y(bool)42 b(->)h(pr_context)c(->)k(\(pr_context)c(->)k(string\))e
(->)174 1139 y(list)h(\(int)g(*)h(int)g(*)g(pr_context)c(->)k(string\))
e(->)i(string;)201 1289 y Fi(")p Fb(sprint)p 512 1289
V 28 w(break)p 760 1289 V 29 w(all)g(force)p 1184 1289
V 29 w(newlines)d(pc)j(f)g(fl)p Fi(")25 b(concat)g(all)h(strings)f
(returned)g(b)n(y)h(the)g(list)g(with)h(separators)208
1389 y(")p Fb(f-fl)p Fi(",)c(the)j(separators)c(b)r(eing)k(the)g(n)n
(um)n(b)r(er)f(of)g(spaces)f(and)i(the)f(o\013set)h(lik)n(e)f(in)g(the)
h(function)g(")p Fb(sprint)p 3594 1389 V 28 w(break)p
Fi(".)208 1488 y(The)39 b(function)h(w)n(orks)e(as)h("all)g(or)g
(nothing",)j(i.e.)73 b(if)40 b(the)g(resulting)f(string)g(do)r(es)g
(not)h(hold)f(on)g(the)h(line,)j(all)208 1588 y(strings)34
b(are)g(prin)n(ted)h(in)g(di\013eren)n(t)h(lines)f(\(ev)n(en)g(if)g
(sub-parts)g(could)f(hold)i(in)f(single)g(lines\).)59
b(If)36 b(the)g(parameter)208 1688 y(")p Fb(force)p 475
1688 V 28 w(newline)p Fi(")25 b(is)i(")p Fb(True)p Fi(",)e(all)j
(strings)e(are)h(prin)n(ted)g(in)h(di\013eren)n(t)g(lines,)g(no)f
(horizon)n(tal)f(prin)n(ting)h(is)g(tested.)208 1787
y(This)c(function)g(don't)g(need)h(to)f(b)r(e)g(called)g(directly)-7
b(.)35 b(It)23 b(is)g(generated)f(b)n(y)h(the)h(")p Fb(pprintf)p
Fi(")19 b(statemen)n(t)k(according)e(to)208 1887 y(its)28
b(parameters)e(when)j(the)f(format)g(con)n(tains)f(paren)n(thesized)g
(parts)g(with)i("break)e(all")g(lik)n(e)h(")p Fb(@[<a>)p
Fi(")d(and)j(")p Fb(@])p Fi(",)208 1987 y(or)e(")p Fb(@[<b>)p
Fi(")f(and)i(")p Fb(@])p Fi(".)0 2256 y Fc(B.12)135 b(Prett)l(y)46
b(mo)t(dule)0 2437 y Fi(Prett)n(y)27 b(prin)n(ting)g(on)g(strings.)36
b(Basic)27 b(functions.)0 2588 y Fb(value)42 b(horiz)p
487 2588 V 29 w(vertic)f(:)87 b(\(unit)41 b(->)i('a\))f(->)h(\(unit)f
(->)g('a\))h(->)f('a;)208 2714 y Fi(")p Fb(horiz)p 475
2714 V 28 w(vertic)f(h)j(v)p Fi(")32 b(\014rst)h(calls)f(")p
Fb(h)p Fi(")g(to)h(prin)n(t)g(the)h(data)f(horizon)n(tally)-7
b(,)32 b(i.e.)54 b(without)34 b(newlines.)53 b(If)34
b(the)f(dis-)208 2814 y(pla)n(ying)28 b(con)n(tains)g(newlines)i(or)e
(if)i(its)g(size)f(exceeds)g(the)h(maxim)n(um)f(line)g(length)h(\(see)f
(v)-5 b(ariable)29 b(")p Fb(line)p 3573 2814 V 29 w(length)p
Fi(")208 2914 y(b)r(elo)n(w\),)e(then)h(the)g(function)g(")p
Fb(h)p Fi(")f(stops)g(and)g(the)h(function)g(")p Fb(v)p
Fi(")f(is)g(called)g(whic)n(h)h(can)f(prin)n(t)h(using)f(sev)n(eral)f
(lines.)0 3064 y Fb(value)42 b(sprintf)e(:)87 b(format)41
b('a)i(unit)f(string)f(->)i('a;)208 3191 y Fi(")p Fb(sprintf)d(fmt)i
(...)p Fi(")33 b(formats)g(some)g(string)h(lik)n(e)f(")p
Fb(Printf.sprintf)p Fi(")28 b(do)r(es,)35 b(except)f(that,)i(if)f(it)f
(is)g(called)g(in)208 3290 y(the)h(con)n(text)g(of)h(the)g(*\014rst*)e
(function)i(of)f(")p Fb(horiz)p 1879 3290 V 29 w(vertic)p
Fi(")e(ab)r(o)n(v)n(e,)j(it)f(c)n(hec)n(ks)g(whether)g(the)h(resulting)
f(string)208 3390 y(has)40 b(c)n(hances)f(to)h(\014t)h(in)g(the)g
(line.)76 b(If)41 b(not,)i(i.e.)76 b(if)41 b(it)g(con)n(tains)f
(newlines)g(or)g(if)h(its)f(length)h(is)f(greater)f(than)208
3490 y(")p Fb(max)p 387 3490 V 29 w(line)p 592 3490 V
30 w(length.val)p Fi(",)24 b(the)k(function)h(giv)n(es)d(up)j
(\(raising)e(some)g(in)n(ternal)h(exception\).)38 b(Otherwise)27
b(the)h(built)208 3589 y(string)37 b(is)h(returned.)69
b(")p Fb(sprintf)p Fi(")35 b(b)r(eha)n(v)n(es)i(lik)n(e)h(")p
Fb(Printf.sprintf)o Fi(")32 b(if)39 b(it)g(is)f(called)g(in)h(the)f
(con)n(text)g(of)h(the)208 3689 y(*second*)26 b(function)i(of)f(")p
Fb(horiz)p 1245 3689 V 29 w(vertic)p Fi(")e(or)i(without)h(con)n(text)f
(at)g(all.)0 3839 y Fb(value)42 b(line)p 443 3839 V 29
w(length)f(:)87 b(ref)42 b(int;)208 3966 y Fi(")p Fb(line)p
431 3966 V 29 w(length)p Fi(")28 b(is)k(the)g(maxim)n(um)f(length)h
(\(in)g(c)n(haracters\))e(of)h(the)h(line.)49 b(Default)32
b(=)g(78.)48 b(Can)31 b(b)r(e)h(set)f(to)h(an)n(y)208
4065 y(other)27 b(v)-5 b(alue)27 b(b)r(efore)g(prin)n(ting.)0
4216 y Fb(value)42 b(horizontally)c(:)87 b(unit)42 b(->)h(bool;)208
4342 y Fi(")p Fb(horizontally)38 b(\(\))p Fi(")26 b(returns)h(the)h
(fact)g(that)g(the)g(con)n(text)f(is)g(an)g(horizon)n(tal)f(prin)n(t.)0
4611 y Fc(B.13)135 b(Deprecated)46 b(mo)t(dules)f(Stdpp)f(and)h(T)-11
b(ok)l(en)0 4793 y Fi(The)38 b(mo)r(dules)f(")p Fb(Stdpp)p
Fi(")e(and)i(")p Fb(Token)p Fi(")e(ha)n(v)n(e)i(b)r(een)h(deprecated)f
(since)g(v)n(ersion)f(5.00.)66 b(The)38 b(mo)r(dule)f(")p
Fb(Stdpp)p Fi(")e(w)n(as)0 4893 y(renamed)26 b(")p Fb(Ploc)p
Fi(")f(and)h(most)h(of)g(its)g(v)-5 b(ariables)26 b(and)g(t)n(yp)r(es)h
(w)n(ere)f(also)g(renamed.)36 b(The)27 b(mo)r(dule)g(")p
Fb(Token)p Fi(")d(w)n(as)i(renamed)0 4993 y(")p Fb(Plexing)p
Fi(")0 5192 y(Bac)n(kw)n(ard)f(compatibilit)n(y)i(is)h(assured.)35
b(See)28 b(the)f(\014les)h(")p Fb(stdpp.mli)p Fi(")23
b(and)k(")p Fb(token.mli)p Fi(")c(in)k(the)h(Camlp5)f(distribution)0
5291 y(to)e(con)n(v)n(ert)f(from)h(old)g(to)g(new)h(names,)f(if)h(an)n
(y)-7 b(.)35 b(After)26 b(sev)n(eral)e(v)n(ersions)f(or)h(y)n(ears,)h
(the)g(mo)r(dules)h(")p Fb(Stdpp)p Fi(")c(and)j(")p Fb(Token)p
Fi(")0 5391 y(will)j(disapp)r(ear)e(from)i(Camlp5.)1888
5656 y(214)p eop end
%%Page: 215 217
TeXDict begin 215 216 bop 0 1014 a Fd(App)5 b(endix)64
b(C)0 1431 y Fg(Camlp5)77 b(sources)0 1865 y Fi(Information)27
b(for)g(dev)n(elopp)r(ers)f(of)i(the)g(Camlp5)f(program.)0
2148 y Fc(C.1)135 b(Kernel)0 2332 y Fi(The)28 b(sources)e(are)g(comp)r
(osed)h(of:)125 2521 y Fh(\017)41 b Fi(the)28 b(OCaml)f(stu\013,)h
(copied)f(from)g(the)h(OCaml)f(compiler)125 2694 y Fh(\017)41
b Fi(the)28 b Fa(kernel)36 b Fi(comp)r(osed)27 b(of)h(the)g
(directories:)301 2866 y Ff({)41 b Fi(o)r(dyl)28 b(:)37
b(the)28 b(dynamic)f(loading)g(system)301 3002 y Ff({)41
b Fi(lib)28 b(:)37 b(the)28 b(library)301 3139 y Ff({)41
b Fi(main)28 b(:)37 b(the)28 b(main)f(program)f(camlp5)301
3275 y Ff({)41 b Fi(meta)28 b(:)37 b(the)28 b(parsers)d(for)j(revised)e
(syn)n(tax,)h(ast)g(quotations,)g(EXTEND)h(statemen)n(t,)f(etc/)125
3447 y Fh(\017)41 b Fi(the)28 b(rest:)36 b(directories)26
b(etc,)i(compile,)f(o)r(cpp)0 3636 y(Some)g(other)g(directories)g(con)n
(tain)f(con\014guration)g(\014les,)i(to)r(ols,)f(do)r(cumen)n(tation)h
(and)f(man)n(ual)g(pages.)0 3839 y(The)k(k)n(ernel)f(is)h(su\016cien)n
(t)g(to)g(mak)n(e)f(the)h(core)f(system)h(w)n(ork:)42
b(it)31 b(is)g(p)r(ossible)g(to)g(compile)g(and)f(b)r(o)r(otstrap)h
(only)f(it.)48 b(All)0 3938 y(sources)29 b(b)r(eing)h(in)g(revised)f
(syn)n(tax,)h(the)g(\014rst)g(compilation)f(of)h(Camlp5)g(is)f(done)h
(b)n(y)g(a)f(v)n(ersion)g(of)h(this)g(k)n(ernel)f(in)h(pure)0
4038 y(OCaml)d(syn)n(tax,)g(lo)r(cated)g(in)h(the)g(directory)e(o)r
(caml)p 1676 4038 25 4 v 29 w(src.)0 4240 y(These)h(sources)f(in)i
(pure)f(OCaml)g(syn)n(tax)g(are)f(not)i(mo)r(di\014ed)g(b)n(y)f(hand.)
37 b(When)28 b(c)n(hanges)e(are)h(made)g(to)h(the)g(k)n(ernel,)e(and)0
4340 y(a)i(c)n(hec)n(k)g(is)g(done)h(that)g(it)g(correctly)e(compiles)h
(and)h(b)r(o)r(otstraps,)f(the)h(k)n(ernel)e(in)i(pure)f(OCaml)g(syn)n
(tax)g(is)h(rebuilt)f(using)0 4440 y(Camlp5)f(prett)n(y)g(prin)n(t.)37
b(This)28 b(is)f(done)g(b)n(y)h(the)g(command)f("mak)n(e)f(b)r(o)r
(otstrap)p 2519 4440 V 29 w(sources".)0 4723 y Fc(C.2)135
b(Compatibilit)l(y)0 4907 y Fi(This)27 b(distribution)h(of)g(Camlp5)e
(is)i(compatible)f(with)h(sev)n(eral)e(v)n(ersions)g(of)h(OCaml.)36
b(The)28 b(de\014nition)g(of)f(OCaml)g(syn)n(tax)0 5007
y(trees)32 b(ma)n(y)f(c)n(hange)g(from)h(OCaml)g(v)n(ersion)e(to)i(v)n
(ersion,)g(whic)n(h)h(can)e(b)r(e)i(a)f(problem.)50 b(Since)32
b(OCaml)g(do)r(es)g(not)g(install)0 5107 y(the)c(sources)f(nor)g(the)h
(compiled)g(v)n(ersions)e(of)i(its)g(syn)n(tax)f(tree,)g(a)h(cop)n(y)f
(of)h(the)g(necessary)e(source)h(\014les,)h(b)r(orro)n(w)n(ed)d(from)0
5206 y(the)g(source)f(of)h(the)h(OCaml)e(compiler)g(is)h(in)h(the)f
(directory)f('o)r(caml)p 2152 5206 V 29 w(stu\013)6 b(',)27
b(in)e(sub)r(directories)f(with)i(the)f(OCaml)g(v)n(ersion)0
5306 y(n)n(um)n(b)r(er.)1888 5656 y(215)p eop end
%%Page: 216 218
TeXDict begin 216 217 bop 0 70 a Fi(APPENDIX)27 b(C.)56
b(CAMLP5)27 b(SOUR)n(CES)p 0 103 3900 4 v 0 390 a(If)h(the)h(presen)n
(t)e(distribution)h(of)g(Camlp5)f(is)h(not)g(compatible)f(with)i(the)f
(v)n(ersion)e(of)i(OCaml)f(y)n(ou)g(ha)n(v)n(e)g(\(the)h(command)0
490 y('con\014gure')40 b(tells)i(y)n(ou\),)i(it)e(is)f(p)r(ossible)h
(to)f(add)g(it.)79 b(F)-7 b(or)41 b(that,)k(y)n(ou)40
b(need)i(the)g(sources)e(to)h(y)n(our)f(sp)r(eci\014c)i(OCaml)0
589 y(distribution.)37 b(If)28 b(y)n(ou)f(ha)n(v)n(e)f(them)i(then)h(a)
e('con\014gure')f(telling)i(y)n(ou)f(that)h(camlp5)f(is)g(not)h
(compatible,)f(do:)87 756 y Fb(make)42 b(steal)g(OCAML_SRC=<path)o(-to)
o(-O)o(Cam)o(l-)o(so)o(urc)o(es)o(>)0 922 y Fi(This)28
b(creates)e(a)h(new)h(directory)e(in)i('o)r(caml)p 1400
922 25 4 v 29 w(stu\013)6 b(')29 b(with)f(sources)e(of)i(the)g(syn)n
(tax)f(tree)g(of)g(y)n(our)g(OCaml)g(compiler.)0 1122
y(If)h(y)n(ou)g(w)n(an)n(t)f(to)h(c)n(hec)n(k)f(that)h(the)g(sources)f
(of)h(the)g(syn)n(tax)f(tree)h(of)g(OCaml)f(are)g(up-to-date)g(\(e.g.)
38 b(if)28 b(this)h(is)f(the)g(curren)n(t)0 1221 y(OCaml)f(dev)n(elopp)
r(emen)n(t\),)h(do:)87 1388 y Fb(make)42 b(compare_stolen)c
(OCAML_SRC=<path-)o(to)o(-OC)o(am)o(l-s)o(ou)o(rc)o(es>)0
1554 y Fi(The)24 b(compatibilit)n(y)f(is)g(also)g(done)g(with)h(the)g
(\014le)g('main/ast2pt.ml',)g(whic)n(h)f(is)g(the)h(mo)r(dule)g(con)n
(v)n(erting)e(Camlp5)h(syn)n(tax)0 1654 y(tree)k(in)n(to)h(OCaml)f(syn)
n(tax)f(tree.)0 1853 y(In)h(the)h(directory)d('o)r(caml)p
841 1853 V 30 w(src')h(whic)n(h)h(con)n(tains)f(the)h(pure)g(OCaml)g
(sources)e(of)i(the)g(Camlp5)g(core)f(\(see)h(c)n(hapter)f(TREE)0
1953 y(STR)n(UCTURE)39 b(b)r(elo)n(w\),)k(there)c(are)f(as)h(man)n(y)g
(v)n(ersions)f(of)h(this)h(\014les)f(as)g(v)n(ersions)e(of)j(OCaml.)71
b(They)40 b(are)e(named)0 2052 y('ast2pt.ml)p 370 2052
V 30 w(<v)n(ersion>'.)h(If)30 b(y)n(ou)e(are)g(adding)g(a)h(new)g(v)n
(ersion)e(of)i(OCaml,)f(y)n(ou)h(need)g(this)g(\014le.)41
b(As)29 b(a)f(\014rst)h(step,)g(mak)n(e)f(a)0 2152 y(cop)n(y)f(from)g
(a)g(close)g(v)n(ersion:)87 2319 y Fb(cd)43 b(ocaml_src/main)87
2418 y(cp)g(ast2pt.ml_<close)o(_v)o(ers)o(io)o(n>)37
b(ast2pt.ml_<versio)o(n>)0 2585 y Fi(Then,)21 b(y)n(ou)d(can)h(rerun)g
("con\014gure")d(and)j(do)g("mak)n(e)f(core".)33 b(If)19
b(the)h(\014le)f('o)r(caml)p 2502 2585 V 29 w(src/main/ast2pt.ml')e
(has)i(a)g(compilation)0 2684 y(problems,)27 b(\014x)h(them)g(and)f(to)
h('mak)n(e)e(core')h(again.)0 2884 y(Later,)33 b(the)g(same)f(\014le)h
('main/ast2pt.ml')f(in)g(Camlp5)g(syn)n(tax)g(ma)n(y)g(ha)n(v)n(e)f
(similar)h(compilation)g(problems.)51 b(There)32 b(is)0
2983 y(only)27 b(a)g(single)g(v)n(ersion)f(of)i(this)g(\014le,)g
(thanks)f(to)h(IFDEF)f(constructs)g(used)h(here)f(or)g(there.)0
3182 y(While)c(compiling)g(with)g(some)f(sp)r(eci\014c)h(v)n(ersion)e
(of)i(OCaml,)g(this)g(\014le)g(is)g(compiled)g(with)g('OCAML)p
3192 3182 V 30 w(v)n(ers')e(de\014ned)j(where)0 3282
y('v)n(ers')g(is)h(the)g(v)n(ersion)f(n)n(um)n(b)r(er)h(form)f(the)i(b)
r(eginning)f(to)g(the)g(\014rst)g(space)f(or)g(c)n(harcter)g('+')h
(with)g(all)g(dots)g(con)n(v)n(erted)e(in)n(to)0 3382
y(underscores.)47 b(F)-7 b(or)31 b(example,)h(if)h(y)n(our)d(OCaml)h(v)
n(ersion)f(is)i(7.04.2+dev35,)d(y)n(ou)i(can)g(see)g(in)h(the)g
(compilation)f(pro)r(cess)0 3481 y(of)h(ast2pt.ml)g(that)g(OCAML)p
977 3481 V 30 w(7)p 1049 3481 V 29 w(04)p 1162 3481 V
29 w(2)f(is)h(de\014ned,)i(and)d(y)n(ou)g(can)h(add)g(statemen)n(ts)f
(de\014ned)i(b)n(y)e(the)i(syn)n(tax)e(extension)0 3581
y('pa)p 116 3581 V 30 w(macro.cmo',)23 b(for)i(example)f(IFDEF)h(OCAML)
p 1654 3581 V 30 w(7)p 1726 3581 V 29 w(04)p 1839 3581
V 29 w(2.)35 b(Add)26 b(statemen)n(ts)e(lik)n(e)g(that)h(in)g
('main/ast2pt.ml')f(to)h(mak)n(e)0 3681 y(it)j(compile)f(successfully)
-7 b(.)0 3952 y Fc(C.3)135 b(T)-11 b(ree)45 b(structure)0
4134 y Fi(The)28 b(directory)e('o)r(caml)p 767 4134 V
30 w(src')h(con)n(tains)g(images)g(in)h(pure)f(OCaml)g(syn)n(tax)g(of)h
(the)g(directories)f(o)r(dyl)g(lib)i(main)e(and)h(meta.)0
4234 y(This)g(allo)n(ws)e(the)i(creation)e(of)i(a)f(core)f(v)n(ersion)h
(of)g(Camlp5)g(with)h(only)f(the)h(OCaml)f(compiler)g(installed.)0
4433 y(Y)-7 b(ou)28 b(can)f(decomp)r(ose)g(the)h(building)g(of)f(the)h
(Camlp5)f(core)g(in)n(to:)0 4600 y Ff(1.)42 b(mak)m(e)32
b(library)p 653 4600 29 4 v 35 w(cold)208 4729 y Fi(just)c(mak)n(es)e
(the)i(directory)f('o)r(caml)p 1361 4729 25 4 v 29 w(src/lib')g(and)g
(cop)n(y)g(the)h(cmo)f(and)g(cmi)h(\014les)g(in)n(to)f(the)h(directory)
e('b)r(o)r(ot')0 4889 y Ff(2.)42 b(mak)m(e)32 b(compile)p
693 4889 29 4 v 33 w(cold)208 5018 y Fi(mak)n(es)26 b(the)i(other)f
(directories)f(of)i(o)r(caml)p 1534 5018 25 4 v 29 w(src)0
5178 y Ff(3.)42 b(mak)m(e)32 b(promote)p 721 5178 29
4 v 34 w(cold)208 5308 y Fi(copies)f(the)h(executables)f("camlp5",)h
("camlp5r")d(and)j(the)g(syn)n(tax)f(extensions)h(\(cmo)f(\014les\))h
(in)n(to)g(the)g(directory)208 5407 y('b)r(o)r(ot')1888
5656 y(216)p eop end
%%Page: 217 219
TeXDict begin 217 218 bop 2514 70 a Fi(APPENDIX)27 b(C.)56
b(CAMLP5)27 b(SOUR)n(CES)p 0 103 3900 4 v 0 390 a(F)-7
b(rom)33 b(this)g(p)r(oin)n(t,)i(the)f(core)e(Camlp5)g(is)i(in)f
(directory)f('b)r(o)r(ot'.)54 b(The)33 b(real)f(sources)g(in)i(the)f
(top)g(directories)f(o)r(dyl,)j(lib,)0 490 y(main)d(and)h(meta,)h(whic)
n(h)e(are)g(written)g(in)h(revised)f(syn)n(tax)f(with)i(some)f(syn)n
(tax)g(extensions)g(\(grammars,)g(quotations\))0 589
y(can)27 b(b)r(e)h(compiled.)37 b(T)-7 b(o)27 b(ac)n(hiev)n(e)g(their)g
(compilation,)g(y)n(ou)g(can)g(do:)87 765 y Fb(make)42
b(core)0 941 y Fi(Or)27 b(to)g(compile)h(ev)n(erything)e(do:)87
1117 y Fb(make)42 b(all)0 1292 y Fi(or)27 b(just:)87
1468 y Fb(make)0 1644 y Fi(Notice)36 b(that)g(doing)g("mak)n(e)e(core")
h(or)g("mak)n(e)f(all")h(from)h(scratc)n(h)f(\(after)h(a)f(mak)n(e)g
(clean\),)j(automatically)d(starts)g(b)n(y)0 1743 y(making)27
b(the)h(core)e(\014les)i(from)f(their)h(pure)f(OCaml)g(v)n(ersions.)0
2017 y Fc(C.4)135 b(F)-11 b(ast)45 b(compilation)i(from)e(scratc)l(h)87
2199 y Fb(./configure)87 2298 y(make)d(clean)g(core)g(compare)87
2398 y(make)g(coreboot)87 2497 y(make)g(all)g(opt)h(opt.opt)0
2771 y Fc(C.5)135 b(T)-11 b(esting)45 b(c)l(hanges)0
2953 y Fi(1.)36 b(do)28 b(y)n(our)e(c)n(hanges)0 3152
y(2.)36 b(do:)87 3328 y Fb(make)42 b(core)g(compare)0
3503 y Fi(if)28 b(it)g(sa)n(ys)e(that)i(the)g(b)r(o)r(otstrap)f(is)h
(ok,)f(y)n(ou)f(can)i(do:)87 3679 y Fb(make)42 b(all)87
3779 y(make)g(opt)87 3878 y(make)g(opt.opt)0 4054 y Fi(otherwise,)27
b(to)g(mak)n(e)g(sure)g(ev)n(erything)f(is)i(ok,)f(\014rst)g(do:)87
4230 y Fb(make)42 b(coreboot)0 4405 y Fi(sometimes)32
b(t)n(w)n(o)g(b)r(o)r(otstraps)f(\('mak)n(e)h(coreb)r(o)r(ot')g(t)n
(wice\))g(are)g(necessary)-7 b(,)32 b(in)h(particular)e(if)i(y)n(ou)e
(c)n(hange)h(things)g(in)h(the)0 4505 y(directory)26
b('lib'.)38 b(It)28 b(is)f(ev)n(en)g(p)r(ossible)g(that)h(three)g(b)r
(o)r(otstraps)e(are)h(necessary)-7 b(.)0 4704 y(If)28
b(things)g(go)e(wrong,)h(it)h(is)f(p)r(ossible)g(to)h(return)f(to)g
(the)h(previous)f(v)n(ersion)f(b)n(y)h(t)n(yping:)87
4880 y Fb(make)42 b(restore)f(clean_hot)0 5056 y Fi(then)28
b(y)n(ou)f(can)g(c)n(hange)g(what)g(is)h(necessary)d(and)j(con)n(tin)n
(ue)f(b)n(y)g(t)n(yping:)87 5231 y Fb(make)42 b(core)0
5407 y Fi(and)27 b(test)h(the)g(b)r(o)r(otstrap)f(again:)1888
5656 y(217)p eop end
%%Page: 218 220
TeXDict begin 218 219 bop 0 70 a Fi(APPENDIX)27 b(C.)56
b(CAMLP5)27 b(SOUR)n(CES)p 0 103 3900 4 v 87 390 a Fb(make)42
b(coreboot)0 569 y Fi(After)23 b(sev)n(eral)d(b)r(o)r(otstraps)h(\(b)n
(y)i('mak)n(e)e(coreb)r(o)r(ot')g(or)h('mak)n(e)f(b)r(o)r(otstrap'\),)i
(man)n(y)f(v)n(ersions)e(are)i(pushed)g(in)h(the)f(directory)0
669 y('b)r(o)r(ot')34 b(\(y)n(ou)e(can)h(t)n(yp)r(e)h('\014nd)g(b)r(o)r
(ot)f(-t)n(yp)r(e)h(d)f(-prin)n(t')g(to)g(see)g(that\).)55
b(If)34 b(y)n(our)e(system)h(correctly)f(b)r(o)r(otstraps,)i(y)n(ou)e
(can)0 769 y(clean)27 b(that)h(b)n(y)f(t)n(yping:)87
948 y Fb(make)42 b(cleanboot)0 1127 y Fi(whic)n(h)28
b(k)n(eeps)e(only)i(t)n(w)n(o)e(v)n(ersions.)35 b(\(The)28
b(command)g('mak)n(e)e(clean')i(also)e(remo)n(v)n(es)g(these)h(stac)n
(k)g(of)h(v)n(ersions.\))0 1401 y Fc(C.6)135 b(Before)46
b(committing)g(y)l(our)f(c)l(hanges)0 1583 y Fi(Mak)n(e)27
b(sure)g(that)h(the)g(cold)f(start)g(with)h(pure)f(OCaml)g(sources)f(w)
n(ork.)36 b(F)-7 b(or)27 b(that,)h(do:)87 1762 y Fb(make)42
b(compare_sources)37 b(|)44 b(less)0 1941 y Fi(This)28
b(sho)n(ws)e(y)n(ou)h(the)h(c)n(hanges)e(that)i(w)n(ould)f(b)r(e)h
(done)f(in)h(the)g(OCaml)f(pure)h(sources)e(of)h(the)h(directory)e(o)r
(caml)p 3581 1941 25 4 v 30 w(src.)0 2140 y(T)-7 b(o)27
b(mak)n(e)g(the)h(new)g(v)n(ersions,)d(do:)87 2320 y
Fb(make)42 b(new_sources)87 2419 y(make)g(promote_sources)0
2598 y Fi(Notice)32 b(that)h(these)f(pure)g(OCaml)g(sources)e(are)i
(not)g(supp)r(osed)g(to)g(b)r(e)h(mo)r(di\014ed)f(b)n(y)g(hand,)i(but)e
(only)g(created)g(b)n(y)g(the)0 2698 y(ab)r(o)n(v)n(e)25
b(commands.)36 b(Although)26 b(their)h(source)e(is)h(prett)n(y)g(prin)n
(ted)h(they)f(are)g(usually)g(not)g(easy)g(to)g(read,)g(particularly)f
(for)0 2798 y(expanded)i(grammars)f(\(of)h(the)h(statemen)n(t)g
('EXTEND'\).)0 2997 y(If)g(these)g(sources)e(do)i(not)g(compile,)f(due)
h(to)g(c)n(hanges)e(in)i(the)g(OCaml)f(compiler,)h(it)g(is)g(p)r
(ossible)f(ho)n(w)n(ev)n(er)f(to)h(edit)h(them.)0 3096
y(In)g(this)g(case,)e(similar)h(c)n(hanges)f(ma)n(y)h(need)h(to)g(b)r
(e)g(p)r(erformed)f(in)h(the)g(normal)e(sources)g(in)i(revised)f(syn)n
(tax.)0 3296 y(After)j(doing)f('mak)n(e)g(new)p 837 3296
V 30 w(sources')f(ab)r(o)n(v)n(e,)h(and)h(b)r(efore)f(doing)g('mak)n(e)
g(promote)p 2626 3296 V 29 w(sources')g(b)r(elo)n(w,)h(it)g(is)f(p)r
(ossible)h(to)f(do)0 3395 y('mak)n(e)34 b(un)n(touc)n(h)p
543 3395 V 30 w(sources')g(whic)n(h)h(c)n(hanges)e(the)j(dates)f(of)g
(the)g(newly)g(created)g(\014les)g(with)g(the)h(dates)f(of)g(the)g(old)
g(\014les)0 3495 y(if)d(they)h(are)d(not)i(mo)r(di\014ed.)51
b(This)31 b(w)n(a)n(y)-7 b(,)32 b(the)h("svn)e(commit")g(will)h(not)g
(need)g(to)g(compare)f(these)h(\014les,)h(whic)n(h)e(ma)n(y)h(b)r(e)0
3595 y(imp)r(ortan)n(t)27 b(if)h(y)n(our)f(net)n(w)n(ork)f(is)h(not)h
(fast.)0 3794 y(The)36 b('mak)n(e)f(new)p 575 3794 V
30 w(sources')f(builds)i(a)f(directory)g(named)h('o)r(caml)p
2129 3794 V 29 w(src.new'.)61 b(If)36 b(this)g(directory)e(still)i
(exists,)i(due)e(to)f(a)0 3893 y(previous)27 b('mak)n(e)h(new)p
720 3893 V 30 w(sources',)f(the)i(command)g(fails.)39
b(In)29 b(this)g(case,)f(just)h(delete)f(it)h(\(rm)g(-rf)f(o)r(caml)p
3265 3893 V 30 w(src.new\))g(without)0 3993 y(problem:)36
b(this)28 b(directory)f(is)g(not)h(part)f(of)g(the)h(distribution,)g
(it)g(is)g(just)g(temp)r(orary)-7 b(.)0 4192 y(The)28
b('mak)n(e)e(clean)p 600 4192 V 30 w(sources')g(deletes)i(old)f(v)n
(ersions)f(of)h(o)r(caml)p 1975 4192 V 30 w(src,)g(k)n(eeping)f(only)i
(the)g(last)f(and)g(the)h(b)r(efore)g(last)f(ones.)0
4392 y(The)h(command:)87 4571 y Fb(make)42 b(bootstrap_source)o(s)0
4750 y Fi(is)27 b(a)h(shortcut)f(for:)87 4929 y Fb(make)42
b(new_sources)87 5029 y(make)g(untouch_sources)87 5128
y(make)g(promote_sources)87 5228 y(make)g(clean_sources)0
5407 y Fi(If)28 b(there)f(are)g(c)n(hanges)f(in)i(the)g(sp)r(eci\014c)g
(\014le)g('main/ast2pt.ml',)f(do)g(also:)1888 5656 y(218)p
eop end
%%Page: 219 221
TeXDict begin 219 220 bop 2514 70 a Fi(APPENDIX)27 b(C.)56
b(CAMLP5)27 b(SOUR)n(CES)p 0 103 3900 4 v 87 390 a Fb(make)42
b(compare_all_ast2)o(pt)0 571 y Fi(and)27 b(p)r(ossibly:)87
752 y Fb(make)42 b(bootstrap_all_as)o(t2p)o(t)0 932 y
Fi(b)r(ecause)27 b(this)h(\014le,)g(in)g('o)r(caml)p
966 932 25 4 v 29 w(src/main')e(directory)h(has)g(di\013eren)n(t)h(v)n
(ersions)d(according)h(to)i(the)g(OCaml)f(v)n(ersion.)0
1131 y(After)j(ha)n(ving)f(rebuilt)h(the)g(pure)g(OCaml)f(sources,)g(c)
n(hec)n(k)g(that)h(they)g(w)n(ork)e(b)n(y)i(rebuilding)f(ev)n(erything)
g(from)g(scratc)n(h,)0 1231 y(starting)e(with)h("con\014gure".)0
1505 y Fc(C.7)135 b(If)45 b(y)l(ou)g(c)l(hange)h(the)f(main)g(parser)0
1687 y Fi(If)24 b(y)n(ou)f(c)n(hange)f(the)i(main)g(parser)e('meta/pa)p
1429 1687 V 29 w(r.ml',)i(y)n(ou)f(should)g(c)n(hec)n(k)g(that)h(the)g
(quotations)f(expanders)f(of)i(syn)n(tax)e(tree)0 1787
y('meta/q)p 294 1787 V 29 w(MLast.ml')28 b(matc)n(h)f(the)h(new)g(v)n
(ersion.)35 b(F)-7 b(or)27 b(that,)h(do:)87 1967 y Fb(cd)43
b(meta)87 2067 y(make)f(compare_q_MLast)0 2248 y Fi(If)28
b(no)f(di\013erences)h(are)e(displa)n(y)n(ed,)h(it)h(means)f(that)h('q)
p 1716 2248 V 30 w(MLast.ml')f(is)h(ok,)f(relativ)n(ely)f(to)i('pa)p
2941 2248 V 29 w(r.ml'.)0 2447 y(Otherwise,)f(if)h(the)g(displa)n(y)n
(ed)e(di\013erences)i(seem)f(reasonable,)f(up)r(date)i(the)g(v)n
(ersion)e(b)n(y)h(t)n(yping:)87 2628 y Fb(make)42 b(bootstrap_q_MLas)o
(t)0 2808 y Fi(Then)32 b(returning)e(to)h(the)h(top)g(directory)-7
b(,)31 b(do)g('mak)n(e)g(core)f(compare')g(and)h(p)r(ossibly)g('mak)n
(e)g(coreb)r(o)r(ot')f(\(one)i(of)f(sev)n(eral)0 2908
y(times\))d(to)g(c)n(hec)n(k)e(the)i(correctness)e(of)i(the)g(\014le.)0
3107 y(And)g(don't)g(forget,)f(if)h(y)n(ou)f(w)n(an)n(t)g(to)g(commit,)
h(to)f(re-create)f(the)i(pure)g(OCaml)f(sources)f(lik)n(e)h(indicated)h
(ab)r(o)n(v)n(e.)0 3381 y Fc(C.8)135 b(Switc)l(hing)46
b(b)t(et)l(w)l(een)g(transitional)h(and)d(strict)i(mo)t(de)0
3563 y Fi(If)28 b(Camlp5)f(is)h(compiled)f(in)h(some)f(mo)r(de,)h(it)g
(is)f(p)r(ossible)g(to)h(c)n(hange)e(its)i(mo)r(de)g(in)g(t)n(w)n(o)f
(b)r(o)r(ostrapping)f(steps.)37 b(T)n(yp)r(e:)87 3744
y Fb(make)42 b(MODE=T)f(coreboot)0 3925 y Fi(to)27 b(switc)n(h)h(to)f
(transitional)g(mo)r(de,)h(or:)87 4105 y Fb(make)42 b(MODE=S)f
(coreboot)0 4286 y Fi(to)27 b(switc)n(h)h(to)f(strict)h(mo)r(de.)0
4485 y(After)g(t)n(w)n(o)f(\(necessary\))f(b)r(o)r(otstraps,)h(the)h(k)
n(ernel)f(is)g(compiled)h(in)f(the)h(new)g(mo)r(de.)37
b(Complete)28 b(the)g(compilation)f(b)n(y:)87 4666 y
Fb(make)42 b(MODE=T)f(all)i(opt)f(opt.opt)0 4847 y Fi(or:)87
5027 y Fb(make)g(MODE=S)f(all)i(opt)f(opt.opt)0 5208
y Fi(according)26 b(to)h(the)h(new)g(mo)r(de)g(y)n(ou)e(w)n(an)n(t)h
(to)h(use.)0 5407 y(Another)f(solution)h(is,)f(of)h(course,)e
(recompile)h(ev)n(erything)f(from)i(scratc)n(h:)1888
5656 y(219)p eop end
%%Page: 220 222
TeXDict begin 220 221 bop 0 70 a Fi(APPENDIX)27 b(C.)56
b(CAMLP5)27 b(SOUR)n(CES)p 0 103 3900 4 v 87 390 a Fb(make)42
b(clean)87 490 y(./configure)d(-transitional)87 589 y(make)j(world.opt)
0 772 y Fi(or:)87 955 y Fb(make)g(clean)87 1054 y(./configure)d
(-strict)87 1154 y(make)j(world.opt)1888 5656 y Fi(220)p
eop end
%%Page: 221 223
TeXDict begin 221 222 bop 0 1014 a Fd(App)5 b(endix)64
b(D)0 1431 y Fg(Ab)6 b(out)79 b(Camlp5)0 1865 y Ff(V)-8
b(ersion)208 2001 y Fi(5.08)0 2173 y Ff(Home)31 b(page)208
2309 y Fi(h)n(ttp://pauillac.inria.fr/~ddr/camlp5/)0
2482 y Ff(Author)208 2618 y Fi(Daniel)c(de)h(Rauglaudre,)e(INRIA)0
2791 y Ff(History)208 2927 y Fi(The)h(ideas)f(b)r(ehind)i(Camlp5)e(w)n
(ere)g(expressed)g(in)h(the)h(1990s)d(b)n(y)h(Mic)n(hel)h(Maun)n(y)-7
b(.)37 b(In)27 b(1996,)e(Daniel)i(de)g(Rauglau-)208 3026
y(dre)34 b(implemen)n(ted)h(the)h(\014rst)e(v)n(ersion)g(named)g
(Camlp4)h(\(the)g(four)g("p")f(standing)g(for)g("Pre-Pro)r
(cessor-Prett)n(y-)208 3126 y(Prin)n(ter"\).)f(In)23
b(2002,)f(Camlp4)g(w)n(as)g(main)n(tained)g(b)n(y)g(Mic)n(hel)h(Maun)n
(y)-7 b(,)23 b(and)g(later)f(extended)h(b)n(y)f(Nicolas)g(P)n
(ouillard,)208 3225 y(with)i(di\013eren)n(t)h(basic)f(ideas,)g(in)n
(tro)r(ducing)g(some)g(incompatibilities.)36 b(In)24
b(2006,)f(Daniel)i(de)f(Rauglaudre)f(restarted)208 3325
y(this)k(w)n(ork,)g(renaming)f(it)i(Camlp5.)0 3514 y
Fb(*)43 b(Copyright)d(\(c\))i(2007-2008,)e(INRIA)h(\(Institut)f
(National)g(de)j(Recherches)d(en)0 3614 y(*)j(Informatique)c(et)k
(Automatique\).)38 b(All)k(rights)f(reserved.)0 3714
y(*)i(Redistribution)38 b(and)k(use)h(in)f(source)g(and)g(binary)f
(forms,)g(with)h(or)h(without)0 3813 y(*)g(modification,)38
b(are)43 b(permitted)d(provided)g(that)i(the)g(following)e(conditions)f
(are)k(met:)0 3913 y(*)0 4012 y(*)218 b(*)43 b(Redistributions)37
b(of)43 b(source)e(code)h(must)g(retain)f(the)h(above)g(copyright)0
4112 y(*)305 b(notice,)40 b(this)i(list)g(of)h(conditions)c(and)k(the)f
(following)e(disclaimer.)0 4212 y(*)218 b(*)43 b(Redistributions)37
b(in)43 b(binary)e(form)h(must)g(reproduce)e(the)i(above)g(copyright)0
4311 y(*)305 b(notice,)40 b(this)i(list)g(of)h(conditions)c(and)k(the)f
(following)e(disclaimer)f(in)k(the)0 4411 y(*)305 b(documentation)38
b(and/or)j(other)h(materials)d(provided)i(with)h(the)g(distribution.)0
4511 y(*)218 b(*)43 b(Neither)d(the)j(name)f(of)g(INRIA,)g(nor)g(the)g
(names)g(of)g(its)h(contributors)38 b(may)43 b(be)0 4610
y(*)305 b(used)42 b(to)g(endorse)f(or)i(promote)e(products)f(derived)g
(from)i(this)g(software)f(without)0 4710 y(*)305 b(specific)40
b(prior)h(written)g(permission.)0 4809 y(*)0 4909 y(*)i(THIS)f
(SOFTWARE)e(IS)j(PROVIDED)d(BY)j(THE)g(REGENTS)d(AND)j(CONTRIBUTORS)38
b(``AS)k(IS'')g(AND)g(ANY)0 5009 y(*)h(EXPRESS)e(OR)i(IMPLIED)d
(WARRANTIES,)f(INCLUDING,)h(BUT)i(NOT)g(LIMITED)f(TO,)i(THE)f(IMPLIED)0
5108 y(*)h(WARRANTIES)d(OF)i(MERCHANTABILITY)c(AND)k(FITNESS)f(FOR)h(A)
h(PARTICULAR)d(PURPOSE)g(ARE)0 5208 y(*)j(DISCLAIMED.)c(IN)k(NO)g
(EVENT)e(SHALL)h(THE)g(REGENTS)f(AND)h(CONTRIBUTORS)d(BE)k(LIABLE)e
(FOR)h(ANY)0 5308 y(*)h(DIRECT,)e(INDIRECT,)f(INCIDENTAL,)f(SPECIAL,)h
(EXEMPLARY,)f(OR)k(CONSEQUENTIAL)38 b(DAMAGES)0 5407
y(*)43 b(\(INCLUDING,)c(BUT)k(NOT)f(LIMITED)f(TO,)h(PROCUREMENT)d(OF)k
(SUBSTITUTE)c(GOODS)j(OR)g(SERVICES;)1888 5656 y Fi(221)p
eop end
%%Page: 222 224
TeXDict begin 222 223 bop 0 70 a Fi(APPENDIX)27 b(D.)56
b(ABOUT)28 b(CAMLP5)p 0 103 3900 4 v 0 390 a Fb(*)43
b(LOSS)f(OF)h(USE,)f(DATA,)f(OR)i(PROFITS;)d(OR)j(BUSINESS)d
(INTERRUPTION\))f(HOWEVER)h(CAUSED)h(AND)0 490 y(*)i(ON)g(ANY)f(THEORY)
f(OF)i(LIABILITY,)d(WHETHER)g(IN)j(CONTRACT,)d(STRICT)h(LIABILITY,)e
(OR)k(TORT)0 589 y(*)g(\(INCLUDING)d(NEGLIGENCE)f(OR)k(OTHERWISE\))c
(ARISING)i(IN)i(ANY)f(WAY)g(OUT)h(OF)g(THE)f(USE)g(OF)h(THIS)0
689 y(*)g(SOFTWARE,)d(EVEN)i(IF)h(ADVISED)d(OF)j(THE)g(POSSIBILITY)c
(OF)j(SUCH)g(DAMAGE.)1888 5656 y Fi(222)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
